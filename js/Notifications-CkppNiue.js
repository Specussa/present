import{F as Y,a0 as $,aC as S,d as O,T as z,aR as J,x as Q,a1 as j}from"./vendor-@element-plus-CjGJe9ZW.js";import{g as k,o as E,A as C,T as B}from"./index-Df9dnFi6.js";import{H as X}from"./Header-Tr3szzHf.js";import{F as Z}from"./Footer-BOxObP9U.js";import{G as tt}from"./GoBack-CNfyCtw1.js";import{P as V}from"./ProfileList-JLy8OptG.js";import{P as ot}from"./ProfileFaq-C2ao3MZN.js";import{C as et}from"./Cubes-DnUxHSsH.js";import{B as st}from"./Back-ByWZzw5f.js";import{P as it}from"./Preloader-D5A2EOqr.js";import{E as x}from"./vendor-element-plus-Cew9W0b1.js";import{d as lt,e as d,m as y,U as at,c as R,R as e,I as b,a as t,J as f,u as o,P as n,M as L,D as M,Q as nt,al as I,o as v,O as P,L as ct}from"./vendor-@vue-Bz_wJ882.js";import{u as _t}from"./vendor-vue-i18n-DztdJ-Qd.js";import{_ as rt}from"./LogoSVG-CssJ0krg.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-router-0eOeNsIj.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./VideoPlayer-C1PUPNl4.js";const ut={key:1,class:"custom"},dt={class:"custom__container container"},ft={class:"custom__block"},mt={class:"custom__flex list_flex"},pt={class:"custom__left list_left"},vt={class:"custom__list list_scroll"},ht={class:"custom__right list_right"},gt={class:"breadcrumbs"},Ct={class:"breadcrumbs__list"},bt={class:"breadcrumbs__item"},It={class:"breadcrumbs__item"},Ft={class:"breadcrumbs__item"},Nt=["title"],Tt={class:"faq__icon"},St={class:"custom__select","is-mobile":!0},Ot={class:"profile__settings"},At={class:"profile__settings_title title_three"},wt={class:"profile__settings_list"},kt={class:"profile__settings_item"},Et={class:"profile__settings_info"},Bt={class:"profile__settings_header"},Vt={class:"profile__settings_head"},xt={class:"profile__settings_description text_four"},yt={class:"profile__settings_item"},Rt={class:"profile__settings_info"},Lt={class:"profile__settings_header"},Mt={class:"profile__settings_head"},Pt={class:"profile__settings_description text_four"},Ut={class:"profile__settings_item"},Dt={class:"profile__settings_info"},qt={class:"profile__settings_header"},Kt={class:"profile__settings_head"},Wt={class:"profile__settings_description text_four"},Gt={class:"profile__settings_actions"},Ht={class:"button__icon"},Yt={class:"ipopup__scroll popup__scroll"},$t={class:"ipopup__block popup__block"},zt=lt({__name:"Notifications",setup(Jt){const{t:a}=_t(),U=d(!1),F=d(!1),g=d(!1),N=()=>{g.value=!g.value,F.value=!F.value,g.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},A=d(k(C.CUBES,!1)),w=d(k(C.BACK,!1));y(()=>{const s=E(l=>{A.value=l},C.CUBES),i=E(l=>{w.value=l},C.BACK);at(()=>{s(),i()})});const _=d(!1),r=d(!1),u=d(!1),D=()=>{try{const s=localStorage.getItem(c.NOTIFICATIONS),i=localStorage.getItem(c.TWO_FACTOR),l=localStorage.getItem(c.EMAIL_NOTIFICATIONS);_.value=s!==null?s==="true":!1,r.value=i!==null?i==="true":!1,u.value=l!==null?l==="true":!1}catch(s){console.error("Ошибка при загрузке настроек из localStorage:",s),_.value=!0,r.value=!1,u.value=!0}},c={NOTIFICATIONS:"notifications",TWO_FACTOR:"twoFactorAuth",EMAIL_NOTIFICATIONS:"emailNotifications"},m=(s,i)=>{try{localStorage.setItem(s,i.toString())}catch(l){console.error(`Ошибка при сохранении настройки ${s} в localStorage:`,l),x.warning(a("profile.storageError"))}},q=s=>{_.value=s,m(c.NOTIFICATIONS,s)},K=s=>{r.value=s,m(c.TWO_FACTOR,s)},W=s=>{u.value=s,m(c.EMAIL_NOTIFICATIONS,s)};y(()=>{D()});const G=()=>{_.value=!1,r.value=!1,u.value=!1,m(c.NOTIFICATIONS,_.value),m(c.TWO_FACTOR,r.value),m(c.EMAIL_NOTIFICATIONS,u.value),["notifications","twoFactorAuth","emailNotifications"].forEach((s,i)=>{const l=new CustomEvent("animation-setting-changed",{detail:{key:s,value:[_.value,r.value,u.value][i]}});window.dispatchEvent(l)}),x.info(a("profile.resetMessage"))};return(s,i)=>{const l=I("RouterLink"),p=I("el-icon"),H=I("router-view"),T=I("el-switch");return v(),R(nt,null,[e(X),U.value?(v(),b(it,{key:0})):(v(),R("section",ut,[t("div",dt,[t("div",ft,[t("div",mt,[t("div",pt,[t("ul",vt,[e(V,{"is-mobile":!1})])]),t("div",ht,[t("div",gt,[t("ul",Ct,[t("li",bt,[e(tt)]),t("li",It,[e(l,{class:"breadcrumbs__link text_four",to:o(B).i18nRoute({name:"preloader"})},{default:f(()=>[P(n(o(a)("header.home")),1)]),_:1},8,["to"])]),t("li",Ft,[e(l,{class:"breadcrumbs__link text_four",to:o(B).i18nRoute({name:"notifications"})},{default:f(()=>[P(n(o(a)("header.notifications")),1)]),_:1},8,["to"])])]),t("button",{class:"breadcrumbs__instructions title_three",title:o(a)("header.instructions"),onClick:N},[t("span",Tt,[e(p,null,{default:f(()=>[e(o(Y))]),_:1})])],8,Nt)]),t("div",St,[e(V,{"is-mobile":!0}),e(H)]),i[3]||(i[3]=t("div",{class:"custom__content"},null,-1)),t("div",Ot,[t("h1",At,n(o(a)("profile.settingsNotifications")),1),t("div",wt,[t("div",kt,[t("div",Et,[t("div",Bt,[e(p,{class:"profile__settings_icon"},{default:f(()=>[e(o($))]),_:1}),t("h5",Vt,n(o(a)("profile.notifications")),1)]),t("p",xt,n(o(a)("profile.notificationsDescription")),1)]),e(T,{modelValue:_.value,"onUpdate:modelValue":i[0]||(i[0]=h=>_.value=h),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":o(S),"inactive-icon":o(O),onChange:q},null,8,["modelValue","active-icon","inactive-icon"])]),t("div",yt,[t("div",Rt,[t("div",Lt,[e(p,{class:"profile__settings_icon"},{default:f(()=>[e(o(z))]),_:1}),t("h5",Mt,n(o(a)("profile.twoFactor")),1)]),t("p",Pt,n(o(a)("profile.twoFactorDescription")),1)]),e(T,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=h=>r.value=h),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":o(S),"inactive-icon":o(O),onChange:K},null,8,["modelValue","active-icon","inactive-icon"])]),t("div",Ut,[t("div",Dt,[t("div",qt,[e(p,{class:"profile__settings_icon"},{default:f(()=>[e(o(J))]),_:1}),t("h5",Kt,n(o(a)("profile.emailNotifications")),1)]),t("p",Wt,n(o(a)("profile.emailNotificationsDescription")),1)]),e(T,{modelValue:u.value,"onUpdate:modelValue":i[2]||(i[2]=h=>u.value=h),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":o(S),"inactive-icon":o(O),onChange:W},null,8,["modelValue","active-icon","inactive-icon"])])]),t("div",Gt,[t("button",{class:"profile__settings_button button__second button",onClick:G},[t("span",Ht,[e(p,null,{default:f(()=>[(v(),b(ct(o(Q))))]),_:1})]),t("span",null,n(s.$t("profile.reset")),1)])])]),A.value?(v(),b(et,{key:0})):L("",!0),w.value?(v(),b(st,{key:1})):L("",!0)])])])])])),t("div",{class:M(["overlay_full",{active:F.value}]),onClick:N},null,2),t("div",{class:M(["ipopup popup",{active:g.value}])},[t("div",Yt,[t("div",$t,[t("button",{class:"ipopup__close popup__close",onClick:N},[e(p,null,{default:f(()=>[e(o(j))]),_:1})]),e(ot)])])],2),e(Z)],64)}}}),xo=rt(zt,[["__scopeId","data-v-2e4d8927"]]);export{xo as default};
