import{u as ne}from"./vendor-vue-router-0eOeNsIj.js";import{g as ae,A as Z,o as se,T as S}from"./index-C_0ThdCo.js";import{_ as T,a as le,T as re,L as ie}from"./LogoSVG-DlHvja-G.js";import{o as a,c as i,aB as de,a as e,d as _e,e as h,m as A,X as ce,U as ue,al as m,D as L,R as s,J as l,I as f,P as v,u as r,O as he,Q as M,a4 as N,M as w,L as V,E as pe,n as ve}from"./vendor-@vue-Bz_wJ882.js";import{u as ge}from"./vendor-vue-i18n-DztdJ-Qd.js";const me={},fe={class:"logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 206.382 79.841",width:"206.382004",height:"79.841003",fill:"none"};function we(B,g){return a(),i("svg",fe,g[0]||(g[0]=[de('<path class="logo__train" d="M0 0.351807C0 0.351807 51.7139 -1.96924 78 5.31287C104.286 12.595 141.382 42.2268 141.382 56.3369C141.382 70.4471 107.245 71.8228 107.245 71.8228L39 71.8228" fill-rule="nonzero" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" transform="matrix(-1,0,0,1,145.382,4.01831)" data-v-19f8a893></path><path class="logo__window" d="M0.0048235 0.738247C-0.522822 -4.32534 42.4006 17.9955 49 27L16.2912 27C15.8379 27 15.3926 26.8599 15.0001 26.5939C14.6075 26.3278 14.2815 25.9451 14.0549 25.4843C13.8283 25.0234 13.7089 24.5007 13.7089 23.9685L12.8482 9.82159C12.6674 5.08641 0.0048235 0.626082 0.0048235 0.738247Z" fill="currentColor" fill-rule="nonzero" transform="matrix(-1,0,0,1,72,11)" data-v-19f8a893></path><g class="logo__wifi" transform="translate(56, 15) scale(2)" data-v-19f8a893><path d="M8,3 C11.8659932,3 15,6.13400675 15,10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-19f8a893></path><path d="M8,6 C10.209139,6 12,7.790861 12,10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-19f8a893></path><path d="M8,9 C8.55228475,9 9,9.44771525 9,10 C9,10.5522847 8.55228475,11 8,11 C7.44771525,11 7,10.5522847 7,10 C7,9.44771525 7.44771525,9 8,9 Z" fill="currentColor" data-v-19f8a893></path></g><line class="logo__line logo__line_one" x1="106.382019" x2="188.382019" y1="25.8410034" y2="25.8410034" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" data-v-19f8a893></line><line class="logo__line logo__line_two" x1="120.382019" x2="202.382019" y1="50.8410034" y2="50.8410034" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" data-v-19f8a893></line><line class="logo__line logo__line_three" x1="102.382019" x2="184.382019" y1="75.8410034" y2="75.8410034" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" data-v-19f8a893></line>',6)]))}const ke=T(me,[["render",we],["__scopeId","data-v-19f8a893"]]),Ce={},xe={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"};function be(B,g){return a(),i("svg",xe,g[0]||(g[0]=[e("path",{d:"M7.44298 2.55732C7.26552 2.37984 6.97767 2.37981 6.80016 2.55729C6.62267 2.73481 6.62264 3.0226 6.80016 3.20011L8.14543 4.54544H2.57613C2.3251 4.54544 2.12158 4.74896 2.12158 4.99999C2.12158 5.25102 2.3251 5.45454 2.57613 5.45454H8.14537L6.80016 6.79975C6.62264 6.97726 6.62264 7.26505 6.80016 7.44256C6.88892 7.53132 7.00525 7.57569 7.12158 7.57569C7.23792 7.57569 7.35425 7.53132 7.44298 7.44256L9.56413 5.32141C9.74164 5.14393 9.74164 4.85611 9.56413 4.6786L7.44298 2.55732Z",fill:"currentColor"},null,-1),e("path",{d:"M4.69716 10C4.94819 10 5.15171 9.79648 5.15171 9.54545C5.15171 9.29442 4.94819 9.09091 4.69716 9.09091H1.21231V0.909091H4.69716C4.94819 0.909091 5.15171 0.705576 5.15171 0.454545C5.15171 0.203515 4.94819 0 4.69716 0H0.757768C0.506738 0 0.303223 0.203515 0.303223 0.454545V9.54545C0.303223 9.79648 0.506738 10 0.757768 10H4.69716Z",fill:"currentColor"},null,-1)]))}const ye=T(Ce,[["render",be]]),De={class:"header"},Le={class:"container header__container"},Ee={class:"header__block"},Se={class:"header__flex"},Me={class:"header__logo_image"},He={class:"header__logo_info"},Re={class:"header__logo_head"},ze={class:"header__logo_desc text_four"},Pe={class:"header__nav_list"},Ae=["onClick","title"],Ne={key:0,class:"header__nav_click"},Ve={class:"header__nav_button"},Te={class:"header__icon"},Be={class:"header__name text_small"},Ie={key:0,class:"header__plus"},$e={class:"header__nav_container container"},je={class:"header__nav_popup_block"},Oe={class:"header__nav_popup_flex"},Fe={class:"header__nav_lists"},Ge={class:"header__subnav_list"},Ue={class:"header__sublink_icon"},Ze={class:"header__sublink_name"},Qe={key:1,class:"header__subsubnav_list"},We={key:0,class:"header__subsublink_icon"},qe={class:"header__sublink_name"},Je={class:"header__right"},Ke={class:"header__language"},Xe={class:"header__theme"},Ye={class:"header__login_button"},et={class:"header__login_button"},tt={class:"header__login_button"},ot=_e({__name:"Header",setup(B){const g=ne(),{t:_}=ge(),I=h(!1),H=h(!1),b=h(!1),k=h(null),p=h(!1),y=h(!1);let $;const R=h(new Set),j=h([{index:0,name:"auth",title:"header.map",icon:"HomeFilled",route:"auth",hasDropdown:!1},{index:1,name:"map",title:"header.map",icon:"MapLocation",route:"map",hasDropdown:!1},{index:2,name:"history",title:"header.history",icon:"Notebook",route:"history",hasDropdown:!1},{index:3,name:"analytics",title:"header.analytics",icon:"PieChart",route:"analytics",hasDropdown:!1},{index:4,name:"cargo",title:"header.cargo",icon:"Van",route:"cargo",hasDropdown:!0,dropdownItems:[{title:"header.instructions",route:"icargo",icon:"QuestionFilled",subItems:[{title:"header.cargorailway",route:"cargorailway",icon:"Switch"},{title:"header.cargocouplings",route:"cargocouplings",icon:"Connection"}]}]},{index:5,name:"repair",title:"header.repair",icon:"WindPower",route:"repair",hasDropdown:!1},{index:6,name:"reports",title:"header.reports",icon:"Files",route:"reports",hasDropdown:!1},{index:7,name:"journal",title:"header.journal",icon:"Reading",route:"journal",hasDropdown:!1},{index:8,name:"service",title:"header.service",icon:"Service",route:"service",hasDropdown:!0,dropdownItems:[{subItems:[{title:"header.objectEditor",route:"objectEditor"},{title:"header.normalization",route:"normalization"},{title:"header.workModes",route:"workModes"},{title:"header.dataExport",route:"dataExport"},{title:"header.importData",route:"importData"},{title:"header.repairService",route:"repairService"},{title:"header.driverController",route:"driverController"},{title:"header.routeList",route:"routeList"},{title:"header.personnel",route:"personnel"},{title:"header.interRepairMileage",route:"interRepairMileage"},{title:"header.repairPlan",route:"repairPlan"},{title:"header.enterprises",route:"enterprises"},{title:"header.locomotives",route:"locomotives"},{title:"header.notificationSettings",route:"notificationSettings"}]}]},{index:9,name:"help",title:"header.help",icon:"Help",route:"help",hasDropdown:!0,dropdownItems:[{title:"header.instructions",route:"instructions",icon:"QuestionFilled",subItems:[{title:"header.news",route:"news",icon:"Promotion"},{title:"header.documentation",route:"documentation",icon:"Document"},{title:"header.support",route:"support",icon:"ChatDotRound"}]}]}]),Q=()=>{g.push({name:"profile"}),p.value=!1},W=()=>{g.push({name:"custom"}),p.value=!1},q=()=>{console.log("Logout clicked"),p.value=!1},O=()=>{b.value=!b.value,H.value=!H.value,I.value=!I.value,b.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},J=(n,t)=>{n.target.closest("a")||(n.stopPropagation(),R.value.has(t)&&(k.value=k.value===t?null:t))},K=()=>{k.value=null},X=()=>{ve(()=>{const n=new Set;j.value.forEach(t=>{t.hasDropdown&&n.add(t.index)}),R.value=n,console.log("Auto-detected dropdown indices:",Array.from(n))})};A(()=>{document.addEventListener("click",n=>{n.target.closest(".header__nav_item")||K()}),document.addEventListener("click",n=>{const t=n.target;!t.closest(".header__login")&&!t.closest(".el-dropdown")&&(p.value=!1)})});const E=h({}),D=h(!1),Y=n=>{var C;const t=`.header__nav_item:nth-child(${n+1}) .header__nav_popup`,c=document.querySelector(t);if(!c)return 300;const u=c.cloneNode(!0),z=c.style.display;c.style.display="none",(C=c.parentNode)==null||C.insertBefore(u,c.nextSibling),u.style.cssText=`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: block;
    visibility: visible;
    opacity: 1;
    max-height: none;
    z-index: -1000;
    pointer-events: none;
  `;const P=u.scrollHeight;return u.remove(),c.style.display=z,P||300},F=()=>{requestAnimationFrame(()=>{if(D.value=window.innerWidth<=1279,D.value){const n={};R.value.forEach(t=>{n[t]=Y(t)}),E.value=n}else E.value={}})},G=()=>{const n=window.innerWidth<=1279;n!==D.value&&(y.value=!0,clearTimeout($),$=window.setTimeout(()=>{y.value=!1,F()},250)),D.value=n};A(()=>{X(),F(),window.addEventListener("resize",G)}),ce(()=>{window.removeEventListener("resize",G)});const U=h(ae(Z.LOGO,!1));return A(()=>{const n=se(t=>{U.value=t},Z.LOGO);ue(()=>{n()})}),(n,t)=>{const c=m("RouterLink"),u=m("el-icon"),z=m("Plus"),P=m("Avatar"),C=m("ElDropdownItem"),ee=m("Setting"),te=m("ElDropdownMenu"),oe=m("ElDropdown");return a(),i(M,null,[e("div",{class:L(["overlay",{active:H.value}]),onClick:O},null,2),e("header",De,[e("div",Le,[e("div",Ee,[e("div",Se,[s(c,{class:"header__logo",to:r(S).i18nRoute({name:"map"})},{default:l(()=>[e("div",Me,[U.value?(a(),f(ke,{key:0})):(a(),f(ie,{key:1}))]),e("div",He,[e("p",Re,[e("span",null,v(r(_)("header.em")),1),he("-"+v(r(_)("header.dispatcher")),1)]),e("p",ze,v(r(_)("header.smt")),1)])]),_:1},8,["to"]),e("nav",{class:L(["header__nav",{active:b.value&&!y.value,resizing:y.value}])},[e("ul",Pe,[(a(!0),i(M,null,N(j.value,o=>(a(),i("li",{key:o.index,class:L(["header__nav_item",{active:k.value===o.index}]),onClick:d=>J(d,o.index),title:r(_)(o.title)},[o.hasDropdown?(a(),i("button",Ne)):w("",!0),e("div",Ve,[s(c,{class:"header__link text_one",to:r(S).i18nRoute({name:o.route})},{default:l(()=>[e("span",Te,[s(u,null,{default:l(()=>[(a(),f(V(o.icon)))]),_:2},1024)]),e("span",Be,v(r(_)(`header.${o.name}`)),1)]),_:2},1032,["to"]),o.hasDropdown?(a(),i("span",Ie,[s(u,null,{default:l(()=>[s(z)]),_:1})])):w("",!0)]),o.hasDropdown&&o.dropdownItems?(a(),i("div",{key:1,class:L(["header__nav_popup",{active:k.value===o.index}]),style:pe(D.value&&!y.value&&o.hasDropdown?{"max-height":k.value===o.index?`${E.value[o.index]||0}px`:"0px","transition-duration":`${(E.value[o.index]||0)/1e3+.1}s`}:{})},[e("div",$e,[e("div",je,[e("div",Oe,[e("div",Fe,[e("ul",Ge,[(a(!0),i(M,null,N(o.dropdownItems,d=>(a(),i("li",{key:"title"in d?d.title:"dropdown",class:"header__subnav_item"},["title"in d?(a(),f(c,{key:0,class:"header__sublink text_three",to:r(S).i18nRoute({name:d.route}),title:r(_)(d.title)},{default:l(()=>[e("span",Ue,[d.icon?(a(),f(u,{key:0},{default:l(()=>[(a(),f(V(d.icon)))]),_:2},1024)):w("",!0)]),e("span",Ze,v(r(_)(d.title)),1)]),_:2},1032,["to","title"])):w("",!0),d.subItems&&d.subItems.length>0?(a(),i("ul",Qe,[(a(!0),i(M,null,N(d.subItems,x=>(a(),i("li",{key:x.route,class:"header__subsubnav_item"},[s(c,{class:"header__subsublink text_two",to:r(S).i18nRoute({name:x.route}),title:r(_)(x.title)},{default:l(()=>[x.icon?(a(),i("span",We,[s(u,null,{default:l(()=>[(a(),f(V(x.icon)))]),_:2},1024)])):w("",!0),e("span",qe,v(r(_)(x.title)),1)]),_:2},1032,["to","title"])]))),128))])):w("",!0)]))),128))])])])])])],6)):w("",!0)],10,Ae))),128))])],2),e("div",Je,[e("button",{class:L(["header__burger",{active:b.value}]),onClick:O},t[3]||(t[3]=[e("svg",{viewBox:"0 0 100 100",width:"80"},[e("path",{class:"header__burger_line header__burger_top",d:"m 30,33 h 40 c 3.722839,0 7.5,3.126468 7.5,8.578427 0,5.451959 -2.727029,8.421573 -7.5,8.421573 h -20"}),e("path",{class:"header__burger_line header__burger_middle",d:"m 30,50 h 40"}),e("path",{class:"header__burger_line header__burger_bottom",d:"m 70,67 h -40 c 0,0 -7.5,-0.802118 -7.5,-8.365747 0,-7.563629 7.5,-8.634253 7.5,-8.634253 h 20"})],-1)]),2),e("div",Ke,[s(le)]),e("div",Xe,[s(re)]),s(oe,{visible:p.value,"onUpdate:visible":t[1]||(t[1]=o=>p.value=o),trigger:"click",placement:"bottom-end",onVisibleChange:t[2]||(t[2]=o=>p.value=o)},{dropdown:l(()=>[s(te,{class:"header__login_list"},{default:l(()=>[s(C,{class:"header__login_item",onClick:Q},{default:l(()=>[e("div",Ye,[e("span",null,v(r(_)("header.profile")),1),s(u,{class:"header__login_svg header__login_svg_profile"},{default:l(()=>[s(P)]),_:1})])]),_:1}),s(C,{class:"header__login_item",onClick:W},{default:l(()=>[e("div",et,[e("span",null,v(r(_)("header.custom")),1),s(u,{class:"header__login_svg header__login_svg_custom"},{default:l(()=>[s(ee)]),_:1})])]),_:1}),s(C,{class:"header__login_item",onClick:q},{default:l(()=>[e("div",tt,[e("span",null,v(r(_)("header.logout")),1),s(ye,{class:"header__login_svg header__login_svg_exit"})])]),_:1})]),_:1})]),default:l(()=>[e("div",{class:"header__login",onClick:t[0]||(t[0]=o=>p.value=!p.value)},t[4]||(t[4]=[e("div",{class:"header__login_flex"},[e("div",{class:"header__login_icon"},"a"),e("div",{class:"header__login_name"},"admin")],-1)]))]),_:1},8,["visible"])])])])])]),t[5]||(t[5]=e("section",{class:"top"},null,-1))],64)}}}),it=T(ot,[["__scopeId","data-v-982e7da2"]]);export{ye as E,it as H};
