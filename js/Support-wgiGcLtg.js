import{B as se,v as Ze,P as et,M as tt,X as O,as as st,aj as be,at as ot,ap as lt,O as ge,au as ye,a0 as at}from"./vendor-@element-plus-DJ55j-yS.js";import{F as pt}from"./api-DFSG_ReX.js";import{H as ut}from"./Header-DifcjWJ1.js";import{F as nt}from"./Footer-D4qMeZd5.js";import{H as we}from"./HelpList-BnhinVOl.js";import{_ as it}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-RIvakrk_.js";import{C as rt}from"./Cubes-umOg39b5.js";import{B as _t}from"./Back-BcQOdGe-.js";import{P as dt}from"./Preloader-CTjq2Blf.js";import{T as ct,_ as mt}from"./index-CXQX6UJ3.js";import{f as vt,E as g}from"./vendor-element-plus-CoIo5P0c.js";import{d as ft,e as h,b as w,k as ht,c as f,R as o,I as P,a as e,J as r,u as l,P as u,E as bt,M as z,D as T,Q as J,a4 as oe,al as y,o as c,O as K,L as Q}from"./vendor-@vue-Bz_wJ882.js";import{u as gt}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./LogoSVG-FdJAhbjC.js";import"./vendor-vue-router-0eOeNsIj.js";import"./GoBack-fGQkXZsr.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";const yt={key:1,class:"support"},wt={class:"support__container container"},xt={class:"support__block"},kt={class:"support__flex list_flex"},Ct={class:"support__left list_left"},Vt={class:"support__list list_scroll"},Ft={class:"support__right list_right"},zt={class:"breadcrumbs"},Dt={class:"breadcrumbs__list"},Lt={class:"breadcrumbs__item"},St={class:"support__select"},Et={class:"support__content"},Rt={class:"support__add"},Tt={class:"button__icon"},At={class:"support__table"},Ut={class:"el-table_title"},$t={class:"el-table_count text_four"},Bt={class:"el-table_arrow"},Mt={class:"support__actions"},Ot={class:"table_empty"},Pt={key:0,class:"repair__bottom"},jt={class:"repair__bottom_left"},It={class:"repair__search el-table_search_radius"},qt={class:"support_details__scroll popup__scroll_buttons"},Ht={class:"support_details__block popup__block"},Nt={class:"support_details__head popup__head"},Gt={class:"support_details__info"},Jt={class:"support_details__row"},Kt={class:"support_details__field"},Qt={class:"support_details__label text_four"},Xt={class:"support_details__field"},Wt={class:"support_details__label text_four"},Yt={key:0,class:"support_details__row"},Zt={key:0,class:"support_details__field"},es={class:"support_details__label text_four"},ts={key:1,class:"support_details__field"},ss={class:"support_details__label text_four"},os={class:"support_details__field"},ls={class:"support_details__label text_four"},as={class:"support_details__field"},ps={class:"support_details__label text_four"},us={key:0,class:"support_details__reply"},ns={class:"support_details__reply_head"},is={class:"support_details__reply_content"},rs={key:0,class:"support_details__files"},_s={class:"support_details__files_list"},ds={class:"support_details__file_name"},cs={class:"support_details__file_size"},ms={class:"support_details__admin_reply"},vs={class:"support_details__reply_head"},fs={class:"support_details__upload"},hs={class:"support_popup__area_text"},bs={class:"support_popup__area_title"},gs={class:"support_popup__area_subtitle text_four"},ys={class:"support_popup__upload_tip text_four"},ws={key:0,class:"support_popup__files"},xs={class:"support_popup__files_header"},ks={class:"text_four"},Cs={class:"support_popup__files_list"},Vs={class:"support_popup__info"},Fs={class:"support_popup__details"},zs={class:"support_popup__name text_three"},Ds={class:"support_popup__size text_four"},Ls=["onClick"],Ss={class:"popup__buttons popup__buttons_one"},Es={class:"support_delete__scroll popup__scroll_buttons"},Rs={class:"support_delete__block popup__block"},Ts={class:"support_delete__head popup__head"},As={class:"popup__message"},Us={class:"support_delete__text text_two"},$s={class:"popup__buttons"},Bs={class:"support_popup__scroll popup__scroll_buttons"},Ms={class:"support_popup__block popup__block"},Os={class:"support_popup__head popup__head"},Ps={class:"support_popup__upload"},js={class:"support_popup__area_text"},Is={class:"support_popup__area_title"},qs={class:"support_popup__area_subtitle text_four"},Hs={class:"support_popup__upload_tip text_four"},Ns={key:0,class:"support_popup__files"},Gs={class:"support_popup__files_header"},Js={class:"text_four"},Ks={class:"support_popup__files_list"},Qs={class:"support_popup__info"},Xs={class:"support_popup__details"},Ws={class:"support_popup__name text_three"},Ys={class:"support_popup__size text_four"},Zs=["onClick"],eo={class:"support_details__buttons popup__buttons"},to=ft({__name:"Support",setup(so){const{t:s}=gt(),xe=h(!1),L=h(!1),j=h(!1),I=h([]),q=h(!1),le=h(),A=h(!1),$=h(!1),k=h(!1),x=h(!1),U=h(""),D=h([]),S=h([]),C=w(()=>[...D.value,...S.value.map(a=>({name:a.name,size:a.size,type:a.type}))]),H=h(!1),ke=()=>{L.value=!1,j.value=!1,A.value=!1,$.value=!1,document.documentElement.classList.remove("noscroll")},Ce=()=>{L.value=!0,j.value=!0,document.documentElement.classList.add("noscroll")},X=()=>{L.value=!1,j.value=!1,document.documentElement.classList.remove("noscroll")},W=()=>{A.value=!A.value,L.value=!L.value,setTimeout(()=>{D.value=[...n.value.replyFiles||[]]},1),A.value&&n.value&&(D.value=n.value.replyFiles||[],S.value=[],U.value=n.value.answer||""),A.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},N=()=>{$.value=!$.value,L.value=!L.value,$.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},m=ht({theme:"",message:"",files:[],email:""}),ae=w(()=>[s("support.themes.map"),s("support.themes.history"),s("support.themes.analytics"),s("support.themes.cargo"),s("support.themes.repair"),s("support.themes.reports"),s("support.themes.service"),s("support.themes.help")]),Ve=w(()=>`${s("elmessage.formSuccess")}`),Fe=w(()=>`${s("elmessage.formError")}`),ze=w(()=>`${s("elmessage.requiredError")}`),De=w(()=>`${s("elmessage.send")}`),G=w(()=>`${s("elmessage.countFiles")}`),pe=w(()=>`${s("elmessage.fileSize")}`),ue=w(()=>`${s("elmessage.fileFormat")}`),ne=w(()=>`${s("elmessage.fileAlready")}`),Le=(a,t)=>{const _=a?ae.value.filter(i=>i.toLowerCase().includes(a.toLowerCase())):ae.value;t(_.map(i=>({value:i})))},ie=w(()=>({theme:[{required:!0,message:s("form.themes"),trigger:"change"}],email:[{required:!0,message:s("form.email"),trigger:"blur"},{type:"email",message:s("form.correctEmail"),trigger:"blur"}],message:[{required:!0,message:s("form.message"),trigger:"blur"}]})),re=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(pe.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(v=>t.type.includes(v)))return g.error(ue.value),!1;if(m.files.some(v=>v.name===t.name&&v.size===t.size))return g.warning(ne.value),!1;const b={name:t.name,size:t.size,type:t.type};m.files.push(b)},_e=a=>{const t=m.files.findIndex(_=>_.name===a.name);t!==-1&&m.files.splice(t,1)},Se=a=>{a.preventDefault(),m.files.length<5&&(q.value=!0)},Ee=a=>{a.preventDefault(),q.value=!1},Re=a=>{var _;if(a.preventDefault(),q.value=!1,m.files.length>=5){g.warning(G.value);return}const t=(_=a.dataTransfer)==null?void 0:_.files;t&&Array.from(t).forEach(i=>{if(m.files.length>=5)return;const d={raw:i,name:i.name};re(d)})},Y=a=>{if(a===0)return"0 Bytes";const t=1024,_=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,i)).toFixed(2))+" "+_[i]},Z=a=>{var E;const t=((E=a.split(".").pop())==null?void 0:E.toLowerCase())||"",_=["jpg","jpeg","png","gif","bmp","webp","svg"],i=["mp4","avi","mov","wmv","flv","webm"],d=["pdf","doc","docx"],b=["zip","rar","7z","tar","gz"],v=["xls","xlsx","csv"];return _.includes(t)?"image":i.includes(t)?"video":d.includes(t)?"document":b.includes(t)?"archive":v.includes(t)?"spreadsheet":t==="txt"?"text":"unknown"},ee=a=>{const t={image:ot,video:lt,document:ge,archive:ye,spreadsheet:at,text:ge,unknown:ye};return t[a]||t.unknown},Te=()=>{m.files=[],I.value=[]},Ae=()=>{g.warning(G.value)},Ue=async a=>{if(a)try{await a.validate();const t=vt.service({lock:!0,text:De.value});try{await pt("post","/api/v1/support/",{}),console.log("Support form data:",m),g({message:Ve.value,type:"success"}),a.resetFields(),m.files=[],I.value=[],X()}catch(_){g({message:_.message||Fe.value,type:"error"})}finally{t.close()}}catch{g.error(ze.value)}},V=h(""),n=h({}),B=h(!0),de=w(()=>{let a=$e;return V.value&&(a=a.filter(t=>{var _,i,d,b,v,E,R;return((_=t.num)==null?void 0:_.toLowerCase().includes(V.value.toLowerCase()))||((i=t.date)==null?void 0:i.toLowerCase().includes(V.value.toLowerCase()))||((d=t.mail)==null?void 0:d.toLowerCase().includes(V.value.toLowerCase()))||((b=t.theme)==null?void 0:b.toLowerCase().includes(V.value.toLowerCase()))||((v=t.message)==null?void 0:v.toLowerCase().includes(V.value.toLowerCase()))||((E=t.answer)==null?void 0:E.toLowerCase().includes(V.value.toLowerCase()))||((R=t.status)==null?void 0:R.toLowerCase().includes(V.value.toLowerCase()))})),a}),$e=[{id:1,num:"001",date:"2024-01-15 10:30:00",mail:"user1@example.com",theme:"Проблема с картой",message:"Не отображаются маршруты...",answer:"Проблема решена в версии 2.1.5",status:"Закрыто",dateConfirmed:"2024-01-15 11:00:00",dateSolved:"2024-01-15 14:30:00",replyFiles:[{name:"screenshot.png",size:1024e3,type:"image/png"},{name:"logs.zip",size:2048e3,type:"application/zip"}]},{id:2,num:"002",date:"2024-01-16 14:20:00",mail:"user2@example.com",theme:"Вопрос по отчетам",message:"Как сгенерировать отчет...",answer:"Инструкция отправлена на почту",status:"В работе",dateConfirmed:"2024-01-16 15:00:00"},{id:3,num:"003",date:"2024-01-17 09:15:00",mail:"user3@example.com",theme:"Техническая поддержка",message:"Проблема с авторизацией...",status:"Открыто"},{id:4,num:"004",date:"2024-01-18 16:45:00",mail:"user4@example.com",theme:"Обновление данных",message:"Данные не синхронизируются...",answer:"Решено",status:"Закрыто"}],Be=({rowIndex:a})=>a%2===1?"bg_gray":"",Me=a=>{n.value=a||{}},Oe=()=>{B.value=!B.value},Pe=()=>{k.value&&g.success(s("elmessage.formSuccess")),k.value=!k.value},je=()=>{x.value?U.value.trim()&&(n.value.answer=U.value,n.value.replyFiles=[...D.value],n.value.status!=="Закрыто"&&(n.value.status="В работе"),g.success(s("elmessage.formSuccess"))):(U.value=n.value.answer||"",D.value=[...n.value.replyFiles||[]],S.value=[]),x.value=!x.value},ce=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(pe.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(b=>t.type.includes(b)))return g.error(ue.value),!1;if(S.value.some(b=>b.name===t.name&&b.size===t.size)||D.value.some(b=>b.name===t.name&&b.size===t.size))return g.warning(ne.value),!1;S.value.push(t)},me=a=>{const t=S.value.findIndex(i=>i.name===a.name);if(t!==-1){S.value.splice(t,1);return}const _=D.value.findIndex(i=>i.name===a.name);_!==-1&&D.value.splice(_,1)},Ie=()=>{g.warning(G.value)},qe=a=>{a.preventDefault(),x&&C.value.length<5&&(H.value=!0)},He=a=>{a.preventDefault(),H.value=!1},Ne=a=>{var _;if(a.preventDefault(),H.value=!1,!x||C.value.length>=5){g.warning(G.value);return}const t=(_=a.dataTransfer)==null?void 0:_.files;t&&Array.from(t).forEach(i=>{if(C.value.length>=5)return;const d={raw:i,name:i.name};ce(d)})},Ge=a=>{const t=C.value[a];me(t)},Je=()=>{S.value=[],D.value=[]},Ke=a=>{const t=new Blob([`Mock content for ${a.name}`],{type:a.type}),_=URL.createObjectURL(t),i=document.createElement("a");i.href=_,i.download=a.name,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(_),g.success(`${s("button.download")}: ${a.name}`)};return(a,t)=>{var fe,he;const _=y("RouterLink"),i=y("router-view"),d=y("el-icon"),b=y("ArrowDown"),v=y("el-table-column"),E=y("el-tag"),R=y("el-button"),Qe=y("el-table"),F=y("el-input"),ve=y("el-upload"),Xe=y("el-autocomplete"),te=y("el-form-item"),We=y("el-form");return c(),f(J,null,[o(ut),xe.value?(c(),P(dt,{key:0})):(c(),f("section",yt,[e("div",wt,[e("div",xt,[e("div",kt,[e("div",Ct,[e("ul",Vt,[o(we,{"is-mobile":!1})])]),e("div",Ft,[e("div",zt,[e("ul",Dt,[o(it),e("li",Lt,[o(_,{class:"breadcrumbs__link text_four",to:l(ct).i18nRoute({name:"support"})},{default:r(()=>[K(u(l(s)("header.support")),1)]),_:1},8,["to"])])])]),e("div",St,[o(we,{"is-mobile":!0})]),e("div",Et,[o(i),e("div",Rt,[e("button",{class:"support__button button__primary button",onClick:Ce},[e("span",Tt,[o(d,null,{default:r(()=>[(c(),P(Q(l(se))))]),_:1})]),e("span",null,u(l(s)("button.createAppeal")),1)])]),e("div",At,[o(Qe,{ref:"SupportTableRef",data:de.value,"highlight-current-row":"","row-class-name":Be,onCurrentChange:Me,style:bt({maxHeight:B.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",Ot,u(l(s)("table.noData")),1)]),default:r(()=>[o(v,{"header-align":"center"},{header:r(()=>[e("span",{class:T(["el-table_top",{active:B.value}]),onClick:Oe},[e("span",Ut,[K(u(l(s)("table.listAppeals"))+" - ",1),e("span",$t,u(de.value.length),1)]),e("span",Bt,[o(d,null,{default:r(()=>[o(b)]),_:1})])],2)]),default:r(()=>[o(v,{property:"num",sortable:"",label:"№","min-width":"80"}),o(v,{property:"date",sortable:"",label:l(s)("table.date"),"min-width":"170"},null,8,["label"]),o(v,{property:"mail",sortable:"",label:l(s)("table.mail"),"min-width":"200"},null,8,["label"]),o(v,{property:"theme",sortable:"",label:l(s)("table.theme"),"min-width":"180"},null,8,["label"]),o(v,{property:"message",sortable:"",label:l(s)("table.message"),"min-width":"250","show-overflow-tooltip":""},null,8,["label"]),o(v,{property:"answer",sortable:"",label:l(s)("table.answer"),"min-width":"130"},null,8,["label"]),o(v,{property:"status",sortable:"",label:l(s)("table.status"),"min-width":"120"},{default:r(p=>[o(E,{type:p.row.status==="Закрыто"?"success":p.row.status==="В работе"?"warning":p.row.status==="Открыто"?"info":"danger",size:"small"},{default:r(()=>[K(u(p.row.status),1)]),_:2},1032,["type"])]),_:1},8,["label"]),o(v,{label:l(s)("table.actions"),width:"120",fixed:"right"},{default:r(p=>[e("div",Mt,[K(u(p.row.actions)+" ",1),o(R,{type:"primary",size:"small",icon:l(Ze),title:l(s)("button.view"),onClick:W},null,8,["icon","title"]),o(R,{type:"danger",size:"small",icon:l(et),title:l(s)("button.delete"),onClick:N},null,8,["icon","title"])])]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),B.value?(c(),f("div",Pt,[e("div",jt,[e("div",It,[o(F,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=p=>V.value=p),placeholder:l(s)("sort.search")},{prepend:r(()=>[o(R,{icon:l(tt),title:l(s)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):z("",!0)])]),o(rt),o(_t)])])])])])),e("div",{class:T(["overlay_full",{active:L.value}]),onClick:ke},null,2),e("div",{class:T(["support_details popup",{active:A.value}])},[e("div",qt,[e("div",Ht,[e("button",{class:"support_details__close popup__close",onClick:W},[o(d,null,{default:r(()=>[o(l(O))]),_:1})]),e("h4",Nt,u(l(s)("support.viewAppeal"))+" #"+u((fe=n.value)==null?void 0:fe.num),1),e("div",Gt,[e("div",Jt,[e("div",Kt,[e("label",Qt,u(l(s)("table.mail")),1),o(F,{modelValue:n.value.mail,"onUpdate:modelValue":t[1]||(t[1]=p=>n.value.mail=p),disabled:!k.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",Xt,[e("label",Wt,u(l(s)("table.date")),1),o(F,{modelValue:n.value.date,"onUpdate:modelValue":t[2]||(t[2]=p=>n.value.date=p),disabled:!k.value,class:"support_details__input"},null,8,["modelValue","disabled"])])]),n.value.dateConfirmed||n.value.dateSolved?(c(),f("div",Yt,[n.value.dateConfirmed?(c(),f("div",Zt,[e("label",es,u(l(s)("support.processingDate")),1),o(F,{modelValue:n.value.dateConfirmed,"onUpdate:modelValue":t[3]||(t[3]=p=>n.value.dateConfirmed=p),disabled:!k.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):z("",!0),n.value.dateSolved?(c(),f("div",ts,[e("label",ss,u(l(s)("support.completionDate")),1),o(F,{modelValue:n.value.dateSolved,"onUpdate:modelValue":t[4]||(t[4]=p=>n.value.dateSolved=p),disabled:!k.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):z("",!0)])):z("",!0),e("div",os,[e("label",ls,u(l(s)("table.theme")),1),o(F,{modelValue:n.value.theme,"onUpdate:modelValue":t[5]||(t[5]=p=>n.value.theme=p),disabled:!k.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",as,[e("label",ps,u(l(s)("table.message")),1),o(F,{modelValue:n.value.message,"onUpdate:modelValue":t[6]||(t[6]=p=>n.value.message=p),disabled:!k.value,type:"textarea",rows:4,class:"support_details__textarea"},null,8,["modelValue","disabled"])]),e("button",{class:"support_details__edit button button__primary",onClick:Pe},u(k.value?l(s)("button.save"):l(s)("button.edit")),1)]),n.value.answer?(c(),f("div",us,[e("div",ns,[e("strong",null,u(l(s)("support.supportResponse")),1)]),e("div",is,u(n.value.answer),1),(he=n.value.replyFiles)!=null&&he.length?(c(),f("div",rs,[e("strong",null,u(l(s)("support.supportFiles")),1),e("div",_s,[(c(!0),f(J,null,oe(n.value.replyFiles,p=>(c(),f("div",{key:p.name,class:"support_details__file_item"},[o(d,{class:"support_details__file_icon"},{default:r(()=>[(c(),P(Q(ee(Z(p.name)))))]),_:2},1024),e("span",ds,u(p.name),1),e("span",cs,u(Y(p.size)),1),o(R,{type:"primary",link:"",size:"small",icon:l(st),title:l(s)("button.download"),class:"support_details__download_btn",onClick:M=>Ke(p)},null,8,["icon","title","onClick"])]))),128))])])):z("",!0)])):z("",!0),e("div",ms,[e("div",vs,[e("strong",null,u(l(s)("support.supportResponse")),1)]),o(F,{modelValue:U.value,"onUpdate:modelValue":t[7]||(t[7]=p=>U.value=p),disabled:!x.value,type:"textarea",rows:4,placeholder:l(s)("form.message"),class:"support_details__reply_textarea"},null,8,["modelValue","disabled","placeholder"]),e("div",fs,[o(ve,{action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Ie,"on-change":ce,"on-remove":me,"show-file-list":!1,disabled:!x.value||C.value.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv","file-list":C.value},{trigger:r(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:!x.value||C.value.length>=5,support_popup__area_dragOver:H.value}]),onDragover:qe,onDragleave:He,onDrop:Ne},[o(d,{class:"support_popup__area_icon title_two"},{default:r(()=>[o(l(se))]),_:1}),e("div",hs,[e("p",bs,u(l(s)("support.attachFiles")),1),e("p",gs,u(l(s)("support.dragFiles")),1)])],34)]),_:1},8,["disabled","file-list"]),e("p",ys,u(l(s)("support.format")),1),C.value.length>0?(c(),f("div",ws,[e("div",xs,[e("span",ks,u(l(s)("support.files"))+" ("+u(C.value.length)+"/5)",1),x.value?(c(),f("button",{key:0,onClick:Je,class:"support_popup__clear"},[o(d,null,{default:r(()=>[o(l(be))]),_:1})])):z("",!0)]),e("div",Cs,[(c(!0),f(J,null,oe(C.value,(p,M)=>(c(),f("div",{key:M,class:"support_popup__item"},[e("div",Vs,[o(d,{class:"support_popup__icon"},{default:r(()=>[(c(),P(Q(ee(Z(p.name)))))]),_:2},1024),e("div",Fs,[e("div",zs,u(p.name),1),e("p",Ds,u(Y(p.size)),1)])]),x.value?(c(),f("button",{key:0,onClick:Ye=>Ge(M),class:"support_popup__remove"},[o(d,null,{default:r(()=>[o(l(O))]),_:1})],8,Ls)):z("",!0)]))),128))])])):z("",!0)]),e("button",{class:"support_details__reply_btn button button__primary",onClick:je},u(x.value?l(s)("button.save"):l(s)("button.edit")),1)])])]),e("div",Ss,[e("button",{class:"popup__button button__second button",onClick:W},u(l(s)("button.close")),1)])],2),e("div",{class:T(["support_delete popup popup__small",{active:$.value}])},[e("div",Es,[e("div",Rs,[e("button",{class:"support_delete__close popup__close",onClick:N},[o(d,null,{default:r(()=>[o(l(O))]),_:1})]),e("h4",Ts,u(l(s)("support.deleteAppeal")),1),e("div",As,[e("p",Us,u(l(s)("support.deleteConfirm")),1)])])]),e("div",$s,[e("button",{class:"popup__button button__second button",onClick:N},[e("span",null,u(l(s)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:N},[e("span",null,u(l(s)("button.delete")),1)])])],2),e("div",{class:T(["support_popup popup",{active:j.value}])},[e("div",Bs,[e("div",Ms,[e("button",{class:"support_popup__close popup__close",onClick:X},[o(d,null,{default:r(()=>[o(l(O))]),_:1})]),e("h4",Os,u(l(s)("support.head")),1),o(We,{ref_key:"supportFormRef",ref:le,model:m,rules:ie.value,class:"support_popup__flex"},{default:r(()=>[o(te,{prop:"theme"},{default:r(()=>[o(Xe,{modelValue:m.theme,"onUpdate:modelValue":t[8]||(t[8]=p=>m.theme=p),rules:ie.value.theme,class:"support_popup__input",placeholder:l(s)("support.themes.placeholder"),"fetch-suggestions":Le,clearable:""},null,8,["modelValue","rules","placeholder"])]),_:1}),o(te,{prop:"email"},{default:r(()=>[o(F,{modelValue:m.email,"onUpdate:modelValue":t[9]||(t[9]=p=>m.email=p),class:"support_popup__email",type:"email",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),o(te,{prop:"message"},{default:r(()=>[o(F,{modelValue:m.message,"onUpdate:modelValue":t[10]||(t[10]=p=>m.message=p),type:"textarea",class:"support_popup__textarea",placeholder:"Сообщение",rows:4},null,8,["modelValue"])]),_:1}),e("div",Ps,[o(ve,{"file-list":I.value,"onUpdate:fileList":t[11]||(t[11]=p=>I.value=p),action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Ae,"on-change":re,"on-remove":_e,"show-file-list":!1,disabled:m.files.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv"},{trigger:r(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:m.files.length>=5,support_popup__area_dragOver:q.value}]),onDragover:Se,onDragleave:Ee,onDrop:Re},[o(d,{class:"support_popup__area_icon title_two"},{default:r(()=>[o(l(se))]),_:1}),e("div",js,[e("p",Is,u(l(s)("support.attachFiles")),1),e("p",qs,u(l(s)("support.dragFiles")),1)])],34)]),_:1},8,["file-list","disabled"]),e("p",Hs,u(l(s)("support.format")),1),m.files.length>0?(c(),f("div",Ns,[e("div",Gs,[e("span",Js,u(l(s)("support.files"))+" ("+u(m.files.length)+"/5)",1),e("button",{onClick:Te,class:"support_popup__clear"},[o(d,null,{default:r(()=>[o(l(be))]),_:1})])]),e("div",Ks,[(c(!0),f(J,null,oe(m.files,(p,M)=>(c(),f("div",{key:M,class:"support_popup__item"},[e("div",Qs,[o(d,{class:"support_popup__icon"},{default:r(()=>[(c(),P(Q(ee(Z(p.name)))))]),_:2},1024),e("div",Xs,[e("div",Ws,u(p.name),1),e("p",Ys,u(Y(p.size)),1)])]),e("button",{onClick:Ye=>_e(p),class:"support_popup__remove"},[o(d,null,{default:r(()=>[o(l(O))]),_:1})],8,Zs)]))),128))])])):z("",!0)])]),_:1},8,["model","rules"])])]),e("div",eo,[e("button",{class:"popup__button button__second button",onClick:X},u(l(s)("button.cancel")),1),e("button",{class:"popup__button button__primary button",onClick:t[12]||(t[12]=p=>Ue(le.value))},u(l(s)("button.send")),1)])],2),o(nt)],64)}}}),Po=mt(to,[["__scopeId","data-v-a6a4f9e7"]]);export{Po as default};
