import{o as r,c as d,a as e,d as Vl,e as x,U as Tl,al as O,R as o,J as i,I as L,O as V,P as s,b as j,m as We,k as pl,f as _e,E as H,Q as k,a4 as w,K as Z,S as ee,D as p,u as a,M as f,W as C,L as U}from"./vendor-@vue-Bz_wJ882.js";import{k as M,M as Il,a6 as ml,a7 as fl,a8 as yl,a9 as gl,aa as Fl,ab as Nl,ac as kl,a1 as Ul,ad as Bl,ae as wl,af as Yl,O as Hl,a4 as Gl}from"./vendor-@element-plus-CjGJe9ZW.js";import{B as Cl}from"./api-Cj-Fovd5.js";import{H as zl,L as jl}from"./Header-BeDEvoTn.js";import{O as Xl}from"./OpenLayers-CzwUL3Ud.js";import{H as ql}from"./vendor-highcharts-CibDmyST.js";import{P as Wl}from"./Preloader-CB2GV1Rf.js";import{_ as de}from"./LogoSVG-DZlOckXV.js";import{F as Jl}from"./Footer-C_jnp8KX.js";import{F as xl,E as Pl,K as Ql}from"./krpdSVG-n1rjCor8.js";import{E as ue}from"./vendor-element-plus-Cew9W0b1.js";import{u as Zl}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-router-0eOeNsIj.js";import"./index-B1OW0bLG.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-T-MHPJ73.js";import"./VideoPlayer-PAPHiNxs.js";import"./GoBack-D2sDyfdX.js";const et={},lt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function tt(ce,l){return r(),d("svg",lt,l[0]||(l[0]=[e("path",{d:"M3 2L13 8L3 14Z"},null,-1)]))}const at=de(et,[["render",tt]]),st={},ot={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function nt(ce,l){return r(),d("svg",ot,l[0]||(l[0]=[e("rect",{x:"3",y:"2",width:"3",height:"12"},null,-1),e("rect",{x:"10",y:"2",width:"3",height:"12"},null,-1)]))}const it=de(st,[["render",nt]]),rt={class:"history__player"},_t={class:"history__player_controls"},ut={class:"history__player_slider"},dt={class:"history__player_time text_three"},ct=Vl({__name:"PlayerGraph",emits:["progress","play","pause"],setup(ce,{expose:l,emit:Ue}){const le=x(!1),ae=x(1),fe=[1,2,4,8,16,32,64],I=x(0),ve=x(null),J=Ue,Be=()=>{const B=(fe.indexOf(ae.value)+1)%fe.length;ae.value=fe[B]},be=()=>{le.value=!le.value,le.value?(Je(),J("play")):(E(),J("pause"))},Je=()=>{E(),ve.value=setInterval(()=>{I.value+=ae.value,I.value>=86400&&(I.value=86400,E(),le.value=!1,J("pause")),J("progress",I.value)},1e3)},E=()=>{ve.value&&(clearInterval(ve.value),ve.value=null)},Ye=K=>{I.value=K,J("progress",K)},Pe=K=>{const B=Math.floor(K/3600),F=Math.floor(K%3600/60),y=Math.floor(K%60);return`${B.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},ye=K=>Pe(K),He=K=>{I.value=K},te=()=>{le.value||be()},se=()=>{le.value&&be()};return Tl(()=>{E()}),l({setProgress:He,play:te,pause:se,togglePlay:be}),(K,B)=>{const F=O("el-button"),y=O("el-slider");return r(),d("div",rt,[e("div",_t,[o(F,{class:"history__player_button",type:"primary",onClick:be},{default:i(()=>[le.value?(r(),L(it,{key:1})):(r(),L(at,{key:0}))]),_:1}),o(F,{class:"history__player_speed",type:"primary",onClick:Be},{default:i(()=>[V(s(ae.value)+"x ",1)]),_:1})]),e("div",ut,[o(y,{modelValue:I.value,"onUpdate:modelValue":B[0]||(B[0]=ge=>I.value=ge),min:0,max:86400,"format-tooltip":ye,onInput:Ye},null,8,["modelValue"])]),e("div",dt,s(Pe(I.value)),1)])}}}),vt=de(ct,[["__scopeId","data-v-259eb311"]]),bt={},ht={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function pt(ce,l){return r(),d("svg",ht,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"1",-1)]))}const mt=de(bt,[["render",pt]]),ft={},yt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function gt(ce,l){return r(),d("svg",yt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"2",-1)]))}const kt=de(ft,[["render",gt]]),wt={},Ct={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function xt(ce,l){return r(),d("svg",Ct,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"3",-1)]))}const Pt=de(wt,[["render",xt]]),Vt={key:1,class:"map"},Tt={class:"history__container container"},Dt={class:"history__block"},St={class:"history__flex list_flex"},Lt={key:0,class:"history__left list_left"},At={class:"history__left_tables list_scroll"},Rt={class:"history__top"},Mt={class:"history__top_flex"},Et={class:"segmented__group",role:"radiogroup"},Kt=["onClick","aria-checked"],$t={class:"segmented__label"},Ot={class:"history__shadow"},It={class:"el-table_title"},Ft={class:"el-table_count text_four"},Nt={class:"el-table_arrow"},Ut={class:"table_empty"},Bt={key:0,class:"history__bottom"},Yt={class:"el-table_bottom_left"},Ht={class:"el-table_search"},Gt={class:"history__buttons"},zt={class:"el-datetime"},jt={class:"el-datetime"},Xt={class:"button__icon"},qt={class:"history__button button__primary button",disabled:""},Wt={class:"button__icon"},Jt={class:"button__icon"},Qt={class:"history__button button__second button",disabled:""},Zt={class:"button__icon"},ea={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},la=["aria-checked"],ta={class:"segmented__label"},aa={class:"segmented__icon text_two"},sa=["onClick","aria-checked"],oa={class:"segmented__label"},na={class:"segmented__icon text_two"},ia={key:1,class:"history__no_selection"},ra={class:"text_three"},_a={key:2,class:"history__message_wrapper"},ua={class:"segmented__group segmented__group_info",role:"radiogroup"},da=["onClick","aria-checked"],ca={class:"segmented__label"},va={class:"history__information_blocks"},ba={key:0,class:"history__information_all"},ha={key:0,class:"history__locomotive_blocks"},pa=["onClick"],ma={class:"text_three"},fa={class:"el-table_arrow"},ya={class:"info-label"},ga={class:"info-value"},ka={key:1,class:"history__locomotive_blocks"},wa=["onClick"],Ca={class:"text_three"},xa={class:"el-table_arrow"},Pa={class:"info-label"},Va={class:"info-value"},Ta={key:2,class:"history__locomotive_blocks"},Da=["onClick"],Sa={class:"text_three"},La={class:"el-table_arrow"},Aa={class:"info-label"},Ra={class:"info-value"},Ma={key:3,class:"history__locomotive_blocks"},Ea=["onClick"],Ka={class:"text_three"},$a={class:"el-table_arrow"},Oa={class:"info-label"},Ia={class:"info-value"},Fa={key:4,class:"history__locomotive_blocks"},Na=["onClick"],Ua={class:"text_three"},Ba={class:"el-table_arrow"},Ya={class:"info-label"},Ha={class:"info-value"},Ga={key:5,class:"history__locomotive_blocks"},za=["onClick"],ja={class:"text_three"},Xa={class:"el-table_arrow"},qa={class:"info-label"},Wa={class:"info-value"},Ja={key:1,class:"history__information_single"},Qa={key:0,class:"history__information_block"},Za={class:"history__block_header"},es={class:"text_three"},ls={class:"history__tab_container"},ts={class:"info-label"},as={class:"info-value"},ss={key:1,class:"history__information_block"},os={class:"history__block_header"},ns={class:"text_three"},is={class:"history__tab_container"},rs={class:"info-label"},_s={class:"info-value"},us={key:2,class:"history__information_block"},ds={class:"history__block_header"},cs={class:"text_three"},vs={class:"history__tab_container"},bs={class:"info-label"},hs={class:"info-value"},ps={key:3,class:"history__information_block"},ms={class:"history__block_header"},fs={class:"text_three"},ys={class:"history__tab_container"},gs={class:"info-label"},ks={class:"info-value"},ws={key:4,class:"history__information_block"},Cs={class:"history__block_header"},xs={class:"text_three"},Ps={class:"history__tab_container"},Vs={class:"info-label"},Ts={class:"info-value"},Ds={key:5,class:"history__information_block"},Ss={class:"history__block_header"},Ls={class:"text_three"},As={class:"history__tab_container"},Rs={class:"info-label"},Ms={class:"info-value"},Es={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Ks=["aria-checked"],$s={class:"segmented__label"},Os={class:"segmented__icon text_two"},Is=["onClick","aria-checked"],Fs={class:"segmented__label"},Ns={class:"segmented__icon text_two"},Us={key:1,class:"history__no_selection"},Bs={class:"text_three"},Ys={key:2,class:"history__total_wrapper"},Hs={class:"segmented__group segmented__group_total",role:"radiogroup"},Gs=["onClick","aria-checked"],zs={class:"segmented__label"},js={class:"history__total_blocks"},Xs={key:0,class:"history__total_all"},qs={key:0,class:"history__total_data_block"},Ws=["onClick"],Js={class:"text_three"},Qs={class:"el-table_arrow"},Zs={class:"info-label"},eo={class:"info-value"},lo={key:1,class:"history__total_data_block"},to={class:"total__unit_selector"},ao=["onClick"],so={class:"text_three"},oo={class:"el-table_arrow"},no={class:"info-label"},io={class:"info-value"},ro={key:2,class:"history__total_data_block"},_o=["onClick"],uo={class:"text_three"},co={class:"el-table_arrow"},vo={class:"info-label"},bo={class:"info-value"},ho={key:1,class:"history__total_single"},po={key:0,class:"history__total_data_block"},mo={class:"history__total_block"},fo={class:"history__block_header"},yo={class:"text_three"},go={class:"history__tab_container"},ko={class:"info-label"},wo={class:"info-value"},Co={key:1,class:"history__total_data_block"},xo={class:"total__unit_selector"},Po={class:"history__total_block"},Vo={class:"history__block_header"},To={class:"text_three"},Do={class:"history__tab_container"},So={class:"info-label"},Lo={class:"info-value"},Ao={key:2,class:"history__total_data_block"},Ro={class:"history__total_block"},Mo={class:"history__block_header"},Eo={class:"text_three"},Ko={class:"history__tab_container"},$o={class:"info-label"},Oo={class:"info-value"},Io={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Fo=["aria-checked"],No={class:"segmented__label"},Uo={class:"segmented__icon text_two"},Bo=["onClick","aria-checked"],Yo={class:"segmented__label"},Ho={class:"segmented__icon text_two"},Go={key:1,class:"history__no_selection"},zo={class:"text_three"},jo={key:2,class:"history__events_wrapper"},Xo={class:"history__events_selector"},qo={class:"history__events_table"},Wo={class:"table_empty"},Jo={key:0,class:"history__events_pagination"},Qo={class:"history__right list_map"},Zo={key:0,class:"list_select"},en={class:"el-select_title"},ln={class:"el-table_count text_four"},tn={class:"el-select_option"},an={class:"el-select_empty"},sn={class:"history__map"},on={class:"history__charts"},nn={class:"history__charts_buttons"},rn={class:"history__segmented segmented__group segmented__group_total",role:"radiogroup"},_n=["onClick","aria-checked"],un={class:"segmented__label"},dn={class:"history__chart history__chart_one"},cn={class:"history__chart history__chart_two"},vn={class:"history__chart history__chart_three"},bn={key:1,class:"history__tables"},hn={key:0,class:"segmented__group",role:"radiogroup"},pn=["onClick","aria-checked"],mn={class:"segmented__label"},fn={class:"history__buttons"},yn={class:"el-datetime"},gn={class:"el-datetime"},kn={class:"button__icon"},wn={class:"history__button button__primary button",disabled:""},Cn={class:"button__icon"},xn={class:"button__icon"},Pn={class:"history__button button__second button",disabled:""},Vn={class:"button__icon"},Tn={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Dn=["aria-checked"],Sn={class:"segmented__label"},Ln={class:"segmented__icon text_two"},An=["onClick","aria-checked"],Rn={class:"segmented__label"},Mn={class:"segmented__icon text_two"},En={key:1,class:"history__no_selection"},Kn={class:"text_three"},$n={key:2,class:"history__message_wrapper"},On={class:"segmented__group segmented__group_info",role:"radiogroup"},In=["onClick","aria-checked"],Fn={class:"segmented__label"},Nn={class:"history__information_blocks"},Un={key:0,class:"history__information_all"},Bn={key:0,class:"history__locomotive_blocks"},Yn=["onClick"],Hn={class:"text_three"},Gn={class:"el-table_arrow"},zn={class:"info-label"},jn={class:"info-value"},Xn={key:1,class:"history__locomotive_blocks"},qn=["onClick"],Wn={class:"text_three"},Jn={class:"el-table_arrow"},Qn={class:"info-label"},Zn={class:"info-value"},ei={key:2,class:"history__locomotive_blocks"},li=["onClick"],ti={class:"text_three"},ai={class:"el-table_arrow"},si={class:"info-label"},oi={class:"info-value"},ni={key:3,class:"history__locomotive_blocks"},ii=["onClick"],ri={class:"text_three"},_i={class:"el-table_arrow"},ui={class:"info-label"},di={class:"info-value"},ci={key:4,class:"history__locomotive_blocks"},vi=["onClick"],bi={class:"text_three"},hi={class:"el-table_arrow"},pi={class:"info-label"},mi={class:"info-value"},fi={key:5,class:"history__locomotive_blocks"},yi=["onClick"],gi={class:"text_three"},ki={class:"el-table_arrow"},wi={class:"info-label"},Ci={class:"info-value"},xi={key:1,class:"history__information_single"},Pi={key:0,class:"history__information_block"},Vi={class:"history__block_header"},Ti={class:"text_three"},Di={class:"history__tab_container"},Si={class:"info-label"},Li={class:"info-value"},Ai={key:1,class:"history__information_block"},Ri={class:"history__block_header"},Mi={class:"text_three"},Ei={class:"history__tab_container"},Ki={class:"info-label"},$i={class:"info-value"},Oi={key:2,class:"history__information_block"},Ii={class:"history__block_header"},Fi={class:"text_three"},Ni={class:"history__tab_container"},Ui={class:"info-label"},Bi={class:"info-value"},Yi={key:3,class:"history__information_block"},Hi={class:"history__block_header"},Gi={class:"text_three"},zi={class:"history__tab_container"},ji={class:"info-label"},Xi={class:"info-value"},qi={key:4,class:"history__information_block"},Wi={class:"history__block_header"},Ji={class:"text_three"},Qi={class:"history__tab_container"},Zi={class:"info-label"},er={class:"info-value"},lr={key:5,class:"history__information_block"},tr={class:"history__block_header"},ar={class:"text_three"},sr={class:"history__tab_container"},or={class:"info-label"},nr={class:"info-value"},ir={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},rr=["aria-checked"],_r={class:"segmented__label"},ur={class:"segmented__icon text_two"},dr=["onClick","aria-checked"],cr={class:"segmented__label"},vr={class:"segmented__icon text_two"},br={key:1,class:"history__no_selection"},hr={class:"text_three"},pr={key:2,class:"history__total_wrapper"},mr={class:"segmented__group segmented__group_total",role:"radiogroup"},fr=["onClick","aria-checked"],yr={class:"segmented__label"},gr={class:"history__total_blocks"},kr={key:0,class:"history__total_all"},wr={key:0,class:"history__total_data_block"},Cr=["onClick"],xr={class:"text_three"},Pr={class:"el-table_arrow"},Vr={class:"info-label"},Tr={class:"info-value"},Dr={key:1,class:"history__total_data_block"},Sr={class:"total__unit_selector"},Lr=["onClick"],Ar={class:"text_three"},Rr={class:"el-table_arrow"},Mr={class:"info-label"},Er={class:"info-value"},Kr={key:2,class:"history__total_data_block"},$r=["onClick"],Or={class:"text_three"},Ir={class:"el-table_arrow"},Fr={class:"info-label"},Nr={class:"info-value"},Ur={key:1,class:"history__total_single"},Br={key:0,class:"history__total_data_block"},Yr={class:"history__total_block"},Hr={class:"history__block_header"},Gr={class:"text_three"},zr={class:"history__tab_container"},jr={class:"info-label"},Xr={class:"info-value"},qr={key:1,class:"history__total_data_block"},Wr={class:"total__unit_selector"},Jr={class:"history__total_block"},Qr={class:"history__block_header"},Zr={class:"text_three"},e_={class:"history__tab_container"},l_={class:"info-label"},t_={class:"info-value"},a_={key:2,class:"history__total_data_block"},s_={class:"history__total_block"},o_={class:"history__block_header"},n_={class:"text_three"},i_={class:"history__tab_container"},r_={class:"info-label"},__={class:"info-value"},u_={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},d_=["aria-checked"],c_={class:"segmented__label"},v_={class:"segmented__icon text_two"},b_=["onClick","aria-checked"],h_={class:"segmented__label"},p_={class:"segmented__icon text_two"},m_={key:1,class:"history__no_selection"},f_={class:"text_three"},y_={key:2,class:"history__events_wrapper"},g_={class:"history__events_selector"},k_={class:"history__events_table"},w_={class:"table_empty"},C_={key:0,class:"history__events_pagination"},x_={class:"history_popup__scroll popup__scroll_buttons"},P_={class:"history_popup__block popup__block"},V_={class:"history_popup__head popup__head"},T_={class:"history_popup__list"},D_={class:"history_popup__item"},S_={class:"history_popup__head"},L_={class:"history_popup__checkbox"},A_={class:"history_popup__checkbox"},R_={class:"history_popup__checkbox"},M_={class:"history_popup__checkbox"},E_={class:"history_popup__item"},K_={class:"history_popup__head"},$_={class:"history_popup__checkbox"},O_={class:"history_popup__checkbox"},I_={class:"history_popup__checkbox"},F_={class:"history_popup__checkbox"},N_={class:"history_popup__checkbox"},U_={class:"history_popup__checkbox"},B_={class:"history_popup__checkbox"},Y_={class:"history_popup__item"},H_={class:"history_popup__head"},G_={class:"history_popup__checkbox"},z_={class:"history_popup__checkbox"},j_={class:"history_popup__checkbox"},X_={class:"history_popup__checkbox"},q_={class:"history_popup__checkbox"},W_={class:"history_popup__checkbox"},J_={class:"history_popup__checkbox"},Q_={class:"history_popup__checkbox"},Z_={class:"history_popup__checkbox"},eu={class:"history_popup__item"},lu={class:"history_popup__head"},tu={class:"history_popup__checkbox"},au={class:"history_popup__checkbox"},su={class:"history_popup__checkbox"},ou={class:"history_popup__checkbox"},nu={class:"history_popup__checkbox"},iu={class:"history_popup__item"},ru={class:"history_popup__head"},_u={class:"history_popup__checkbox"},uu={class:"history_popup__checkbox"},du={class:"history_popup__checkbox"},cu={class:"history_popup__checkbox"},vu={class:"history_popup__item"},bu={class:"history_popup__head"},hu={class:"history_popup__checkbox"},pu={class:"history_popup__checkbox"},mu={class:"popup__buttons"},Ne=4,fu=Vl({__name:"History",setup(ce){const{t:l,d:Ue}=Zl(),le=x(!0),ae=x(!1),fe=x(!1),I=x(!1),ve=()=>{fe.value=!1,I.value=!1,ae.value=!1,document.documentElement.classList.remove("noscroll")},J=()=>{I.value=!I.value,ae.value=!ae.value,I.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},Be=(_,n,h=365)=>{const b=new Date;b.setTime(b.getTime()+h*24*60*60*1e3),document.cookie=`${_}=${encodeURIComponent(n)};expires=${b.toUTCString()};path=/`},be=_=>{const n=_+"=",h=document.cookie.split(";");for(let b=0;b<h.length;b++){let m=h[b];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(n)===0)return decodeURIComponent(m.substring(n.length,m.length))}return null},E=x((()=>{const _=be("selectedCharts");if(_)try{return JSON.parse(_)}catch(n){console.error("Error parsing saved charts from cookies:",n)}return["speedKmh","fuelVolumeL","fuelVolume20C","fuelMassKg"]})()),Ye=()=>{Be("selectedCharts",JSON.stringify(E.value)),J()},Pe=x(null),ye=x(),He=j(()=>({chart:{type:"line",backgroundColor:"var(--bg-gray)"},title:{text:l("chart.title"),style:{color:"var(--text)"}},xAxis:{categories:[l("chart.months.jan"),l("chart.months.feb"),l("chart.months.mar"),l("chart.months.apr"),l("chart.months.may"),l("chart.months.jun"),l("chart.months.jul"),l("chart.months.aug"),l("chart.months.sep"),l("chart.months.oct"),l("chart.months.nov"),l("chart.months.dec")],labels:{style:{color:"var(--text)"}},title:{style:{color:"var(--text)"}}},yAxis:{title:{text:l("chart.values"),style:{color:"var(--text)"}},labels:{style:{color:"var(--text)"}},min:0,max:8,tickInterval:2,allowDecimals:!1},accessibility:{enabled:!1},series:[{type:"line",name:l("chart.data"),data:[1,4,2,5,3,6]}],legend:{itemStyle:{color:"var(--text)"},itemHoverStyle:{color:"var(--hover)"}}}));We(()=>{ye.value&&(Pe.value=ql.chart(ye.value,{...He.value}))});const te=x("info"),se=x("locomotive"),K=x("one"),B=x("route"),F=x("dop_reg"),y=x(-1),ge=x({}),oe=x("liters"),Ve=[{value:"liters",label:"Литры"},{value:"liters20C",label:"Литры к 20°C"},{value:"kilograms",label:"Килограммы"}],A=x({info:!0,message:!1,total:!1,events:!1}),D=x({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),N=x({route:!0,fuel:!1,electricity:!1}),Ge=x({dop_reg:!0,idle:!1,tab_change:!1,rfid:!1,violations:!1}),G=x({}),Y=x([]),X=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation());const[h]=_.split("-"),b=parseInt(h),m=`locomotive-${b}`;G.value[m]===!0?(G.value[m]=!1,Object.keys(G.value).forEach($e=>{$e.startsWith(`${b}-`)&&delete G.value[$e]})):(G.value[m]=!0,G.value[`${b}-locomotive`]=!0,G.value[`${b}-information`]=!0,G.value[`${b}-location`]=!0,G.value[`${b}-fuel`]=!0,G.value[`${b}-energy`]=!0,G.value[`${b}-krpd`]=!0)},he=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),ge.value[_]=!ge.value[_]},S=_=>{const[n]=_.split("-"),h=parseInt(n);return G.value[`locomotive-${h}`]===!0?!0:G.value[_]===!0},q=_=>ge.value[_]===!0,P=(_,n)=>`${_}-${n}`,$=_=>`total-${_}`,Te=_=>{const n=[],h=oe.value;return h==="liters"?n.push({label:l("table.initialValue")+" ["+l("table.l")+"]",value:_.fuel_initial_liters||"4500"},{label:l("table.finalValue")+" ["+l("table.l")+"]",value:_.fuel_final_liters||"3200"},{label:l("table.minValue")+" ["+l("table.l")+"]",value:_.fuel_min_liters||"1800"},{label:l("table.maxValue")+" ["+l("table.l")+"]",value:_.fuel_max_liters||"5000"},{label:l("table.refuelAmount")+" ["+l("table.l")+"]",value:_.fuel_refuel_liters||"800"},{label:l("table.drainAmount")+" ["+l("table.l")+"]",value:_.fuel_drain_liters||"200"},{label:l("table.actualConsumption")+" ["+l("table.l")+"]",value:_.fuel_actual_liters||"1300"},{label:l("table.averageHourlyConsumption")+" ["+l("table.l")+"]",value:_.fuel_hourly_liters||"65"},{label:l("table.normativeConsumption")+" ["+l("table.l")+"]",value:_.fuel_normative_liters||"1200"},{label:l("table.actualSpecificConsumption")+" ["+l("table.l")+"]",value:_.fuel_specific_liters||"0.25"}):h==="liters20C"?n.push({label:l("table.initialValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_initial_liters20C||"4400"},{label:l("table.finalValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_final_liters20C||"3100"},{label:l("table.minValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_min_liters20C||"1750"},{label:l("table.maxValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_max_liters20C||"4900"},{label:l("table.refuelAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_refuel_liters20C||"780"},{label:l("table.drainAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_drain_liters20C||"195"},{label:l("table.actualConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_actual_liters20C||"1270"},{label:l("table.averageHourlyConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_hourly_liters20C||"63"},{label:l("table.normativeConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_normative_liters20C||"1170"},{label:l("table.actualSpecificConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_specific_liters20C||"0.24"}):h==="kilograms"&&n.push({label:l("table.initialValue")+" ["+l("table.kg")+"]",value:_.fuel_initial_kilograms||"3825"},{label:l("table.finalValue")+" ["+l("table.kg")+"]",value:_.fuel_final_kilograms||"2720"},{label:l("table.minValue")+" ["+l("table.kg")+"]",value:_.fuel_min_kilograms||"1530"},{label:l("table.maxValue")+" ["+l("table.kg")+"]",value:_.fuel_max_kilograms||"4250"},{label:l("table.refuelAmount")+" ["+l("table.kg")+"]",value:_.fuel_refuel_kilograms||"680"},{label:l("table.drainAmount")+" ["+l("table.kg")+"]",value:_.fuel_drain_kilograms||"170"},{label:l("table.actualConsumption")+" ["+l("table.kg")+"]",value:_.fuel_actual_kilograms||"1105"},{label:l("table.averageHourlyConsumption")+" ["+l("table.kg")+"]",value:_.fuel_hourly_kilograms||"55"},{label:l("table.normativeConsumption")+" ["+l("table.kg")+"]",value:_.fuel_normative_kilograms||"1020"},{label:l("table.actualSpecificConsumption")+" ["+l("table.kg")+"]",value:_.fuel_specific_kilograms||"0.21"}),n},v=x(-1),z=x(-1),De=[{iconComponent:Bl,value:"info",label:"Info"},{iconComponent:wl,value:"message",label:"Message"},{iconComponent:Yl,value:"total",label:"total"},{iconComponent:kl,value:"events",label:"events"}],Se=[{iconComponent:jl,value:"locomotive",label:"Locomotive"},{iconComponent:Hl,value:"information",label:"Information"},{iconComponent:Gl,value:"location",label:"Location"},{iconComponent:xl,value:"fuel",label:"Fuel"},{iconComponent:Pl,value:"energy",label:"Energy"},{iconComponent:Ql,value:"krpd",label:"Krpd"}],ze=[{iconComponent:mt,value:"one",label:"one"},{iconComponent:kt,value:"two",label:"two"},{iconComponent:Pt,value:"all",label:"all"}],Le=[{iconComponent:wl,value:"route",label:"route"},{iconComponent:xl,value:"fuel",label:"fuel"},{iconComponent:Pl,value:"electricity",label:"electricity"}],Qe=j(()=>{const _=De.findIndex(h=>h.value===te.value);return{width:`${100/De.length}%`,transform:`translateX(${_*100}%)`}}),Ze=j(()=>{const _=Se.findIndex(h=>h.value===se.value);return{width:`${100/Se.length}%`,transform:`translateX(${_*100}%)`}}),Dl=j(()=>{const _=ze.findIndex(h=>h.value===K.value);return{width:`${100/ze.length}%`,transform:`translateX(${_*100}%)`}}),u=j(()=>Y.value.length===0?[]:xe.value.filter(_=>Y.value.includes(_.id)).map((_,n)=>({id:n+1,originalId:_.id,series:_.nameLoco||"Не указано",number:_.number,tabNumber:_.boardNumber,workType:_.date?"Данные получены":"Нет данных",weight:"120 т",carNumber:"15",axisNumber:"6",bortDate:_.date||"Не указано",bortTime:"14:30:25",speed:"75",stopTime:"5 мин",pressure:"5.2 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7558°",longitude:"37.6173°",volume:"4500",volume20:"4400",temp:"15°C",density:"850 кг/м³",mass:"3825",instantPowerActive:"1500 кВт",instantPowerReactive:"800 кВАр",instantPowerFull:"1700 кВА",voltage:"3000 В",current:"500 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1500",fuel_initial_liters:"4500",fuel_final_liters:"3200",fuel_min_liters:"1800",fuel_max_liters:"5000",fuel_refuel_liters:"800",fuel_drain_liters:"200",fuel_actual_liters:"1300",fuel_hourly_liters:"65",fuel_normative_liters:"1200",fuel_specific_liters:"0.25",fuel_initial_liters20C:"4400",fuel_final_liters20C:"3100",fuel_min_liters20C:"1750",fuel_max_liters20C:"4900",fuel_refuel_liters20C:"780",fuel_drain_liters20C:"195",fuel_actual_liters20C:"1270",fuel_hourly_liters20C:"63",fuel_normative_liters20C:"1170",fuel_specific_liters20C:"0.24",fuel_initial_kilograms:"3825",fuel_final_kilograms:"2720",fuel_min_kilograms:"1530",fuel_max_kilograms:"4250",fuel_refuel_kilograms:"680",fuel_drain_kilograms:"170",fuel_actual_kilograms:"1105",fuel_hourly_kilograms:"55",fuel_normative_kilograms:"1020",fuel_specific_kilograms:"0.21",electricity_active_forward:"1200",electricity_active_reverse:"50",electricity_reactive_forward:"800",electricity_reactive_reverse:"30",electricity_min_voltage:"2800",electricity_max_voltage:"3200"}))),el=j(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=v.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),ll=j(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=y.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),tl=j(()=>{const _=Le.findIndex(h=>h.value===B.value);return{width:`${100/Le.length}%`,transform:`translateX(${_*100}%)`}}),al=x([{date:"2024-01-15",time:"14:30:25",tabNumber:"12345",locomotive:"0001",additionalInfo:"Дополнительная регистрация на участке"},{date:"2024-01-15",time:"10:15:10",tabNumber:"23456",locomotive:"0002",idleDuration:"2 ч 30 мин",idleReason:"Ожидание состава"},{date:"2024-01-14",time:"16:20:30",tabNumber:"45678",locomotive:"0004",rfidCode:"RFID-001234",location:"Станция Москва-Товарная"},{date:"2024-01-13",time:"08:05:45",tabNumber:"34567",locomotive:"0003",violationType:"Превышение скорости",description:"Превышение на 15 км/ч на участке 25 км"},{date:"2024-01-12",time:"22:10:15",tabNumber:"12345",locomotive:"0001",additionalInfo:"Повторная регистрация"}]),pe=j(()=>{if(Y.value.length===0)return[];const _=xe.value.filter(n=>Y.value.includes(n.id)).map(n=>n.number);if(z.value!==-1&&u.value[z.value]){const n=u.value[z.value];return al.value.filter(h=>h.locomotive===n.number)}return al.value.filter(n=>_.includes(n.locomotive))}),sl=j(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=z.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),je=j(()=>{switch(K.value){case"one":return{one:!0,two:!1,three:!1};case"two":return{one:!1,two:!0,three:!1};case"all":return{one:!1,two:!1,three:!0};default:return{one:!0,two:!1,three:!1}}}),Ae=x(),R=pl({datestart:"",dateend:"",timestart:"00:00:00",timeend:"23:59:59"}),ol=pl({datestart:[{type:"date",required:!0,message:"Выберите дату начала",trigger:"change"}],dateend:[{type:"date",required:!0,message:"Выберите дату окончания",trigger:"change"},{validator:(_,n,h)=>{if(!R.datestart||!R.dateend){h(new Error("Обе даты обязательны"));return}const b=new Date(R.datestart);new Date(R.dateend)<=b?h(new Error("Дата окончания должна быть позже даты начала")):h()},trigger:"change"}]}),nl=async _=>{if(_){if(Y.value.length>Ne){ue.warning(`Выбрано слишком много локомотивов. Максимум: ${Ne}`);return}await _.validate((n,h)=>{n?console.log("submit!"):console.log("error submit!",h)})}},il=(_,n)=>{n.preventDefault(),n.stopPropagation(),te.value=_},rl=(_,n)=>{n.preventDefault(),n.stopPropagation(),se.value=_},Sl=(_,n)=>{n.preventDefault(),n.stopPropagation(),K.value=_},Re=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){ue.warning("Сначала выберите локомотивы в таблице");return}v.value=_},Me=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){ue.warning("Сначала выберите локомотивы в таблице");return}y.value=_},_l=(_,n)=>{n.preventDefault(),n.stopPropagation(),B.value=_},ul=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),F.value=_},Ee=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){ue.warning("Сначала выберите локомотивы в таблице");return}z.value=_};_e(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0}),_e(se,_=>{Object.keys(D.value).forEach(n=>{D.value[n]=!1}),D.value[_]=!0}),_e(B,_=>{Object.keys(N.value).forEach(n=>{N.value[n]=!1}),N.value[_]=!0}),_e(F,_=>{Object.keys(Ge.value).forEach(n=>{Ge.value[n]=!1}),Ge.value[_]=!0}),_e(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0});const ke=x(window.innerWidth),dl=()=>{ke.value=window.innerWidth};We(()=>{window.addEventListener("resize",dl)}),Tl(()=>{window.removeEventListener("resize",dl)});const ne=x(""),Ke=j(()=>{let _=xe.value;return ne.value&&(_=_.filter(n=>{var h,b,m;return((h=n.type)==null?void 0:h.toLowerCase().includes(ne.value.toLowerCase()))||((b=n.number)==null?void 0:b.toLowerCase().includes(ne.value.toLowerCase()))||((m=n.date)==null?void 0:m.toLowerCase().includes(ne.value.toLowerCase()))})),_}),Xe=x([]),cl=x([]),Ll=x(),we=x(""),Ce=x(!0),g=({row:_,rowIndex:n})=>{const h=[];return n%2===1&&h.push("bg_gray"),Rl(_)&&h.push("selected-row"),h.join(" ")},qe=x(),Al=_=>{if(!_||!_.id)return;const n=Y.value.indexOf(_.id);if(n===-1){if(Y.value.length>=Ne){ue.warning(l("history.locomotivesLimitWarning",{max:Ne}));return}Y.value.push(_.id)}else Y.value.splice(n,1);qe.value&&qe.value.doLayout()},Rl=_=>_.id?Y.value.includes(_.id):!1,Ml=()=>{Ce.value=!Ce.value},El=_=>{if(!_){Y.value=[];return}const n=xe.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});n&&n.id&&(Y.value=[n.id])},Kl=_=>{ne.value=_};_e(we,_=>{if(_){const n=xe.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});n&&n.id&&(Y.value=[n.id])}else Y.value=[]}),_e(Ll,_=>{_&&_.id?we.value=_.id.toString():we.value=""});const xe=j(()=>Xe.value.length?Xe.value.map((n,h)=>{const b=cl.value.find(W=>W.NUMBER_ON_KPD===n.BOARD_NUMBER);let m="Не указана";if(n.DATE_REC)try{const W=new Date(n.DATE_REC);isNaN(W.getTime())||(m=Ue(W,"shortFormat"))}catch(W){console.warn("Ошибка форматирования даты:",W)}return{id:h+1,type:n.LOCO||n.BOARD_NUMBER||"Не указан",number:n.BOARD_NUMBER||"Не указан",date:m,boardNumber:n.BOARD_NUMBER||"Не указан",nameLoco:(b==null?void 0:b.NAME_LOCO)||n.LOCO||"Не указано"}}):[]),vl=[{value:"dop_reg",label:'Дополнительная регистрация ("П")'},{value:"idle",label:"Простои локомотива"},{value:"tab_change",label:"Смена табельного номера"},{value:"rfid",label:"Прохождение RFID-метки"},{value:"violations",label:"Нарушения эксплуатации"}],$l=async()=>{try{const _=await Cl("post","/api/get-table",{Table:"LOCOMOTIVES"});_.data&&_.data.data&&Array.isArray(_.data.data)?Xe.value=_.data.data:console.warn("API не вернуло ожидаемые данные:",_.data)}catch(_){ue({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{le.value=!1}},Ol=async()=>{try{const _=await Cl("post","/api/get-table",{Table:"LOCO"});_.data&&_.data.data&&Array.isArray(_.data.data)?cl.value=_.data.data:console.warn("API LOCO не вернуло ожидаемые данные:",_.data)}catch(_){ue({message:_.message,type:"error"}),console.error("Ошибка загрузки LOCO:",_)}};return We(()=>{$l(),Ol()}),(_,n)=>{const h=O("el-icon"),b=O("el-table-column"),m=O("el-table"),W=O("el-button"),$e=O("el-input"),Oe=O("el-date-picker"),Ie=O("el-time-picker"),Fe=O("el-form-item"),bl=O("el-form"),ie=O("el-option"),re=O("el-select"),hl=O("el-pagination"),T=O("el-checkbox"),me=O("el-checkbox-group");return r(),d(k,null,[o(zl),le.value?(r(),L(Wl,{key:0})):(r(),d("section",Vt,[e("div",Tt,[e("div",Dt,[e("div",St,[ke.value>=1280?(r(),d("div",Lt,[e("div",At,[e("div",Rt,[e("div",Mt,[e("div",Et,[e("div",{class:"segmented__indicator",style:H(Qe.value)},null,4),(r(),d(k,null,w(De,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[0]||(n[0]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",$t,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Kt)),64))])])]),Z(e("div",{class:p(["history__left_table",{active:A.value.info}])},[e("div",Ot,[o(m,{ref_key:"oneTableRef",ref:qe,data:Ke.value,onRowClick:Al,"row-class-name":g,style:H({maxHeight:Ce.value?"240px":"25px"}),"max-height":"240",border:""},{empty:i(()=>[e("div",Ut,s(a(l)("table.noData")),1)]),default:i(()=>[o(b,{"header-align":"center"},{header:i(()=>[e("span",{class:p(["el-table_top",{active:Ce.value}]),onClick:Ml},[e("span",It,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",Ft,s(Ke.value.length),1)]),e("span",Nt,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],2)]),default:i(()=>[o(b,{property:"type",sortable:"",label:a(l)("table.type")},null,8,["label"]),o(b,{property:"number",sortable:"",label:a(l)("table.number")},null,8,["label"]),o(b,{property:"date",sortable:"",label:a(l)("table.date")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),Ce.value?(r(),d("div",Bt,[e("div",Yt,[e("div",Ht,[o($e,{modelValue:ne.value,"onUpdate:modelValue":n[1]||(n[1]=t=>ne.value=t),placeholder:a(l)("sort.search")},{prepend:i(()=>[o(W,{icon:a(Il),title:a(l)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):f("",!0)]),e("div",Gt,[o(bl,{ref_key:"addStatusFormRef",ref:Ae,model:R,rules:ol,"label-position":"top","label-width":"auto"},{default:i(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:i(()=>[e("div",zt,[o(Oe,{modelValue:R.datestart,"onUpdate:modelValue":n[2]||(n[2]=t=>R.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:R.timestart,"onUpdate:modelValue":n[3]||(n[3]=t=>R.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:i(()=>[e("div",jt,[o(Oe,{modelValue:R.dateend,"onUpdate:modelValue":n[4]||(n[4]=t=>R.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:R.timeend,"onUpdate:modelValue":n[5]||(n[5]=t=>R.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[6]||(n[6]=t=>nl(Ae.value))},[e("span",Xt,[o(h,null,{default:i(()=>[(r(),L(U(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",qt,[e("span",Wt,[o(h,null,{default:i(()=>[(r(),L(U(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:J},[e("span",Jt,[o(h,null,{default:i(()=>[(r(),L(U(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Qt,[e("span",Zt,[o(h,null,{default:i(()=>[(r(),L(U(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[ee,A.value.info]]),Z(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(r(),d("div",ea,[e("div",{class:"segmented__indicator",style:H(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:n[7]||(n[7]=C(t=>Re(-1,t),["prevent"])),onMousedown:n[8]||(n[8]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",ta,[e("span",aa,s(a(l)("button.all")),1)])],42,la),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(Q=>Re(c,Q),["prevent"]),onMousedown:n[9]||(n[9]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",oa,[e("span",na,s(t.number),1)])],42,sa))),128))])):f("",!0),u.value.length===0?(r(),d("div",ia,[e("p",ra,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",_a,[e("div",ua,[e("div",{class:"segmented__indicator",style:H(Ze.value)},null,4),(r(),d(k,null,w(Se,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[10]||(n[10]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",ca,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,da)),64))]),e("div",va,[v.value===-1?(r(),d("div",ba,[D.value.locomotive?(r(),d("div",ha,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"locomotive"))}]),onClick:c=>X(P(t.id,"locomotive"),c)},[e("p",ma,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",fa,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,pa),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",ya,s(c.row.label),1),e("span",ga,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.information?(r(),d("div",ka,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"information"))}]),onClick:c=>X(P(t.id,"information"),c)},[e("p",Ca,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",xa,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,wa),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Pa,s(c.row.label),1),e("span",Va,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.location?(r(),d("div",Ta,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"location"))}]),onClick:c=>X(P(t.id,"location"),c)},[e("p",Sa,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",La,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Da),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Aa,s(c.row.label),1),e("span",Ra,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.fuel?(r(),d("div",Ma,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"fuel"))}]),onClick:c=>X(P(t.id,"fuel"),c)},[e("p",Ka,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",$a,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Ea),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Oa,s(c.row.label),1),e("span",Ia,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.energy?(r(),d("div",Fa,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"energy"))}]),onClick:c=>X(P(t.id,"energy"),c)},[e("p",Ua,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",Ba,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Na),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Ya,s(c.row.label),1),e("span",Ha,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.krpd?(r(),d("div",Ga,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"krpd"))}]),onClick:c=>X(P(t.id,"krpd"),c)},[e("p",ja,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",Xa,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,za),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",qa,s(c.row.label),1),e("span",Wa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[v.value]?(r(),d("div",Ja,[D.value.locomotive?(r(),d("div",Qa,[e("div",Za,[e("p",es,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",ls,[o(m,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",ts,s(t.row.label),1),e("span",as,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.information?(r(),d("div",ss,[e("div",os,[e("p",ns,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",is,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",rs,s(t.row.label),1),e("span",_s,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.location?(r(),d("div",us,[e("div",ds,[e("p",cs,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",vs,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",bs,s(t.row.label),1),e("span",hs,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.fuel?(r(),d("div",ps,[e("div",ms,[e("p",fs,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",ys,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",gs,s(t.row.label),1),e("span",ks,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.energy?(r(),d("div",ws,[e("div",Cs,[e("p",xs,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",Ps,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Vs,s(t.row.label),1),e("span",Ts,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.krpd?(r(),d("div",Ds,[e("div",Ss,[e("p",Ls,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",As,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Rs,s(t.row.label),1),e("span",Ms,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[ee,A.value.message]]),Z(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(r(),d("div",Es,[e("div",{class:"segmented__indicator",style:H(ll.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[11]||(n[11]=C(t=>Me(-1,t),["prevent"])),onMousedown:n[12]||(n[12]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",$s,[e("span",Os,s(a(l)("button.all")),1)])],42,Ks),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Q=>Me(c,Q),["prevent"]),onMousedown:n[13]||(n[13]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",Fs,[e("span",Ns,s(t.number),1)])],42,Is))),128))])):f("",!0),u.value.length===0?(r(),d("div",Us,[e("p",Bs,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",Ys,[e("div",Hs,[e("div",{class:"segmented__indicator",style:H(tl.value)},null,4),(r(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":B.value===t.value}]),onClick:C(c=>_l(t.value,c),["prevent"]),onMousedown:n[14]||(n[14]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":B.value===t.value},[e("div",zs,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Gs)),64))]),e("div",js,[y.value===-1?(r(),d("div",Xs,[N.value.route?(r(),d("div",qs,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",Js,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Qs,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Ws),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Zs,s(c.row.label),1),e("span",eo,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.fuel?(r(),d("div",lo,[e("div",to,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[15]||(n[15]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:i(()=>[(r(),d(k,null,w(Ve,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",so,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",oo,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,ao),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:Te(t),border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",no,s(c.row.label),1),e("span",io,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.electricity?(r(),d("div",ro,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",uo,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",co,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,_o),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",vo,s(c.row.label),1),e("span",bo,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(r(),d("div",ho,[N.value.route?(r(),d("div",po,[e("div",mo,[e("div",fo,[e("p",yo,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",go,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",ko,s(t.row.label),1),e("span",wo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.fuel?(r(),d("div",Co,[e("div",xo,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[16]||(n[16]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:i(()=>[(r(),d(k,null,w(Ve,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Po,[e("div",Vo,[e("p",To,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Do,[o(m,{data:Te(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",So,s(t.row.label),1),e("span",Lo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.electricity?(r(),d("div",Ao,[e("div",Ro,[e("div",Mo,[e("p",Eo,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Ko,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",$o,s(t.row.label),1),e("span",Oo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[ee,A.value.total]]),Z(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(r(),d("div",Io,[e("div",{class:"segmented__indicator",style:H(sl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":z.value===-1}]),onClick:n[17]||(n[17]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[18]||(n[18]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":z.value===-1},[e("div",No,[e("span",Uo,s(a(l)("button.all")),1)])],42,Fo),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":z.value===c}]),onClick:C(Q=>Ee(c,Q),["prevent"]),onMousedown:n[19]||(n[19]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":z.value===c},[e("div",Yo,[e("span",Ho,s(t.number),1)])],42,Bo))),128))])):f("",!0),u.value.length===0?(r(),d("div",Go,[e("p",zo,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",jo,[e("div",Xo,[o(re,{modelValue:F.value,"onUpdate:modelValue":n[20]||(n[20]=t=>F.value=t),placeholder:a(l)("button.select"),onChange:ul,size:"large",class:"events__type_select"},{default:i(()=>[(r(),d(k,null,w(vl,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",qo,[o(m,{data:pe.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:i(()=>[e("div",Wo,s(a(l)("table.noData")),1)]),default:i(()=>[o(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"]),F.value==="dop_reg"?(r(),L(b,{key:0,prop:"additionalInfo",label:a(l)("table.noLocomotivesSelected"),"min-width":"200"},null,8,["label"])):f("",!0),F.value==="idle"?(r(),L(b,{key:1,prop:"idleDuration",label:a(l)("table.noLocomotivesSelected"),width:"120"},null,8,["label"])):f("",!0),F.value==="rfid"?(r(),L(b,{key:2,prop:"rfidCode",label:a(l)("table.noLocomotivesSelected"),width:"150"},null,8,["label"])):f("",!0),F.value==="violations"?(r(),L(b,{key:3,prop:"violationType",label:a(l)("table.noLocomotivesSelected"),width:"180"},null,8,["label"])):f("",!0)]),_:1},8,["data"]),pe.value.length>10?(r(),d("div",Jo,[o(hl,{"page-size":10,layout:"prev, pager, next",total:pe.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[ee,A.value.events]])])])):f("",!0),e("div",Qo,[ke.value<=1279?(r(),d("div",Zo,[e("p",en,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",ln,s(Ke.value.length),1)]),o(re,{modelValue:we.value,"onUpdate:modelValue":n[21]||(n[21]=t=>we.value=t),filterable:"",placeholder:a(l)("button.select"),onChange:El,"filter-method":Kl,class:"segmented__select"},{empty:i(()=>[e("div",an,s(a(l)("table.noData")),1)]),default:i(()=>[(r(!0),d(k,null,w(Ke.value,t=>{var c;return r(),L(ie,{key:t.id,label:`${t.type} - ${t.number}`,value:((c=t.id)==null?void 0:c.toString())||""},{default:i(()=>[e("div",tn,[e("span",null,s(t.type),1),e("span",null,s(t.number),1),e("span",null,s(t.date),1)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):f("",!0),e("div",sn,[o(Xl)]),e("div",on,[e("div",nn,[o(W,{class:"history__charts_button",type:"primary",icon:a(Fl)},null,8,["icon"]),o(W,{class:"history__charts_button",type:"primary",icon:a(Nl)},null,8,["icon"]),o(W,{class:"history__charts_button",type:"primary",icon:a(kl)},null,8,["icon"]),e("div",rn,[e("div",{class:"segmented__indicator",style:H(Dl.value)},null,4),(r(),d(k,null,w(ze,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":K.value===t.value}]),onClick:C(c=>Sl(t.value,c),["prevent"]),onMousedown:n[22]||(n[22]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":K.value===t.value},[e("div",un,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two",title:t.label},null,8,["title"]))])],42,_n)),64))]),o(vt)]),Z(e("div",dn,[e("div",{ref_key:"chartContainer",ref:ye},null,512)],512),[[ee,je.value.one]]),Z(e("div",cn,n[49]||(n[49]=[e("div",null,"График 2 - скоро будет реализован",-1)]),512),[[ee,je.value.two]]),Z(e("div",vn,n[50]||(n[50]=[e("div",null,"График 3 - скоро будет реализован",-1)]),512),[[ee,je.value.three]])]),ke.value<=1279?(r(),d("div",bn,[ke.value<=1279?(r(),d("div",hn,[e("div",{class:"segmented__indicator",style:H(Qe.value)},null,4),(r(),d(k,null,w(De,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[23]||(n[23]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",mn,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,pn)),64))])):f("",!0),Z(e("div",{class:p(["history__table",{active:A.value.info}])},[e("div",fn,[o(bl,{ref_key:"addStatusFormRef",ref:Ae,model:R,rules:ol,"label-position":"top","label-width":"auto"},{default:i(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:i(()=>[e("div",yn,[o(Oe,{modelValue:R.datestart,"onUpdate:modelValue":n[24]||(n[24]=t=>R.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:R.timestart,"onUpdate:modelValue":n[25]||(n[25]=t=>R.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:i(()=>[e("div",gn,[o(Oe,{modelValue:R.dateend,"onUpdate:modelValue":n[26]||(n[26]=t=>R.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:R.timeend,"onUpdate:modelValue":n[27]||(n[27]=t=>R.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[28]||(n[28]=t=>nl(Ae.value))},[e("span",kn,[o(h,null,{default:i(()=>[(r(),L(U(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",wn,[e("span",Cn,[o(h,null,{default:i(()=>[(r(),L(U(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:J},[e("span",xn,[o(h,null,{default:i(()=>[(r(),L(U(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Pn,[e("span",Vn,[o(h,null,{default:i(()=>[(r(),L(U(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[ee,A.value.info]]),Z(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(r(),d("div",Tn,[e("div",{class:"segmented__indicator",style:H(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:n[29]||(n[29]=C(t=>Re(-1,t),["prevent"])),onMousedown:n[30]||(n[30]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",Sn,[e("span",Ln,s(a(l)("button.all")),1)])],42,Dn),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(Q=>Re(c,Q),["prevent"]),onMousedown:n[31]||(n[31]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",Rn,[e("span",Mn,s(t.number),1)])],42,An))),128))])):f("",!0),u.value.length===0?(r(),d("div",En,[e("p",Kn,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",$n,[e("div",On,[e("div",{class:"segmented__indicator",style:H(Ze.value)},null,4),(r(),d(k,null,w(Se,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[32]||(n[32]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",Fn,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,In)),64))]),e("div",Nn,[v.value===-1?(r(),d("div",Un,[D.value.locomotive?(r(),d("div",Bn,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"locomotive"))}]),onClick:c=>X(P(t.id,"locomotive"),c)},[e("p",Hn,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Gn,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Yn),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",zn,s(c.row.label),1),e("span",jn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.information?(r(),d("div",Xn,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"information"))}]),onClick:c=>X(P(t.id,"information"),c)},[e("p",Wn,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",Jn,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,qn),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Qn,s(c.row.label),1),e("span",Zn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.location?(r(),d("div",ei,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"location"))}]),onClick:c=>X(P(t.id,"location"),c)},[e("p",ti,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",ai,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,li),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",si,s(c.row.label),1),e("span",oi,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.fuel?(r(),d("div",ni,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"fuel"))}]),onClick:c=>X(P(t.id,"fuel"),c)},[e("p",ri,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",_i,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,ii),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",ui,s(c.row.label),1),e("span",di,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.energy?(r(),d("div",ci,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"energy"))}]),onClick:c=>X(P(t.id,"energy"),c)},[e("p",bi,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",hi,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,vi),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",pi,s(c.row.label),1),e("span",mi,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),D.value.krpd?(r(),d("div",fi,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(P(t.id,"krpd"))}]),onClick:c=>X(P(t.id,"krpd"),c)},[e("p",gi,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",ki,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,yi),e("div",{class:p(["history__tab_container",{collapsed:S(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",wi,s(c.row.label),1),e("span",Ci,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[v.value]?(r(),d("div",xi,[D.value.locomotive?(r(),d("div",Pi,[e("div",Vi,[e("p",Ti,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",Di,[o(m,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Si,s(t.row.label),1),e("span",Li,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.information?(r(),d("div",Ai,[e("div",Ri,[e("p",Mi,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",Ei,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Ki,s(t.row.label),1),e("span",$i,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.location?(r(),d("div",Oi,[e("div",Ii,[e("p",Fi,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",Ni,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Ui,s(t.row.label),1),e("span",Bi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.fuel?(r(),d("div",Yi,[e("div",Hi,[e("p",Gi,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",zi,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",ji,s(t.row.label),1),e("span",Xi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.energy?(r(),d("div",qi,[e("div",Wi,[e("p",Ji,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",Qi,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",Zi,s(t.row.label),1),e("span",er,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),D.value.krpd?(r(),d("div",lr,[e("div",tr,[e("p",ar,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",sr,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",or,s(t.row.label),1),e("span",nr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[ee,A.value.message]]),Z(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(r(),d("div",ir,[e("div",{class:"segmented__indicator",style:H(ll.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[33]||(n[33]=C(t=>Me(-1,t),["prevent"])),onMousedown:n[34]||(n[34]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",_r,[e("span",ur,s(a(l)("button.all")),1)])],42,rr),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Q=>Me(c,Q),["prevent"]),onMousedown:n[35]||(n[35]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",cr,[e("span",vr,s(t.number),1)])],42,dr))),128))])):f("",!0),u.value.length===0?(r(),d("div",br,[e("p",hr,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",pr,[e("div",mr,[e("div",{class:"segmented__indicator",style:H(tl.value)},null,4),(r(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":B.value===t.value}]),onClick:C(c=>_l(t.value,c),["prevent"]),onMousedown:n[36]||(n[36]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":B.value===t.value},[e("div",yr,[(r(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,fr)),64))]),e("div",gr,[y.value===-1?(r(),d("div",kr,[N.value.route?(r(),d("div",wr,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",xr,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Pr,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Cr),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Vr,s(c.row.label),1),e("span",Tr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.fuel?(r(),d("div",Dr,[e("div",Sr,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[37]||(n[37]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:i(()=>[(r(),d(k,null,w(Ve,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",Ar,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Rr,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,Lr),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:Te(t),border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Mr,s(c.row.label),1),e("span",Er,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.electricity?(r(),d("div",Kr,[(r(!0),d(k,null,w(u.value,t=>(r(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!q($(t.id))}]),onClick:c=>he($(t.id),c)},[e("p",Or,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Ir,[o(h,null,{default:i(()=>[o(a(M))]),_:1})])],10,$r),e("div",{class:p(["history__tab_container",{collapsed:q($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(c=>[e("span",Fr,s(c.row.label),1),e("span",Nr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(r(),d("div",Ur,[N.value.route?(r(),d("div",Br,[e("div",Yr,[e("div",Hr,[e("p",Gr,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",zr,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",jr,s(t.row.label),1),e("span",Xr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.fuel?(r(),d("div",qr,[e("div",Wr,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[38]||(n[38]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:i(()=>[(r(),d(k,null,w(Ve,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Jr,[e("div",Qr,[e("p",Zr,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",e_,[o(m,{data:Te(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",l_,s(t.row.label),1),e("span",t_,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.electricity?(r(),d("div",a_,[e("div",s_,[e("div",o_,[e("p",n_,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",i_,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:i(()=>[o(b,null,{default:i(t=>[e("span",r_,s(t.row.label),1),e("span",__,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[ee,A.value.total]]),Z(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(r(),d("div",u_,[e("div",{class:"segmented__indicator",style:H(sl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":z.value===-1}]),onClick:n[39]||(n[39]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[40]||(n[40]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":z.value===-1},[e("div",c_,[e("span",v_,s(a(l)("button.all")),1)])],42,d_),(r(!0),d(k,null,w(u.value,(t,c)=>(r(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":z.value===c}]),onClick:C(Q=>Ee(c,Q),["prevent"]),onMousedown:n[41]||(n[41]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":z.value===c},[e("div",h_,[e("span",p_,s(t.number),1)])],42,b_))),128))])):f("",!0),u.value.length===0?(r(),d("div",m_,[e("p",f_,s(a(l)("table.noLocomotivesSelected")),1)])):(r(),d("div",y_,[e("div",g_,[o(re,{modelValue:F.value,"onUpdate:modelValue":n[42]||(n[42]=t=>F.value=t),placeholder:a(l)("button.selectEventType"),onChange:ul,size:"large",class:"events__type_select"},{default:i(()=>[(r(),d(k,null,w(vl,t=>o(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",k_,[o(m,{data:pe.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:i(()=>[e("div",w_,s(a(l)("table.noData")),1)]),default:i(()=>[o(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"])]),_:1},8,["data"]),pe.value.length>10?(r(),d("div",C_,[o(hl,{"page-size":10,layout:"prev, pager, next",total:pe.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[ee,A.value.events]])])):f("",!0)])])])])])),e("div",{class:p(["overlay_full",{active:ae.value}]),onClick:ve},null,2),e("div",{class:p(["history_popup popup",{active:I.value}])},[e("div",x_,[e("div",P_,[e("button",{class:"history_popup__close popup__close",onClick:J},[o(h,null,{default:i(()=>[o(a(Ul))]),_:1})]),e("h4",V_,s(a(l)("history.selectingParameters")),1),e("ul",T_,[e("li",D_,[e("h5",S_,s(a(l)("history.main")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[43]||(n[43]=t=>E.value=t)},{default:i(()=>[e("div",L_,[o(T,{label:"speedKmh",name:"speedKmh"},{default:i(()=>[V(s(a(l)("history.speedKmh")),1)]),_:1})]),e("div",A_,[o(T,{label:"brakePipePressureKgfCm2",name:"brakePipePressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.brakePipePressureKgfCm2")),1)]),_:1})]),e("div",R_,[o(T,{label:"brakeCylinderPressureKgfCm2",name:"brakeCylinderPressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.brakeCylinderPressureKgfCm2")),1)]),_:1})]),e("div",M_,[o(T,{label:"feedPipePressureKgfCm2",name:"feedPipePressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.feedPipePressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",E_,[e("h5",K_,s(a(l)("history.fuelParameters")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[44]||(n[44]=t=>E.value=t)},{default:i(()=>[e("div",$_,[o(T,{label:"fuelVolumeL",name:"fuelVolumeL"},{default:i(()=>[V(s(a(l)("history.fuelVolumeL")),1)]),_:1})]),e("div",O_,[o(T,{label:"fuelVolume20C",name:"fuelVolume20C"},{default:i(()=>[V(s(a(l)("history.fuelVolume20C")),1)]),_:1})]),e("div",I_,[o(T,{label:"fuelMassKg",name:"fuelMassKg"},{default:i(()=>[V(s(a(l)("history.fuelMassKg")),1)]),_:1})]),e("div",F_,[o(T,{label:"filterFuelReadings",name:"filterFuelReadings"},{default:i(()=>[V(s(a(l)("history.filterFuelReadings")),1)]),_:1})]),e("div",N_,[o(T,{label:"fuelTemperatureC",name:"fuelTemperatureC"},{default:i(()=>[V(s(a(l)("history.fuelTemperatureC")),1)]),_:1})]),e("div",U_,[o(T,{label:"fuelDensityKgM3",name:"fuelDensityKgM3"},{default:i(()=>[V(s(a(l)("history.fuelDensityKgM3")),1)]),_:1})]),e("div",B_,[o(T,{label:"movingAverage",name:"movingAverage"},{default:i(()=>[V(s(a(l)("history.movingAverage")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",Y_,[e("h5",H_,s(a(l)("history.dieselParameters")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[45]||(n[45]=t=>E.value=t)},{default:i(()=>[e("div",G_,[o(T,{label:"tractionGeneratorCurrentA",name:"tractionGeneratorCurrentA"},{default:i(()=>[V(s(a(l)("history.tractionGeneratorCurrentA")),1)]),_:1})]),e("div",z_,[o(T,{label:"tractionGeneratorVoltageV",name:"tractionGeneratorVoltageV"},{default:i(()=>[V(s(a(l)("history.tractionGeneratorVoltageV")),1)]),_:1})]),e("div",j_,[o(T,{label:"tractionGeneratorPowerKw",name:"tractionGeneratorPowerKw"},{default:i(()=>[V(s(a(l)("history.tractionGeneratorPowerKw")),1)]),_:1})]),e("div",X_,[o(T,{label:"dieselEngineRpm",name:"dieselEngineRpm"},{default:i(()=>[V(s(a(l)("history.dieselEngineRpm")),1)]),_:1})]),e("div",q_,[o(T,{label:"waterTemperatureC",name:"waterTemperatureC"},{default:i(()=>[V(s(a(l)("history.waterTemperatureC")),1)]),_:1})]),e("div",W_,[o(T,{label:"oilTemperatureC",name:"oilTemperatureC"},{default:i(()=>[V(s(a(l)("history.oilTemperatureC")),1)]),_:1})]),e("div",J_,[o(T,{label:"oilPressureKgfCm2",name:"oilPressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.oilPressureKgfCm2")),1)]),_:1})]),e("div",Q_,[o(T,{label:"fuelPressureKgfCm2",name:"fuelPressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.fuelPressureKgfCm2")),1)]),_:1})]),e("div",Z_,[o(T,{label:"boostAirPressureKgfCm2",name:"boostAirPressureKgfCm2"},{default:i(()=>[V(s(a(l)("history.boostAirPressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",eu,[e("h5",lu,s(a(l)("history.electricityParameters")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[46]||(n[46]=t=>E.value=t)},{default:i(()=>[e("div",tu,[o(T,{label:"instantaneousActivePowerKw",name:"instantaneousActivePowerKw"},{default:i(()=>[V(s(a(l)("history.instantaneousActivePowerKw")),1)]),_:1})]),e("div",au,[o(T,{label:"instantaneousReactivePowerKvar",name:"instantaneousReactivePowerKvar"},{default:i(()=>[V(s(a(l)("history.instantaneousReactivePowerKvar")),1)]),_:1})]),e("div",su,[o(T,{label:"instantaneousApparentPowerKva",name:"instantaneousApparentPowerKva"},{default:i(()=>[V(s(a(l)("history.instantaneousApparentPowerKva")),1)]),_:1})]),e("div",ou,[o(T,{label:"voltageV",name:"voltageV"},{default:i(()=>[V(s(a(l)("history.voltageV")),1)]),_:1})]),e("div",nu,[o(T,{label:"currentA",name:"currentA"},{default:i(()=>[V(s(a(l)("history.currentA")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",iu,[e("h5",ru,s(a(l)("history.meteredElectricity")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[47]||(n[47]=t=>E.value=t)},{default:i(()=>[e("div",_u,[o(T,{label:"activeEnergyForwardKwh",name:"activeEnergyForwardKwh"},{default:i(()=>[V(s(a(l)("history.activeEnergyForwardKwh")),1)]),_:1})]),e("div",uu,[o(T,{label:"activeEnergyReverseKwh",name:"activeEnergyReverseKwh"},{default:i(()=>[V(s(a(l)("history.activeEnergyReverseKwh")),1)]),_:1})]),e("div",du,[o(T,{label:"reactiveEnergyForwardKvarh",name:"reactiveEnergyForwardKvarh"},{default:i(()=>[V(s(a(l)("history.reactiveEnergyForwardKvarh")),1)]),_:1})]),e("div",cu,[o(T,{label:"reactiveEnergyReverseKvarh",name:"reactiveEnergyReverseKvarh"},{default:i(()=>[V(s(a(l)("history.reactiveEnergyReverseKvarh")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",vu,[e("h5",bu,s(a(l)("history.additionalParameters")),1),o(me,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[48]||(n[48]=t=>E.value=t)},{default:i(()=>[e("div",hu,[o(T,{label:"driverControllerPosition",name:"driverControllerPosition"},{default:i(()=>[V(s(a(l)("history.driverControllerPosition")),1)]),_:1})]),e("div",pu,[o(T,{label:"als",name:"als"},{default:i(()=>[V(s(a(l)("history.als")),1)]),_:1})])]),_:1},8,["modelValue"])])])])]),e("div",mu,[e("button",{class:"popup__button button__second button",onClick:J},[e("span",null,s(a(l)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:Ye},[e("span",null,s(a(l)("button.save")),1)])])],2),o(Jl)],64)}}}),_d=de(fu,[["__scopeId","data-v-9edc12a7"]]);export{_d as default};
