import{d as ve,e as _,b as q,c as m,R as t,I as he,a as e,J as s,u as l,E as j,M as fe,O as L,P as a,D as x,Q as B,al as d,o as p,a4 as U,W as we}from"./vendor-@vue-Bz_wJ882.js";import{B as Ce,A as ye,P as ke,M as Le}from"./vendor-@element-plus-DJ55j-yS.js";import{H as xe}from"./Header-DifcjWJ1.js";import{F as Te}from"./Footer-D4qMeZd5.js";import{B as De}from"./Back-BcQOdGe-.js";import{P as Ve}from"./Preloader-CTjq2Blf.js";import{C as G}from"./CargoList-DPPZw03w.js";import{C as Re}from"./CargoFaq-BjRGtSmC.js";import{_ as Ee}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-RIvakrk_.js";import{T as K,_ as Oe}from"./index-CXQX6UJ3.js";import{u as Be}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./LogoSVG-FdJAhbjC.js";import"./vendor-vue-router-0eOeNsIj.js";import"./vendor-element-plus-CoIo5P0c.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./VideoPlayer-CZzDQXTJ.js";import"./GoBack-fGQkXZsr.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";const Fe={key:1,class:"cargo"},Ne={class:"cargo__container container"},Ae={class:"cargo__block"},Me={class:"cargo__flex list_flex"},He={class:"cargo__left list_left"},Pe={class:"cargo__list list_scroll"},Ue={class:"cargo__right list_right"},We={class:"breadcrumbs"},qe={class:"breadcrumbs__list"},Ie={class:"breadcrumbs__item"},Qe={class:"breadcrumbs__item"},ze=["title"],Se={class:"faq__icon"},Je={class:"cargo__select"},$e={class:"cargo__content"},je={class:"cargo__tables"},Ge={class:"cargo__table cargo__one"},Ke={class:"el-table_title"},Xe={class:"el-table_count text_four"},Ye={class:"el-table_arrow"},Ze={class:"table_empty"},et={key:0,class:"el-table_bottom"},tt={class:"el-table_bottom_left"},lt={class:"el-table_search"},ot={key:0,class:"cargo__table cargo__two"},at={class:"el-table_title"},st={class:"el-table_number"},nt={class:"el-table_count text_four"},rt={class:"el-table_arrow"},ct={class:"table_empty"},ut={key:1,class:"el-table__empty"},it={class:"el-table__empty_text text_two"},_t={key:2,class:"el-table__empty"},dt={class:"el-table__empty_text text_two"},pt={class:"ipopup__scroll popup__scroll"},bt={class:"ipopup__block popup__block"},mt={class:"cargo_add__scroll popup__scroll_buttons"},gt={class:"cargo_add__block popup__block"},vt={class:"cargo_add__head popup__head"},ht={class:"transfer__option text_three transfer__option_three_four"},ft={class:"transfer__switch"},wt={class:"transfer__footer text_three transfer__footer_three"},Ct={class:"transfer__footer text_three transfer__footer_four"},yt={class:"popup__buttons"},kt={class:"cargo_disband__scroll popup__scroll_buttons"},Lt={class:"cargo_disband__block popup__block"},xt={class:"cargo_disband__head popup__head"},Tt={class:"popup__buttons"},Dt={class:"cargo_delete__scroll popup__scroll_buttons"},Vt={class:"cargo_delete__block popup__block"},Rt={class:"cargo_delete__head popup__head"},Et={class:"popup__buttons"},Ot=ve({__name:"CargoRailway",setup(Bt){const{t:o}=Be(),X=_(!1),w=_(""),I=q(()=>w.value?J.filter(n=>{var r,i,f,u,g;return((r=n.number)==null?void 0:r.toLowerCase().includes(w.value.toLowerCase()))||((i=n.date)==null?void 0:i.toLowerCase().includes(w.value.toLowerCase()))||((f=n.count)==null?void 0:f.toLowerCase().includes(w.value.toLowerCase()))||((u=n.massa)==null?void 0:u.toLowerCase().includes(w.value.toLowerCase()))||((g=n.wagons)==null?void 0:g.toLowerCase().includes(w.value.toLowerCase()))}):J),h=_(!1),T=_(!1),D=_(!1),V=_(!1),R=_(!1),Y=()=>{T.value=!1,D.value=!1,V.value=!1,R.value=!1,h.value=!1,document.documentElement.classList.remove("noscroll")},Q=()=>{T.value=!T.value,h.value=!h.value,T.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},F=()=>{D.value=!D.value,h.value=!h.value,D.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},N=()=>{V.value=!V.value,h.value=!h.value,V.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},A=()=>{R.value=!R.value,h.value=!h.value,R.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},z=_([]),Z=_((()=>{const n=[],r=["0001","0002","0003","0004","0005"],i=["Серия А","Серия Б","Серия В","Серия Г","Серия Д"],f=["Сцепка 1","Сцепка 2","Сцепка 3","Сцепка 4","Сцепка 5"];return r.forEach((u,g)=>{n.push({label:u,key:g,initial:i[g],number:u,series:i[g],coupling:f[g],nudge:!1})}),n})()),ee=(n,r)=>{var f,u,g,O;const i=n.toLowerCase();return((f=r.number)==null?void 0:f.toLowerCase().includes(i))||((u=r.series)==null?void 0:u.toLowerCase().includes(i))||((g=r.initial)==null?void 0:g.toLowerCase().includes(i))||((O=r.label)==null?void 0:O.toLowerCase().includes(i))},C=_(),te=_(),le=_(),oe=_(),E=_(!0),M=_(!0),W=q(()=>{var n;return(n=C.value)!=null&&n.number?ie.filter(r=>{var i;return(i=r.number)==null?void 0:i.includes(C.value.number)}):[]}),S=q(()=>W.value.length>0),ae=n=>{C.value=n},se=n=>{te.value=n},ne=({rowIndex:n})=>n%2===1?"bg_gray":"",re=({rowIndex:n})=>n%2===1?"bg_gray":"",ce=()=>{E.value=!E.value},ue=()=>{M.value=!M.value},J=[{id:1,number:"0001",date:"2016-05-03",count:"1",massa:"6",wagons:"3"},{id:2,number:"0002",date:"2016-05-03",count:"1",massa:"6",wagons:"1"},{id:3,number:"0003",date:"2016-05-03",count:"1",massa:"6",wagons:"0"},{id:4,number:"0004",date:"2016-05-03",count:"1",massa:"6",wagons:"7"}],ie=[{id:[1,2],number:["0001","0002"],series:["2016-05-03","2016-05-04"],coupling:["1","2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"},{id:[3],number:["0003"],series:["2016-05-04"],coupling:["2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"}];return(n,r)=>{const i=d("RouterLink"),f=d("QuestionFilled"),u=d("el-icon"),g=d("router-view"),O=d("ArrowDown"),c=d("el-table-column"),$=d("el-table"),H=d("el-button"),_e=d("el-button-group"),de=d("el-input"),pe=d("FolderOpened"),be=d("Top"),P=d("CloseBold"),me=d("el-switch"),ge=d("el-transfer");return p(),m(B,null,[t(xe),X.value?(p(),he(Ve,{key:0})):(p(),m("section",Fe,[e("div",Ne,[e("div",Ae,[e("div",Me,[e("div",He,[e("ul",Pe,[t(G,{"is-mobile":!1})])]),e("div",Ue,[e("div",We,[e("ul",qe,[t(Ee),e("li",Ie,[t(i,{class:"breadcrumbs__link text_four",to:l(K).i18nRoute({name:"cargo"})},{default:s(()=>[L(a(l(o)("header.cargo")),1)]),_:1},8,["to"])]),e("li",Qe,[t(i,{class:"breadcrumbs__link text_four",to:l(K).i18nRoute({name:"cargorailway"})},{default:s(()=>[L(a(l(o)("header.cargorailway")),1)]),_:1},8,["to"])])]),e("button",{class:"breadcrumbs__instructions title_three",title:l(o)("header.instructions"),onClick:Q},[e("span",Se,[t(u,null,{default:s(()=>[t(f)]),_:1})])],8,ze)]),e("div",Je,[t(G,{"is-mobile":!0})]),e("div",$e,[t(g)]),e("div",je,[e("div",Ge,[t($,{ref_key:"oneTableRef",ref:le,data:I.value,"highlight-current-row":"",style:j([{width:"100%"},{maxHeight:E.value?"240px":"25px"}]),"row-class-name":ne,onCurrentChange:ae,"max-height":"240",border:""},{empty:s(()=>[e("div",Ze,a(l(o)("table.noData")),1)]),default:s(()=>[t(c,{"header-align":"center"},{header:s(()=>[e("span",{class:x(["el-table_top",{active:E.value}]),onClick:ce},[e("span",Ke,[L(a(l(o)("table.railwayTrains"))+" - ",1),e("span",Xe,a(I.value.length),1)]),e("span",Ye,[t(u,null,{default:s(()=>[t(O)]),_:1})])],2)]),default:s(()=>[t(c,{property:"id",sortable:"",label:l(o)("table.id"),width:"65"},null,8,["label"]),t(c,{property:"number",sortable:"",label:l(o)("table.number"),width:"110"},null,8,["label"]),t(c,{property:"date",sortable:"",label:l(o)("table.dateNumber")},null,8,["label"]),t(c,{property:"count",sortable:"",label:l(o)("table.locomotivesCount")},null,8,["label"]),t(c,{property:"massa",sortable:"",label:l(o)("table.cargoMass")},null,8,["label"]),t(c,{property:"wagons",sortable:"",label:l(o)("table.carNumber")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),E.value?(p(),m("div",et,[e("div",tt,[t(_e,{class:"el-table_buttons"},{default:s(()=>[t(H,{type:"primary",class:"el-table_button",icon:l(Ce),title:l(o)("button.addComposition"),onClick:F},null,8,["icon","title"]),t(H,{type:"primary",class:"el-table_button",icon:l(ye),title:l(o)("button.disbandComposition"),onClick:N},null,8,["icon","title"]),t(H,{type:"danger",class:"el-table_button",icon:l(ke),title:l(o)("button.deleteComposition"),onClick:A},null,8,["icon","title"])]),_:1}),e("div",lt,[t(de,{modelValue:w.value,"onUpdate:modelValue":r[0]||(r[0]=b=>w.value=b),placeholder:l(o)("sort.search")},{prepend:s(()=>[t(H,{icon:l(Le),title:l(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):fe("",!0)]),C.value&&S.value?(p(),m("div",ot,[t($,{ref_key:"twoTableRef",ref:oe,data:W.value,"highlight-current-row":"",style:j([{width:"100%"},{maxHeight:M.value?"240px":"25px"}]),"row-class-name":re,onCurrentChange:se,"max-height":"240",border:""},{empty:s(()=>[e("div",ct,a(l(o)("table.noData")),1)]),default:s(()=>{var b;return[t(c,{"header-align":"center"},{header:s(()=>{var v;return[e("span",{class:x(["el-table_top",{active:M.value}]),onClick:ue},[e("span",at,[L(a(l(o)("table.listLocomotives"))+" ",1),e("span",st,a((v=C.value)==null?void 0:v.number),1),r[3]||(r[3]=L(" - ")),e("span",nt,a(W.value.length),1)]),e("span",rt,[t(u,null,{default:s(()=>[t(O)]),_:1})])],2)]}),default:s(()=>[t(c,{label:l(o)("table.id"),width:"65",align:"center"},{default:s(v=>[(p(!0),m(B,null,U(v.row.id,(y,k)=>(p(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.number"),width:"110",align:"center"},{default:s(v=>[(p(!0),m(B,null,U(v.row.number,(y,k)=>(p(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.series"),align:"center"},{default:s(v=>[(p(!0),m(B,null,U(v.row.series,(y,k)=>(p(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.coupling"),align:"center"},{default:s(v=>[(p(!0),m(B,null,U(v.row.coupling,(y,k)=>(p(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"])]),_:1}),t(c,{label:l(o)("table.cargoTrain",{number:((b=C.value)==null?void 0:b.number)||""}),"header-align":"center"},{default:s(()=>[t(c,{property:"nudge",label:l(o)("table.signNudge"),align:"center"},null,8,["label"]),t(c,{property:"wagons",label:l(o)("table.numberWagons"),align:"center"},null,8,["label"]),t(c,{property:"netweight",label:l(o)("table.netWeight"),align:"center"},null,8,["label"]),t(c,{property:"grossweight",label:l(o)("table.grossWeight"),align:"center"},null,8,["label"]),t(c,{property:"additionalmass",label:l(o)("table.additionalMass"),align:"center"},null,8,["label"]),t(c,{property:"axles",label:l(o)("table.numberAxles"),align:"center"},null,8,["label"]),t(c,{property:"tara",label:l(o)("table.tara"),align:"center"},null,8,["label"])]),_:1},8,["label"])]}),_:1},8,["data","style"])])):C.value&&!S.value?(p(),m("div",ut,[e("p",it,[t(u,null,{default:s(()=>[t(pe)]),_:1}),L(" "+a(l(o)("table.empty")),1)])])):(p(),m("div",_t,[e("p",dt,[t(u,null,{default:s(()=>[t(be)]),_:1}),L(" "+a(l(o)("table.emptyTop")),1)])]))]),t(De)])])])])])),e("div",{class:x(["overlay_full",{active:h.value}]),onClick:Y},null,2),e("div",{class:x(["ipopup popup",{active:T.value}])},[e("div",pt,[e("div",bt,[e("button",{class:"ipopup__close popup__close",onClick:Q},[t(u,null,{default:s(()=>[t(P)]),_:1})]),t(Re)])])],2),e("div",{class:x(["cargo_add popup",{active:D.value}])},[e("div",mt,[e("div",gt,[e("button",{class:"cargo_add__close popup__close",onClick:F},[t(u,null,{default:s(()=>[t(P)]),_:1})]),e("h4",vt,a(l(o)("table.enteringCoupling")),1),t(ge,{modelValue:z.value,"onUpdate:modelValue":r[2]||(r[2]=b=>z.value=b),filterable:"","filter-method":ee,"filter-placeholder":l(o)("sort.search"),data:Z.value,"max-height":"240",titles:[l(o)("table.listLoco"),l(o)("table.listLocoCoupling")]},{default:s(({option:b})=>[e("div",ht,[e("span",null,a(b.number||b.label),1),e("span",null,a(b.series||b.initial),1),e("span",null,a(b.coupling||""),1),e("span",ft,[t(me,{modelValue:b.nudge,"onUpdate:modelValue":v=>b.nudge=v,title:l(o)("table.nudge"),onClick:r[1]||(r[1]=we(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","title"])])])]),"left-footer":s(()=>[e("div",wt,[e("span",null,a(l(o)("table.number")),1),e("span",null,a(l(o)("table.series")),1),e("span",null,a(l(o)("table.coupling")),1)])]),"right-footer":s(()=>[e("div",Ct,[e("span",null,a(l(o)("table.number")),1),e("span",null,a(l(o)("table.series")),1),e("span",null,a(l(o)("table.coupling")),1),e("span",null,a(l(o)("table.nudge")),1)])]),_:1},8,["modelValue","filter-placeholder","data","titles"])])]),e("div",yt,[e("button",{class:"popup__button button__second button",onClick:F},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:F},[e("span",null,a(l(o)("button.save")),1)])])],2),e("div",{class:x(["cargo_disband popup",{active:V.value}])},[e("div",kt,[e("div",Lt,[e("button",{class:"cargo_disband__close popup__close",onClick:N},[t(u,null,{default:s(()=>[t(P)]),_:1})]),e("h4",xt,a(l(o)("table.enteringCoupling")),1)])]),e("div",Tt,[e("button",{class:"popup__button button__second button",onClick:N},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:N},[e("span",null,a(l(o)("button.disband")),1)])])],2),e("div",{class:x(["cargo_delete popup",{active:R.value}])},[e("div",Dt,[e("div",Vt,[e("button",{class:"cargo_delete__close popup__close",onClick:A},[t(u,null,{default:s(()=>[t(P)]),_:1})]),e("h4",Rt,a(l(o)("table.enteringCoupling")),1)])]),e("div",Et,[e("button",{class:"popup__button button__second button",onClick:A},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:A},[e("span",null,a(l(o)("button.delete")),1)])])],2),t(Te)],64)}}}),gl=Oe(Ot,[["__scopeId","data-v-e83716cf"]]);export{gl as default};
