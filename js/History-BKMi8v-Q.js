import{o as i,c as d,a as e,d as Vl,e as x,U as Sl,al as O,R as o,J as r,I as L,O as V,P as s,b as q,k as hl,f as ie,m as pl,n as Il,E as z,Q as k,a4 as w,K as ee,S as le,D as p,u as a,M as f,W as C,L as Y}from"./vendor-@vue-Bz_wJ882.js";import{k as R,M as Fl,a6 as ml,a7 as fl,a8 as yl,a9 as gl,aa as Nl,ab as Ul,ac as kl,a1 as Yl,ad as Hl,ae as wl,af as Bl,O as Gl,a4 as zl}from"./vendor-@element-plus-CjGJe9ZW.js";import{B as Cl}from"./api-Cj-Fovd5.js";import{H as jl,L as Xl}from"./Header-DZ6poeQ_.js";import{O as ql}from"./OpenLayers-Blh5lI8-.js";import{H as Wl}from"./vendor-highcharts-CibDmyST.js";import{P as Jl}from"./Preloader-Cd31uGf8.js";import{_ as ue}from"./LogoSVG-DrEZ8wUC.js";import{F as Ql}from"./Footer-BiyIZI2v.js";import{F as xl,E as Pl,K as Zl}from"./krpdSVG-BqZX_BuP.js";import{E as _e}from"./vendor-element-plus-Cew9W0b1.js";import{u as et}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-router-0eOeNsIj.js";import"./index-DhV3zo_x.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-BDst-7bu.js";import"./VideoPlayer-B2NQqpZp.js";import"./GoBack-5ON3PbTo.js";const lt={},tt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function at(de,l){return i(),d("svg",tt,l[0]||(l[0]=[e("path",{d:"M3 2L13 8L3 14Z"},null,-1)]))}const st=ue(lt,[["render",at]]),ot={},nt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function rt(de,l){return i(),d("svg",nt,l[0]||(l[0]=[e("rect",{x:"3",y:"2",width:"3",height:"12"},null,-1),e("rect",{x:"10",y:"2",width:"3",height:"12"},null,-1)]))}const it=ue(ot,[["render",rt]]),_t={class:"history__player"},ut={class:"history__player_controls"},dt={class:"history__player_slider"},ct={class:"history__player_time text_three"},vt=Vl({__name:"PlayerGraph",emits:["progress","play","pause"],setup(de,{expose:l,emit:Ue}){const I=x(!1),ae=x(1),ye=[1,2,4,8,16,32,64],F=x(0),ce=x(null),Q=Ue,Ye=()=>{const H=(ye.indexOf(ae.value)+1)%ye.length;ae.value=ye[H]},ve=()=>{I.value=!I.value,I.value?(We(),Q("play")):(E(),Q("pause"))},We=()=>{E(),ce.value=setInterval(()=>{F.value+=ae.value,F.value>=86400&&(F.value=86400,E(),I.value=!1,Q("pause")),Q("progress",F.value)},1e3)},E=()=>{ce.value&&(clearInterval(ce.value),ce.value=null)},He=K=>{F.value=K,Q("progress",K)},Se=K=>{const H=Math.floor(K/3600),N=Math.floor(K%3600/60),y=Math.floor(K%60);return`${H.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},ge=K=>Se(K),Be=K=>{F.value=K},te=()=>{I.value||ve()},se=()=>{I.value&&ve()};return Sl(()=>{E()}),l({setProgress:Be,play:te,pause:se,togglePlay:ve}),(K,H)=>{const N=O("el-button"),y=O("el-slider");return i(),d("div",_t,[e("div",ut,[o(N,{class:"history__player_button",type:"primary",onClick:ve},{default:r(()=>[I.value?(i(),L(it,{key:1})):(i(),L(st,{key:0}))]),_:1}),o(N,{class:"history__player_speed",type:"primary",onClick:Ye},{default:r(()=>[V(s(ae.value)+"x ",1)]),_:1})]),e("div",dt,[o(y,{modelValue:F.value,"onUpdate:modelValue":H[0]||(H[0]=ke=>F.value=ke),min:0,max:86400,"format-tooltip":ge,onInput:He},null,8,["modelValue"])]),e("div",ct,s(Se(F.value)),1)])}}}),bt=ue(vt,[["__scopeId","data-v-259eb311"]]),ht={},pt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function mt(de,l){return i(),d("svg",pt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"1",-1)]))}const ft=ue(ht,[["render",mt]]),yt={},gt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function kt(de,l){return i(),d("svg",gt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"2",-1)]))}const wt=ue(yt,[["render",kt]]),Ct={},xt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function Pt(de,l){return i(),d("svg",xt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"3",-1)]))}const Vt=ue(Ct,[["render",Pt]]),St={key:1,class:"map"},Tt={class:"history__container container"},Dt={class:"history__block"},Lt={class:"history__flex list_flex"},At={key:0,class:"history__left list_left"},Mt={class:"history__left_tables list_scroll"},Rt={class:"history__top"},Et={class:"history__top_flex"},Kt={class:"segmented__group",role:"radiogroup"},$t=["onClick","aria-checked"],Ot={class:"segmented__label"},It={class:"history__shadow"},Ft={class:"el-table_title"},Nt={class:"el-table_count text_four"},Ut={class:"el-table_arrow"},Yt={class:"table_empty"},Ht={key:0,class:"history__bottom"},Bt={class:"el-table_bottom_left"},Gt={class:"el-table_search"},zt={class:"history__buttons"},jt={class:"el-datetime"},Xt={class:"el-datetime"},qt={class:"button__icon"},Wt={class:"history__button button__primary button",disabled:""},Jt={class:"button__icon"},Qt={class:"button__icon"},Zt={class:"history__button button__second button",disabled:""},ea={class:"button__icon"},la={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},ta=["aria-checked"],aa={class:"segmented__label"},sa={class:"segmented__icon text_two"},oa=["onClick","aria-checked"],na={class:"segmented__label"},ra={class:"segmented__icon text_two"},ia={key:1,class:"history__no_selection"},_a={class:"text_three"},ua={key:2,class:"history__message_wrapper"},da={class:"segmented__group segmented__group_info",role:"radiogroup"},ca=["onClick","aria-checked"],va={class:"segmented__label"},ba={class:"history__information_blocks"},ha={key:0,class:"history__information_all"},pa={key:0,class:"history__locomotive_blocks"},ma=["onClick"],fa={class:"text_three"},ya={class:"el-table_arrow"},ga={class:"info-label"},ka={class:"info-value"},wa={key:1,class:"history__locomotive_blocks"},Ca=["onClick"],xa={class:"text_three"},Pa={class:"el-table_arrow"},Va={class:"info-label"},Sa={class:"info-value"},Ta={key:2,class:"history__locomotive_blocks"},Da=["onClick"],La={class:"text_three"},Aa={class:"el-table_arrow"},Ma={class:"info-label"},Ra={class:"info-value"},Ea={key:3,class:"history__locomotive_blocks"},Ka=["onClick"],$a={class:"text_three"},Oa={class:"el-table_arrow"},Ia={class:"info-label"},Fa={class:"info-value"},Na={key:4,class:"history__locomotive_blocks"},Ua=["onClick"],Ya={class:"text_three"},Ha={class:"el-table_arrow"},Ba={class:"info-label"},Ga={class:"info-value"},za={key:5,class:"history__locomotive_blocks"},ja=["onClick"],Xa={class:"text_three"},qa={class:"el-table_arrow"},Wa={class:"info-label"},Ja={class:"info-value"},Qa={key:1,class:"history__information_single"},Za={key:0,class:"history__information_block"},es={class:"history__block_header"},ls={class:"text_three"},ts={class:"history__tab_container"},as={class:"info-label"},ss={class:"info-value"},os={key:1,class:"history__information_block"},ns={class:"history__block_header"},rs={class:"text_three"},is={class:"history__tab_container"},_s={class:"info-label"},us={class:"info-value"},ds={key:2,class:"history__information_block"},cs={class:"history__block_header"},vs={class:"text_three"},bs={class:"history__tab_container"},hs={class:"info-label"},ps={class:"info-value"},ms={key:3,class:"history__information_block"},fs={class:"history__block_header"},ys={class:"text_three"},gs={class:"history__tab_container"},ks={class:"info-label"},ws={class:"info-value"},Cs={key:4,class:"history__information_block"},xs={class:"history__block_header"},Ps={class:"text_three"},Vs={class:"history__tab_container"},Ss={class:"info-label"},Ts={class:"info-value"},Ds={key:5,class:"history__information_block"},Ls={class:"history__block_header"},As={class:"text_three"},Ms={class:"history__tab_container"},Rs={class:"info-label"},Es={class:"info-value"},Ks={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},$s=["aria-checked"],Os={class:"segmented__label"},Is={class:"segmented__icon text_two"},Fs=["onClick","aria-checked"],Ns={class:"segmented__label"},Us={class:"segmented__icon text_two"},Ys={key:1,class:"history__no_selection"},Hs={class:"text_three"},Bs={key:2,class:"history__total_wrapper"},Gs={class:"segmented__group segmented__group_total",role:"radiogroup"},zs=["onClick","aria-checked"],js={class:"segmented__label"},Xs={class:"history__total_blocks"},qs={key:0,class:"history__total_all"},Ws={key:0,class:"history__total_data_block"},Js=["onClick"],Qs={class:"text_three"},Zs={class:"el-table_arrow"},eo={class:"info-label"},lo={class:"info-value"},to={key:1,class:"history__total_data_block"},ao={class:"total__unit_selector"},so=["onClick"],oo={class:"text_three"},no={class:"el-table_arrow"},ro={class:"info-label"},io={class:"info-value"},_o={key:2,class:"history__total_data_block"},uo=["onClick"],co={class:"text_three"},vo={class:"el-table_arrow"},bo={class:"info-label"},ho={class:"info-value"},po={key:1,class:"history__total_single"},mo={key:0,class:"history__total_data_block"},fo={class:"history__total_block"},yo={class:"history__block_header"},go={class:"text_three"},ko={class:"history__tab_container"},wo={class:"info-label"},Co={class:"info-value"},xo={key:1,class:"history__total_data_block"},Po={class:"total__unit_selector"},Vo={class:"history__total_block"},So={class:"history__block_header"},To={class:"text_three"},Do={class:"history__tab_container"},Lo={class:"info-label"},Ao={class:"info-value"},Mo={key:2,class:"history__total_data_block"},Ro={class:"history__total_block"},Eo={class:"history__block_header"},Ko={class:"text_three"},$o={class:"history__tab_container"},Oo={class:"info-label"},Io={class:"info-value"},Fo={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},No=["aria-checked"],Uo={class:"segmented__label"},Yo={class:"segmented__icon text_two"},Ho=["onClick","aria-checked"],Bo={class:"segmented__label"},Go={class:"segmented__icon text_two"},zo={key:1,class:"history__no_selection"},jo={class:"text_three"},Xo={key:2,class:"history__events_wrapper"},qo={class:"history__events_selector"},Wo={class:"history__events_table"},Jo={class:"table_empty"},Qo={key:0,class:"history__events_pagination"},Zo={class:"history__right list_map"},en={key:0,class:"list_select"},ln={class:"el-select_title"},tn={class:"el-table_count text_four"},an={class:"el-select_option"},sn={class:"el-select_empty"},on={class:"history__map"},nn={class:"history__charts"},rn={class:"history__charts_buttons"},_n={class:"history__segmented segmented__group segmented__group_total",role:"radiogroup"},un=["onClick","aria-checked"],dn={class:"segmented__label"},cn={class:"history__chart history__chart_one"},vn={class:"history__chart history__chart_two"},bn={class:"history__chart history__chart_three"},hn={key:1,class:"history__tables"},pn={key:0,class:"segmented__group",role:"radiogroup"},mn=["onClick","aria-checked"],fn={class:"segmented__label"},yn={class:"history__buttons"},gn={class:"el-datetime"},kn={class:"el-datetime"},wn={class:"button__icon"},Cn={class:"history__button button__primary button",disabled:""},xn={class:"button__icon"},Pn={class:"button__icon"},Vn={class:"history__button button__second button",disabled:""},Sn={class:"button__icon"},Tn={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Dn=["aria-checked"],Ln={class:"segmented__label"},An={class:"segmented__icon text_two"},Mn=["onClick","aria-checked"],Rn={class:"segmented__label"},En={class:"segmented__icon text_two"},Kn={key:1,class:"history__no_selection"},$n={class:"text_three"},On={key:2,class:"history__message_wrapper"},In={class:"segmented__group segmented__group_info",role:"radiogroup"},Fn=["onClick","aria-checked"],Nn={class:"segmented__label"},Un={class:"history__information_blocks"},Yn={key:0,class:"history__information_all"},Hn={key:0,class:"history__locomotive_blocks"},Bn=["onClick"],Gn={class:"text_three"},zn={class:"el-table_arrow"},jn={class:"info-label"},Xn={class:"info-value"},qn={key:1,class:"history__locomotive_blocks"},Wn=["onClick"],Jn={class:"text_three"},Qn={class:"el-table_arrow"},Zn={class:"info-label"},er={class:"info-value"},lr={key:2,class:"history__locomotive_blocks"},tr=["onClick"],ar={class:"text_three"},sr={class:"el-table_arrow"},or={class:"info-label"},nr={class:"info-value"},rr={key:3,class:"history__locomotive_blocks"},ir=["onClick"],_r={class:"text_three"},ur={class:"el-table_arrow"},dr={class:"info-label"},cr={class:"info-value"},vr={key:4,class:"history__locomotive_blocks"},br=["onClick"],hr={class:"text_three"},pr={class:"el-table_arrow"},mr={class:"info-label"},fr={class:"info-value"},yr={key:5,class:"history__locomotive_blocks"},gr=["onClick"],kr={class:"text_three"},wr={class:"el-table_arrow"},Cr={class:"info-label"},xr={class:"info-value"},Pr={key:1,class:"history__information_single"},Vr={key:0,class:"history__information_block"},Sr={class:"history__block_header"},Tr={class:"text_three"},Dr={class:"history__tab_container"},Lr={class:"info-label"},Ar={class:"info-value"},Mr={key:1,class:"history__information_block"},Rr={class:"history__block_header"},Er={class:"text_three"},Kr={class:"history__tab_container"},$r={class:"info-label"},Or={class:"info-value"},Ir={key:2,class:"history__information_block"},Fr={class:"history__block_header"},Nr={class:"text_three"},Ur={class:"history__tab_container"},Yr={class:"info-label"},Hr={class:"info-value"},Br={key:3,class:"history__information_block"},Gr={class:"history__block_header"},zr={class:"text_three"},jr={class:"history__tab_container"},Xr={class:"info-label"},qr={class:"info-value"},Wr={key:4,class:"history__information_block"},Jr={class:"history__block_header"},Qr={class:"text_three"},Zr={class:"history__tab_container"},ei={class:"info-label"},li={class:"info-value"},ti={key:5,class:"history__information_block"},ai={class:"history__block_header"},si={class:"text_three"},oi={class:"history__tab_container"},ni={class:"info-label"},ri={class:"info-value"},ii={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},_i=["aria-checked"],ui={class:"segmented__label"},di={class:"segmented__icon text_two"},ci=["onClick","aria-checked"],vi={class:"segmented__label"},bi={class:"segmented__icon text_two"},hi={key:1,class:"history__no_selection"},pi={class:"text_three"},mi={key:2,class:"history__total_wrapper"},fi={class:"segmented__group segmented__group_total",role:"radiogroup"},yi=["onClick","aria-checked"],gi={class:"segmented__label"},ki={class:"history__total_blocks"},wi={key:0,class:"history__total_all"},Ci={key:0,class:"history__total_data_block"},xi=["onClick"],Pi={class:"text_three"},Vi={class:"el-table_arrow"},Si={class:"info-label"},Ti={class:"info-value"},Di={key:1,class:"history__total_data_block"},Li={class:"total__unit_selector"},Ai=["onClick"],Mi={class:"text_three"},Ri={class:"el-table_arrow"},Ei={class:"info-label"},Ki={class:"info-value"},$i={key:2,class:"history__total_data_block"},Oi=["onClick"],Ii={class:"text_three"},Fi={class:"el-table_arrow"},Ni={class:"info-label"},Ui={class:"info-value"},Yi={key:1,class:"history__total_single"},Hi={key:0,class:"history__total_data_block"},Bi={class:"history__total_block"},Gi={class:"history__block_header"},zi={class:"text_three"},ji={class:"history__tab_container"},Xi={class:"info-label"},qi={class:"info-value"},Wi={key:1,class:"history__total_data_block"},Ji={class:"total__unit_selector"},Qi={class:"history__total_block"},Zi={class:"history__block_header"},e_={class:"text_three"},l_={class:"history__tab_container"},t_={class:"info-label"},a_={class:"info-value"},s_={key:2,class:"history__total_data_block"},o_={class:"history__total_block"},n_={class:"history__block_header"},r_={class:"text_three"},i_={class:"history__tab_container"},__={class:"info-label"},u_={class:"info-value"},d_={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},c_=["aria-checked"],v_={class:"segmented__label"},b_={class:"segmented__icon text_two"},h_=["onClick","aria-checked"],p_={class:"segmented__label"},m_={class:"segmented__icon text_two"},f_={key:1,class:"history__no_selection"},y_={class:"text_three"},g_={key:2,class:"history__events_wrapper"},k_={class:"history__events_selector"},w_={class:"history__events_table"},C_={class:"table_empty"},x_={key:0,class:"history__events_pagination"},P_={class:"history_popup__scroll popup__scroll_buttons"},V_={class:"history_popup__block popup__block"},S_={class:"history_popup__head popup__head"},T_={class:"history_popup__list"},D_={class:"history_popup__item"},L_={class:"history_popup__head"},A_={class:"history_popup__checkbox"},M_={class:"history_popup__checkbox"},R_={class:"history_popup__checkbox"},E_={class:"history_popup__checkbox"},K_={class:"history_popup__item"},$_={class:"history_popup__head"},O_={class:"history_popup__checkbox"},I_={class:"history_popup__checkbox"},F_={class:"history_popup__checkbox"},N_={class:"history_popup__checkbox"},U_={class:"history_popup__checkbox"},Y_={class:"history_popup__checkbox"},H_={class:"history_popup__checkbox"},B_={class:"history_popup__item"},G_={class:"history_popup__head"},z_={class:"history_popup__checkbox"},j_={class:"history_popup__checkbox"},X_={class:"history_popup__checkbox"},q_={class:"history_popup__checkbox"},W_={class:"history_popup__checkbox"},J_={class:"history_popup__checkbox"},Q_={class:"history_popup__checkbox"},Z_={class:"history_popup__checkbox"},eu={class:"history_popup__checkbox"},lu={class:"history_popup__item"},tu={class:"history_popup__head"},au={class:"history_popup__checkbox"},su={class:"history_popup__checkbox"},ou={class:"history_popup__checkbox"},nu={class:"history_popup__checkbox"},ru={class:"history_popup__checkbox"},iu={class:"history_popup__item"},_u={class:"history_popup__head"},uu={class:"history_popup__checkbox"},du={class:"history_popup__checkbox"},cu={class:"history_popup__checkbox"},vu={class:"history_popup__checkbox"},bu={class:"history_popup__item"},hu={class:"history_popup__head"},pu={class:"history_popup__checkbox"},mu={class:"history_popup__checkbox"},fu={class:"popup__buttons"},Ne=4,yu=Vl({__name:"History",setup(de){const{t:l,d:Ue}=et(),I=x(!0),ae=x(!1),ye=x(!1),F=x(!1),ce=()=>{ye.value=!1,F.value=!1,ae.value=!1,document.documentElement.classList.remove("noscroll")},Q=()=>{F.value=!F.value,ae.value=!ae.value,F.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},Ye=(_,n,h=365)=>{const v=new Date;v.setTime(v.getTime()+h*24*60*60*1e3),document.cookie=`${_}=${encodeURIComponent(n)};expires=${v.toUTCString()};path=/`},ve=_=>{const n=_+"=",h=document.cookie.split(";");for(let v=0;v<h.length;v++){let m=h[v];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(n)===0)return decodeURIComponent(m.substring(n.length,m.length))}return null},E=x((()=>{const _=ve("selectedCharts");if(_)try{return JSON.parse(_)}catch(n){console.error("Error parsing saved charts from cookies:",n)}return["speedKmh","fuelVolumeL","fuelVolume20C","fuelMassKg"]})()),He=()=>{Ye("selectedCharts",JSON.stringify(E.value)),Q()},Se=x(null),ge=x(),Be=q(()=>({chart:{type:"line",backgroundColor:"var(--bg-gray)"},title:{text:l("chart.title"),style:{color:"var(--text)"}},xAxis:{categories:[l("chart.months.jan"),l("chart.months.feb"),l("chart.months.mar"),l("chart.months.apr"),l("chart.months.may"),l("chart.months.jun"),l("chart.months.jul"),l("chart.months.aug"),l("chart.months.sep"),l("chart.months.oct"),l("chart.months.nov"),l("chart.months.dec")],labels:{style:{color:"var(--text)"}},title:{style:{color:"var(--text)"}}},yAxis:{title:{text:l("chart.values"),style:{color:"var(--text)"}},labels:{style:{color:"var(--text)"}},min:0,max:8,tickInterval:2,allowDecimals:!1},accessibility:{enabled:!1},series:[{type:"line",name:l("chart.data"),data:[1,4,2,5,3,6]}],legend:{itemStyle:{color:"var(--text)"},itemHoverStyle:{color:"var(--hover)"}}})),te=x("info"),se=x("locomotive"),K=x("one"),H=x("route"),N=x("dop_reg"),y=x(-1),ke=x({}),oe=x("liters"),Te=[{value:"liters",label:"Литры"},{value:"liters20C",label:"Литры к 20°C"},{value:"kilograms",label:"Килограммы"}],A=x({info:!0,message:!1,total:!1,events:!1}),T=x({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),U=x({route:!0,fuel:!1,electricity:!1}),Ge=x({dop_reg:!0,idle:!1,tab_change:!1,rfid:!1,violations:!1}),j=x({}),B=x([]),W=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation());const[h]=_.split("-"),v=parseInt(h),m=`locomotive-${v}`;j.value[m]===!0?(j.value[m]=!1,Object.keys(j.value).forEach(pe=>{pe.startsWith(`${v}-`)&&delete j.value[pe]})):(j.value[m]=!0,j.value[`${v}-locomotive`]=!0,j.value[`${v}-information`]=!0,j.value[`${v}-location`]=!0,j.value[`${v}-fuel`]=!0,j.value[`${v}-energy`]=!0,j.value[`${v}-krpd`]=!0)},be=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),ke.value[_]=!ke.value[_]},D=_=>{const[n]=_.split("-"),h=parseInt(n);return j.value[`locomotive-${h}`]===!0?!0:j.value[_]===!0},J=_=>ke.value[_]===!0,P=(_,n)=>`${_}-${n}`,$=_=>`total-${_}`,De=_=>{const n=[],h=oe.value;return h==="liters"?n.push({label:l("table.initialValue")+" ["+l("table.l")+"]",value:_.fuel_initial_liters||"4500"},{label:l("table.finalValue")+" ["+l("table.l")+"]",value:_.fuel_final_liters||"3200"},{label:l("table.minValue")+" ["+l("table.l")+"]",value:_.fuel_min_liters||"1800"},{label:l("table.maxValue")+" ["+l("table.l")+"]",value:_.fuel_max_liters||"5000"},{label:l("table.refuelAmount")+" ["+l("table.l")+"]",value:_.fuel_refuel_liters||"800"},{label:l("table.drainAmount")+" ["+l("table.l")+"]",value:_.fuel_drain_liters||"200"},{label:l("table.actualConsumption")+" ["+l("table.l")+"]",value:_.fuel_actual_liters||"1300"},{label:l("table.averageHourlyConsumption")+" ["+l("table.l")+"]",value:_.fuel_hourly_liters||"65"},{label:l("table.normativeConsumption")+" ["+l("table.l")+"]",value:_.fuel_normative_liters||"1200"},{label:l("table.actualSpecificConsumption")+" ["+l("table.l")+"]",value:_.fuel_specific_liters||"0.25"}):h==="liters20C"?n.push({label:l("table.initialValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_initial_liters20C||"4400"},{label:l("table.finalValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_final_liters20C||"3100"},{label:l("table.minValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_min_liters20C||"1750"},{label:l("table.maxValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_max_liters20C||"4900"},{label:l("table.refuelAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_refuel_liters20C||"780"},{label:l("table.drainAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_drain_liters20C||"195"},{label:l("table.actualConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_actual_liters20C||"1270"},{label:l("table.averageHourlyConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_hourly_liters20C||"63"},{label:l("table.normativeConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_normative_liters20C||"1170"},{label:l("table.actualSpecificConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_specific_liters20C||"0.24"}):h==="kilograms"&&n.push({label:l("table.initialValue")+" ["+l("table.kg")+"]",value:_.fuel_initial_kilograms||"3825"},{label:l("table.finalValue")+" ["+l("table.kg")+"]",value:_.fuel_final_kilograms||"2720"},{label:l("table.minValue")+" ["+l("table.kg")+"]",value:_.fuel_min_kilograms||"1530"},{label:l("table.maxValue")+" ["+l("table.kg")+"]",value:_.fuel_max_kilograms||"4250"},{label:l("table.refuelAmount")+" ["+l("table.kg")+"]",value:_.fuel_refuel_kilograms||"680"},{label:l("table.drainAmount")+" ["+l("table.kg")+"]",value:_.fuel_drain_kilograms||"170"},{label:l("table.actualConsumption")+" ["+l("table.kg")+"]",value:_.fuel_actual_kilograms||"1105"},{label:l("table.averageHourlyConsumption")+" ["+l("table.kg")+"]",value:_.fuel_hourly_kilograms||"55"},{label:l("table.normativeConsumption")+" ["+l("table.kg")+"]",value:_.fuel_normative_kilograms||"1020"},{label:l("table.actualSpecificConsumption")+" ["+l("table.kg")+"]",value:_.fuel_specific_kilograms||"0.21"}),n},b=x(-1),X=x(-1),Le=[{iconComponent:Hl,value:"info",label:"Info"},{iconComponent:wl,value:"message",label:"Message"},{iconComponent:Bl,value:"total",label:"total"},{iconComponent:kl,value:"events",label:"events"}],Ae=[{iconComponent:Xl,value:"locomotive",label:"Locomotive"},{iconComponent:Gl,value:"information",label:"Information"},{iconComponent:zl,value:"location",label:"Location"},{iconComponent:xl,value:"fuel",label:"Fuel"},{iconComponent:Pl,value:"energy",label:"Energy"},{iconComponent:Zl,value:"krpd",label:"Krpd"}],ze=[{iconComponent:ft,value:"one",label:"one"},{iconComponent:wt,value:"two",label:"two"},{iconComponent:Vt,value:"all",label:"all"}],Me=[{iconComponent:wl,value:"route",label:"route"},{iconComponent:xl,value:"fuel",label:"fuel"},{iconComponent:Pl,value:"electricity",label:"electricity"}],Je=q(()=>{const _=Le.findIndex(h=>h.value===te.value);return{width:`${100/Le.length}%`,transform:`translateX(${_*100}%)`}}),Qe=q(()=>{const _=Ae.findIndex(h=>h.value===se.value);return{width:`${100/Ae.length}%`,transform:`translateX(${_*100}%)`}}),Tl=q(()=>{const _=ze.findIndex(h=>h.value===K.value);return{width:`${100/ze.length}%`,transform:`translateX(${_*100}%)`}}),u=q(()=>B.value.length===0?[]:Ve.value.filter(_=>B.value.includes(_.id)).map((_,n)=>({id:n+1,originalId:_.id,series:_.nameLoco||"Не указано",number:_.number,tabNumber:_.boardNumber,workType:_.date?"Данные получены":"Нет данных",weight:"120 т",carNumber:"15",axisNumber:"6",bortDate:_.date||"Не указано",bortTime:"14:30:25",speed:"75",stopTime:"5 мин",pressure:"5.2 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7558°",longitude:"37.6173°",volume:"4500",volume20:"4400",temp:"15°C",density:"850 кг/м³",mass:"3825",instantPowerActive:"1500 кВт",instantPowerReactive:"800 кВАр",instantPowerFull:"1700 кВА",voltage:"3000 В",current:"500 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1500",fuel_initial_liters:"4500",fuel_final_liters:"3200",fuel_min_liters:"1800",fuel_max_liters:"5000",fuel_refuel_liters:"800",fuel_drain_liters:"200",fuel_actual_liters:"1300",fuel_hourly_liters:"65",fuel_normative_liters:"1200",fuel_specific_liters:"0.25",fuel_initial_liters20C:"4400",fuel_final_liters20C:"3100",fuel_min_liters20C:"1750",fuel_max_liters20C:"4900",fuel_refuel_liters20C:"780",fuel_drain_liters20C:"195",fuel_actual_liters20C:"1270",fuel_hourly_liters20C:"63",fuel_normative_liters20C:"1170",fuel_specific_liters20C:"0.24",fuel_initial_kilograms:"3825",fuel_final_kilograms:"2720",fuel_min_kilograms:"1530",fuel_max_kilograms:"4250",fuel_refuel_kilograms:"680",fuel_drain_kilograms:"170",fuel_actual_kilograms:"1105",fuel_hourly_kilograms:"55",fuel_normative_kilograms:"1020",fuel_specific_kilograms:"0.21",electricity_active_forward:"1200",electricity_active_reverse:"50",electricity_reactive_forward:"800",electricity_reactive_reverse:"30",electricity_min_voltage:"2800",electricity_max_voltage:"3200"}))),Ze=q(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=b.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),el=q(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=y.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),ll=q(()=>{const _=Me.findIndex(h=>h.value===H.value);return{width:`${100/Me.length}%`,transform:`translateX(${_*100}%)`}}),tl=x([{date:"2024-01-15",time:"14:30:25",tabNumber:"12345",locomotive:"0001",additionalInfo:"Дополнительная регистрация на участке"},{date:"2024-01-15",time:"10:15:10",tabNumber:"23456",locomotive:"0002",idleDuration:"2 ч 30 мин",idleReason:"Ожидание состава"},{date:"2024-01-14",time:"16:20:30",tabNumber:"45678",locomotive:"0004",rfidCode:"RFID-001234",location:"Станция Москва-Товарная"},{date:"2024-01-13",time:"08:05:45",tabNumber:"34567",locomotive:"0003",violationType:"Превышение скорости",description:"Превышение на 15 км/ч на участке 25 км"},{date:"2024-01-12",time:"22:10:15",tabNumber:"12345",locomotive:"0001",additionalInfo:"Повторная регистрация"}]),he=q(()=>{if(B.value.length===0)return[];const _=Ve.value.filter(n=>B.value.includes(n.id)).map(n=>n.number);if(X.value!==-1&&u.value[X.value]){const n=u.value[X.value];return tl.value.filter(h=>h.locomotive===n.number)}return tl.value.filter(n=>_.includes(n.locomotive))}),al=q(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=X.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),je=q(()=>{switch(K.value){case"one":return{one:!0,two:!1,three:!1};case"two":return{one:!1,two:!0,three:!1};case"all":return{one:!1,two:!1,three:!0};default:return{one:!0,two:!1,three:!1}}}),Re=x(),M=hl({datestart:"",dateend:"",timestart:"00:00:00",timeend:"23:59:59"}),sl=hl({datestart:[{type:"date",required:!0,message:"Выберите дату начала",trigger:"change"}],dateend:[{type:"date",required:!0,message:"Выберите дату окончания",trigger:"change"},{validator:(_,n,h)=>{if(!M.datestart||!M.dateend){h(new Error("Обе даты обязательны"));return}const v=new Date(M.datestart);new Date(M.dateend)<=v?h(new Error("Дата окончания должна быть позже даты начала")):h()},trigger:"change"}]}),ol=async _=>{if(_){if(B.value.length>Ne){_e.warning(`Выбрано слишком много локомотивов. Максимум: ${Ne}`);return}await _.validate((n,h)=>{n?console.log("submit!"):console.log("error submit!",h)})}},nl=(_,n)=>{n.preventDefault(),n.stopPropagation(),te.value=_},rl=(_,n)=>{n.preventDefault(),n.stopPropagation(),se.value=_},Dl=(_,n)=>{n.preventDefault(),n.stopPropagation(),K.value=_},Ee=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}b.value=_},Ke=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}y.value=_},il=(_,n)=>{n.preventDefault(),n.stopPropagation(),H.value=_},_l=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),N.value=_},$e=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}X.value=_};ie(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0}),ie(se,_=>{Object.keys(T.value).forEach(n=>{T.value[n]=!1}),T.value[_]=!0}),ie(H,_=>{Object.keys(U.value).forEach(n=>{U.value[n]=!1}),U.value[_]=!0}),ie(N,_=>{Object.keys(Ge.value).forEach(n=>{Ge.value[n]=!1}),Ge.value[_]=!0}),ie(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0});const we=x(window.innerWidth),ul=()=>{we.value=window.innerWidth};pl(()=>{window.addEventListener("resize",ul)}),Sl(()=>{window.removeEventListener("resize",ul)});const Ce=x(""),Oe=q(()=>{let _=Ve.value;if(Ce.value){const n=Ce.value.toLowerCase();_=_.filter(h=>{const v=String(h.type||""),m=String(h.number||""),G=String(h.date||""),pe=String(h.nameLoco||""),me=String(h.boardNumber||"");return v.toLowerCase().includes(n)||m.toLowerCase().includes(n)||G.toLowerCase().includes(n)||pe.toLowerCase().includes(n)||me.toLowerCase().includes(n)})}return _}),Xe=x([]),dl=x([]),Ll=x(),xe=x(""),Pe=x(!0),g=({row:_,rowIndex:n})=>{const h=[];return n%2===1&&h.push("bg_gray"),Ml(_)&&h.push("selected-row"),h.join(" ")},qe=x(),Al=_=>{if(!_||!_.id)return;const n=B.value.indexOf(_.id);if(n===-1){if(B.value.length>=Ne){_e.warning(l("history.locomotivesLimitWarning",{max:Ne}));return}B.value.push(_.id)}else B.value.splice(n,1);qe.value&&qe.value.doLayout()},Ml=_=>_.id?B.value.includes(_.id):!1,Rl=()=>{Pe.value=!Pe.value},El=_=>{if(!_){B.value=[];return}const n=Ve.value.find(h=>{var v;return((v=h.id)==null?void 0:v.toString())===_});n&&n.id&&(B.value=[n.id])},Kl=_=>{Ce.value=_};ie(xe,_=>{if(_){const n=Ve.value.find(h=>{var v;return((v=h.id)==null?void 0:v.toString())===_});n&&n.id&&(B.value=[n.id])}else B.value=[]}),ie(Ll,_=>{_&&_.id?xe.value=_.id.toString():xe.value=""});const Ve=q(()=>Xe.value.length?Xe.value.map((n,h)=>{const v=dl.value.find(G=>String(G.NUMBER_ON_KPD||"")===String(n.BOARD_NUMBER||""));let m="Не указана";if(n.DATE_REC)try{const G=new Date(n.DATE_REC);isNaN(G.getTime())||(m=Ue(G,"shortFormat"))}catch(G){console.warn("Ошибка форматирования даты:",G)}return{id:h+1,type:String((v==null?void 0:v.NAME_LOCO)||n.LOCO||"Не указан"),number:String(n.BOARD_NUMBER||"Не указан"),date:String(m),boardNumber:String(n.BOARD_NUMBER||"Не указан"),nameLoco:String((v==null?void 0:v.NAME_LOCO)||n.LOCO||"Не указано")}}):[]),cl=[{value:"dop_reg",label:'Дополнительная регистрация ("П")'},{value:"idle",label:"Простои локомотива"},{value:"tab_change",label:"Смена табельного номера"},{value:"rfid",label:"Прохождение RFID-метки"},{value:"violations",label:"Нарушения эксплуатации"}],$l=async()=>{I.value=!0;try{const _=await Cl("post","/api/get-table",{Table:"LOCOMOTIVES"});_.data&&_.data.data&&Array.isArray(_.data.data)?Xe.value=_.data.data:console.warn("API не вернуло ожидаемые данные:",_.data)}catch(_){_e({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{I.value=!1}},Ol=async()=>{I.value=!0;try{const _=await Cl("post","/api/get-table",{Table:"LOCO"});_.data&&_.data.data&&Array.isArray(_.data.data)?dl.value=_.data.data:console.warn("API LOCO не вернуло ожидаемые данные:",_.data)}catch(_){_e({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{I.value=!1}};return pl(async()=>{await $l(),await Ol(),I.value=!1,await Il(),ge.value&&(Se.value=Wl.chart(ge.value,{...Be.value}))}),(_,n)=>{const h=O("el-icon"),v=O("el-table-column"),m=O("el-table"),G=O("el-button"),pe=O("el-input"),me=O("el-date-picker"),Ie=O("el-time-picker"),Fe=O("el-form-item"),vl=O("el-form"),ne=O("el-option"),re=O("el-select"),bl=O("el-pagination"),S=O("el-checkbox"),fe=O("el-checkbox-group");return i(),d(k,null,[o(jl),I.value?(i(),L(Jl,{key:0})):(i(),d("section",St,[e("div",Tt,[e("div",Dt,[e("div",Lt,[we.value>=1280?(i(),d("div",At,[e("div",Mt,[e("div",Rt,[e("div",Et,[e("div",Kt,[e("div",{class:"segmented__indicator",style:z(Je.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>nl(t.value,c),["prevent"]),onMousedown:n[0]||(n[0]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",Ot,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,$t)),64))])])]),ee(e("div",{class:p(["history__left_table",{active:A.value.info}])},[e("div",It,[o(m,{ref_key:"oneTableRef",ref:qe,data:Oe.value,onRowClick:Al,"row-class-name":g,style:z({maxHeight:Pe.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",Yt,s(a(l)("table.noData")),1)]),default:r(()=>[o(v,{"header-align":"center"},{header:r(()=>[e("span",{class:p(["el-table_top",{active:Pe.value}]),onClick:Rl},[e("span",Ft,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",Nt,s(Oe.value.length),1)]),e("span",Ut,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],2)]),default:r(()=>[o(v,{property:"type",sortable:"",label:a(l)("table.type")},null,8,["label"]),o(v,{property:"number",sortable:"",label:a(l)("table.number")},null,8,["label"]),o(v,{property:"date",sortable:"",label:a(l)("table.date")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),Pe.value?(i(),d("div",Ht,[e("div",Bt,[e("div",Gt,[o(pe,{modelValue:Ce.value,"onUpdate:modelValue":n[1]||(n[1]=t=>Ce.value=t),placeholder:a(l)("sort.search")},{prepend:r(()=>[o(G,{icon:a(Fl),title:a(l)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):f("",!0)]),e("div",zt,[o(vl,{ref_key:"addStatusFormRef",ref:Re,model:M,rules:sl,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",jt,[o(me,{modelValue:M.datestart,"onUpdate:modelValue":n[2]||(n[2]=t=>M.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:M.timestart,"onUpdate:modelValue":n[3]||(n[3]=t=>M.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",Xt,[o(me,{modelValue:M.dateend,"onUpdate:modelValue":n[4]||(n[4]=t=>M.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:M.timeend,"onUpdate:modelValue":n[5]||(n[5]=t=>M.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[6]||(n[6]=t=>ol(Re.value))},[e("span",qt,[o(h,null,{default:r(()=>[(i(),L(Y(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",Wt,[e("span",Jt,[o(h,null,{default:r(()=>[(i(),L(Y(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:Q},[e("span",Qt,[o(h,null,{default:r(()=>[(i(),L(Y(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Zt,[e("span",ea,[o(h,null,{default:r(()=>[(i(),L(Y(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[le,A.value.info]]),ee(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",la,[e("div",{class:"segmented__indicator",style:z(Ze.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":b.value===-1}]),onClick:n[7]||(n[7]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[8]||(n[8]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":b.value===-1},[e("div",aa,[e("span",sa,s(a(l)("button.all")),1)])],42,ta),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":b.value===c}]),onClick:C(Z=>Ee(c,Z),["prevent"]),onMousedown:n[9]||(n[9]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":b.value===c},[e("div",na,[e("span",ra,s(t.number),1)])],42,oa))),128))])):f("",!0),u.value.length===0?(i(),d("div",ia,[e("p",_a,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",ua,[e("div",da,[e("div",{class:"segmented__indicator",style:z(Qe.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[10]||(n[10]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",va,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,ca)),64))]),e("div",ba,[b.value===-1?(i(),d("div",ha,[T.value.locomotive?(i(),d("div",pa,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"locomotive"))}]),onClick:c=>W(P(t.id,"locomotive"),c)},[e("p",fa,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",ya,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,ma),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",ga,s(c.row.label),1),e("span",ka,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.information?(i(),d("div",wa,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"information"))}]),onClick:c=>W(P(t.id,"information"),c)},[e("p",xa,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",Pa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ca),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Va,s(c.row.label),1),e("span",Sa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.location?(i(),d("div",Ta,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"location"))}]),onClick:c=>W(P(t.id,"location"),c)},[e("p",La,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",Aa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Da),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Ma,s(c.row.label),1),e("span",Ra,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.fuel?(i(),d("div",Ea,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"fuel"))}]),onClick:c=>W(P(t.id,"fuel"),c)},[e("p",$a,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",Oa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ka),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Ia,s(c.row.label),1),e("span",Fa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.energy?(i(),d("div",Na,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"energy"))}]),onClick:c=>W(P(t.id,"energy"),c)},[e("p",Ya,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",Ha,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ua),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Ba,s(c.row.label),1),e("span",Ga,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.krpd?(i(),d("div",za,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"krpd"))}]),onClick:c=>W(P(t.id,"krpd"),c)},[e("p",Xa,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",qa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,ja),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Wa,s(c.row.label),1),e("span",Ja,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[b.value]?(i(),d("div",Qa,[T.value.locomotive?(i(),d("div",Za,[e("div",es,[e("p",ls,s(a(l)("table.locomotive"))+" "+s(u.value[b.value].number),1)]),e("div",ts,[o(m,{data:[{label:a(l)("table.series"),value:u.value[b.value].series},{label:a(l)("table.number"),value:u.value[b.value].number},{label:a(l)("table.tabNumber"),value:u.value[b.value].tabNumber},{label:a(l)("table.workType"),value:u.value[b.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",as,s(t.row.label),1),e("span",ss,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.information?(i(),d("div",os,[e("div",ns,[e("p",rs,s(a(l)("table.information"))+" - "+s(u.value[b.value].number),1)]),e("div",is,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[b.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[b.value].bortTime},{label:a(l)("table.speed"),value:u.value[b.value].speed},{label:a(l)("table.stopTime"),value:u.value[b.value].stopTime},{label:a(l)("table.pressure"),value:u.value[b.value].pressure},{label:a(l)("table.LSlight"),value:u.value[b.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[b.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",_s,s(t.row.label),1),e("span",us,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.location?(i(),d("div",ds,[e("div",cs,[e("p",vs,s(a(l)("table.coordinates"))+" - "+s(u.value[b.value].number),1)]),e("div",bs,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[b.value].latitude},{label:a(l)("table.longitude"),value:u.value[b.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",hs,s(t.row.label),1),e("span",ps,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.fuel?(i(),d("div",ms,[e("div",fs,[e("p",ys,s(a(l)("table.fuel"))+" - "+s(u.value[b.value].number),1)]),e("div",gs,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[b.value].volume},{label:a(l)("table.volume20"),value:u.value[b.value].volume20},{label:a(l)("table.temp"),value:u.value[b.value].temp},{label:a(l)("table.density"),value:u.value[b.value].density},{label:a(l)("table.mass"),value:u.value[b.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",ks,s(t.row.label),1),e("span",ws,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.energy?(i(),d("div",Cs,[e("div",xs,[e("p",Ps,s(a(l)("table.electricity"))+" - "+s(u.value[b.value].number),1)]),e("div",Vs,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[b.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[b.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[b.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[b.value].voltage},{label:a(l)("table.current"),value:u.value[b.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Ss,s(t.row.label),1),e("span",Ts,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.krpd?(i(),d("div",Ds,[e("div",Ls,[e("p",As,s(a(l)("table.selectedBlock"))+" - "+s(u.value[b.value].number),1)]),e("div",Ms,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[b.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[b.value].endPeriod},{label:a(l)("table.volume"),value:u.value[b.value].volume},{label:a(l)("table.volume20"),value:u.value[b.value].volume20},{label:a(l)("table.mass"),value:u.value[b.value].mass},{label:a(l)("table.mileagekm"),value:u.value[b.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Rs,s(t.row.label),1),e("span",Es,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.message]]),ee(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",Ks,[e("div",{class:"segmented__indicator",style:z(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[11]||(n[11]=C(t=>Ke(-1,t),["prevent"])),onMousedown:n[12]||(n[12]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",Os,[e("span",Is,s(a(l)("button.all")),1)])],42,$s),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Z=>Ke(c,Z),["prevent"]),onMousedown:n[13]||(n[13]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",Ns,[e("span",Us,s(t.number),1)])],42,Fs))),128))])):f("",!0),u.value.length===0?(i(),d("div",Ys,[e("p",Hs,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",Bs,[e("div",Gs,[e("div",{class:"segmented__indicator",style:z(ll.value)},null,4),(i(),d(k,null,w(Me,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":H.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[14]||(n[14]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":H.value===t.value},[e("div",js,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,zs)),64))]),e("div",Xs,[y.value===-1?(i(),d("div",qs,[U.value.route?(i(),d("div",Ws,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Qs,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Zs,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Js),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",eo,s(c.row.label),1),e("span",lo,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),U.value.fuel?(i(),d("div",to,[e("div",ao,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[15]||(n[15]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",oo,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",no,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,so),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:De(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",ro,s(c.row.label),1),e("span",io,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),U.value.electricity?(i(),d("div",_o,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",co,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",vo,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,uo),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",bo,s(c.row.label),1),e("span",ho,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(i(),d("div",po,[U.value.route?(i(),d("div",mo,[e("div",fo,[e("div",yo,[e("p",go,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",ko,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",wo,s(t.row.label),1),e("span",Co,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),U.value.fuel?(i(),d("div",xo,[e("div",Po,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[16]||(n[16]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Vo,[e("div",So,[e("p",To,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Do,[o(m,{data:De(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Lo,s(t.row.label),1),e("span",Ao,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),U.value.electricity?(i(),d("div",Mo,[e("div",Ro,[e("div",Eo,[e("p",Ko,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",$o,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Oo,s(t.row.label),1),e("span",Io,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.total]]),ee(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",Fo,[e("div",{class:"segmented__indicator",style:z(al.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":X.value===-1}]),onClick:n[17]||(n[17]=C(t=>$e(-1,t),["prevent"])),onMousedown:n[18]||(n[18]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":X.value===-1},[e("div",Uo,[e("span",Yo,s(a(l)("button.all")),1)])],42,No),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":X.value===c}]),onClick:C(Z=>$e(c,Z),["prevent"]),onMousedown:n[19]||(n[19]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":X.value===c},[e("div",Bo,[e("span",Go,s(t.number),1)])],42,Ho))),128))])):f("",!0),u.value.length===0?(i(),d("div",zo,[e("p",jo,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",Xo,[e("div",qo,[o(re,{modelValue:N.value,"onUpdate:modelValue":n[20]||(n[20]=t=>N.value=t),placeholder:a(l)("button.select"),onChange:_l,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(cl,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Wo,[o(m,{data:he.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",Jo,s(a(l)("table.noData")),1)]),default:r(()=>[o(v,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(v,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(v,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(v,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"]),N.value==="dop_reg"?(i(),L(v,{key:0,prop:"additionalInfo",label:a(l)("table.noLocomotivesSelected"),"min-width":"200"},null,8,["label"])):f("",!0),N.value==="idle"?(i(),L(v,{key:1,prop:"idleDuration",label:a(l)("table.noLocomotivesSelected"),width:"120"},null,8,["label"])):f("",!0),N.value==="rfid"?(i(),L(v,{key:2,prop:"rfidCode",label:a(l)("table.noLocomotivesSelected"),width:"150"},null,8,["label"])):f("",!0),N.value==="violations"?(i(),L(v,{key:3,prop:"violationType",label:a(l)("table.noLocomotivesSelected"),width:"180"},null,8,["label"])):f("",!0)]),_:1},8,["data"]),he.value.length>10?(i(),d("div",Qo,[o(bl,{"page-size":10,layout:"prev, pager, next",total:he.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[le,A.value.events]])])])):f("",!0),e("div",Zo,[we.value<=1279?(i(),d("div",en,[e("p",ln,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",tn,s(Oe.value.length),1)]),o(re,{modelValue:xe.value,"onUpdate:modelValue":n[21]||(n[21]=t=>xe.value=t),filterable:"",placeholder:a(l)("button.select"),onChange:El,"filter-method":Kl,class:"segmented__select"},{empty:r(()=>[e("div",sn,s(a(l)("table.noData")),1)]),default:r(()=>[(i(!0),d(k,null,w(Oe.value,t=>{var c;return i(),L(ne,{key:t.id,label:`${t.type} - ${t.number}`,value:((c=t.id)==null?void 0:c.toString())||""},{default:r(()=>[e("div",an,[e("span",null,s(t.type),1),e("span",null,s(t.number),1),e("span",null,s(t.date),1)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):f("",!0),e("div",on,[o(ql)]),e("div",nn,[e("div",rn,[o(G,{class:"history__charts_button",type:"primary",icon:a(Nl)},null,8,["icon"]),o(G,{class:"history__charts_button",type:"primary",icon:a(Ul)},null,8,["icon"]),o(G,{class:"history__charts_button",type:"primary",icon:a(kl)},null,8,["icon"]),e("div",_n,[e("div",{class:"segmented__indicator",style:z(Tl.value)},null,4),(i(),d(k,null,w(ze,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":K.value===t.value}]),onClick:C(c=>Dl(t.value,c),["prevent"]),onMousedown:n[22]||(n[22]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":K.value===t.value},[e("div",dn,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two",title:t.label},null,8,["title"]))])],42,un)),64))]),o(bt)]),ee(e("div",cn,[e("div",{ref_key:"chartContainer",ref:ge},null,512)],512),[[le,je.value.one&&!I.value]]),ee(e("div",vn,n[49]||(n[49]=[e("div",null,"График 2 - скоро будет реализован",-1)]),512),[[le,je.value.two]]),ee(e("div",bn,n[50]||(n[50]=[e("div",null,"График 3 - скоро будет реализован",-1)]),512),[[le,je.value.three]])]),we.value<=1279?(i(),d("div",hn,[we.value<=1279?(i(),d("div",pn,[e("div",{class:"segmented__indicator",style:z(Je.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>nl(t.value,c),["prevent"]),onMousedown:n[23]||(n[23]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",fn,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,mn)),64))])):f("",!0),ee(e("div",{class:p(["history__table",{active:A.value.info}])},[e("div",yn,[o(vl,{ref_key:"addStatusFormRef",ref:Re,model:M,rules:sl,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",gn,[o(me,{modelValue:M.datestart,"onUpdate:modelValue":n[24]||(n[24]=t=>M.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:M.timestart,"onUpdate:modelValue":n[25]||(n[25]=t=>M.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",kn,[o(me,{modelValue:M.dateend,"onUpdate:modelValue":n[26]||(n[26]=t=>M.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ie,{modelValue:M.timeend,"onUpdate:modelValue":n[27]||(n[27]=t=>M.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[28]||(n[28]=t=>ol(Re.value))},[e("span",wn,[o(h,null,{default:r(()=>[(i(),L(Y(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",Cn,[e("span",xn,[o(h,null,{default:r(()=>[(i(),L(Y(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:Q},[e("span",Pn,[o(h,null,{default:r(()=>[(i(),L(Y(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Vn,[e("span",Sn,[o(h,null,{default:r(()=>[(i(),L(Y(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[le,A.value.info]]),ee(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",Tn,[e("div",{class:"segmented__indicator",style:z(Ze.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":b.value===-1}]),onClick:n[29]||(n[29]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[30]||(n[30]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":b.value===-1},[e("div",Ln,[e("span",An,s(a(l)("button.all")),1)])],42,Dn),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":b.value===c}]),onClick:C(Z=>Ee(c,Z),["prevent"]),onMousedown:n[31]||(n[31]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":b.value===c},[e("div",Rn,[e("span",En,s(t.number),1)])],42,Mn))),128))])):f("",!0),u.value.length===0?(i(),d("div",Kn,[e("p",$n,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",On,[e("div",In,[e("div",{class:"segmented__indicator",style:z(Qe.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[32]||(n[32]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",Nn,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Fn)),64))]),e("div",Un,[b.value===-1?(i(),d("div",Yn,[T.value.locomotive?(i(),d("div",Hn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"locomotive"))}]),onClick:c=>W(P(t.id,"locomotive"),c)},[e("p",Gn,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",zn,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Bn),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",jn,s(c.row.label),1),e("span",Xn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.information?(i(),d("div",qn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"information"))}]),onClick:c=>W(P(t.id,"information"),c)},[e("p",Jn,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",Qn,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Wn),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Zn,s(c.row.label),1),e("span",er,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.location?(i(),d("div",lr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"location"))}]),onClick:c=>W(P(t.id,"location"),c)},[e("p",ar,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",sr,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,tr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",or,s(c.row.label),1),e("span",nr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.fuel?(i(),d("div",rr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"fuel"))}]),onClick:c=>W(P(t.id,"fuel"),c)},[e("p",_r,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",ur,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,ir),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",dr,s(c.row.label),1),e("span",cr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.energy?(i(),d("div",vr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"energy"))}]),onClick:c=>W(P(t.id,"energy"),c)},[e("p",hr,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",pr,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,br),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",mr,s(c.row.label),1),e("span",fr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.krpd?(i(),d("div",yr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"krpd"))}]),onClick:c=>W(P(t.id,"krpd"),c)},[e("p",kr,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",wr,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,gr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Cr,s(c.row.label),1),e("span",xr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[b.value]?(i(),d("div",Pr,[T.value.locomotive?(i(),d("div",Vr,[e("div",Sr,[e("p",Tr,s(a(l)("table.locomotive"))+" "+s(u.value[b.value].number),1)]),e("div",Dr,[o(m,{data:[{label:a(l)("table.series"),value:u.value[b.value].series},{label:a(l)("table.number"),value:u.value[b.value].number},{label:a(l)("table.tabNumber"),value:u.value[b.value].tabNumber},{label:a(l)("table.workType"),value:u.value[b.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Lr,s(t.row.label),1),e("span",Ar,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.information?(i(),d("div",Mr,[e("div",Rr,[e("p",Er,s(a(l)("table.information"))+" - "+s(u.value[b.value].number),1)]),e("div",Kr,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[b.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[b.value].bortTime},{label:a(l)("table.speed"),value:u.value[b.value].speed},{label:a(l)("table.stopTime"),value:u.value[b.value].stopTime},{label:a(l)("table.pressure"),value:u.value[b.value].pressure},{label:a(l)("table.LSlight"),value:u.value[b.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[b.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",$r,s(t.row.label),1),e("span",Or,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.location?(i(),d("div",Ir,[e("div",Fr,[e("p",Nr,s(a(l)("table.coordinates"))+" - "+s(u.value[b.value].number),1)]),e("div",Ur,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[b.value].latitude},{label:a(l)("table.longitude"),value:u.value[b.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Yr,s(t.row.label),1),e("span",Hr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.fuel?(i(),d("div",Br,[e("div",Gr,[e("p",zr,s(a(l)("table.fuel"))+" - "+s(u.value[b.value].number),1)]),e("div",jr,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[b.value].volume},{label:a(l)("table.volume20"),value:u.value[b.value].volume20},{label:a(l)("table.temp"),value:u.value[b.value].temp},{label:a(l)("table.density"),value:u.value[b.value].density},{label:a(l)("table.mass"),value:u.value[b.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Xr,s(t.row.label),1),e("span",qr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.energy?(i(),d("div",Wr,[e("div",Jr,[e("p",Qr,s(a(l)("table.electricity"))+" - "+s(u.value[b.value].number),1)]),e("div",Zr,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[b.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[b.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[b.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[b.value].voltage},{label:a(l)("table.current"),value:u.value[b.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",ei,s(t.row.label),1),e("span",li,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.krpd?(i(),d("div",ti,[e("div",ai,[e("p",si,s(a(l)("table.selectedBlock"))+" - "+s(u.value[b.value].number),1)]),e("div",oi,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[b.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[b.value].endPeriod},{label:a(l)("table.volume"),value:u.value[b.value].volume},{label:a(l)("table.volume20"),value:u.value[b.value].volume20},{label:a(l)("table.mass"),value:u.value[b.value].mass},{label:a(l)("table.mileagekm"),value:u.value[b.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",ni,s(t.row.label),1),e("span",ri,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.message]]),ee(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",ii,[e("div",{class:"segmented__indicator",style:z(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[33]||(n[33]=C(t=>Ke(-1,t),["prevent"])),onMousedown:n[34]||(n[34]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",ui,[e("span",di,s(a(l)("button.all")),1)])],42,_i),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Z=>Ke(c,Z),["prevent"]),onMousedown:n[35]||(n[35]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",vi,[e("span",bi,s(t.number),1)])],42,ci))),128))])):f("",!0),u.value.length===0?(i(),d("div",hi,[e("p",pi,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",mi,[e("div",fi,[e("div",{class:"segmented__indicator",style:z(ll.value)},null,4),(i(),d(k,null,w(Me,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":H.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[36]||(n[36]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":H.value===t.value},[e("div",gi,[(i(),L(Y(t.iconComponent),{class:"segmented__icon text_two"}))])],42,yi)),64))]),e("div",ki,[y.value===-1?(i(),d("div",wi,[U.value.route?(i(),d("div",Ci,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Pi,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Vi,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,xi),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Si,s(c.row.label),1),e("span",Ti,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),U.value.fuel?(i(),d("div",Di,[e("div",Li,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[37]||(n[37]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Mi,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Ri,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ai),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:De(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Ei,s(c.row.label),1),e("span",Ki,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),U.value.electricity?(i(),d("div",$i,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!J($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Ii,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Fi,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Oi),e("div",{class:p(["history__tab_container",{collapsed:J($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(c=>[e("span",Ni,s(c.row.label),1),e("span",Ui,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(i(),d("div",Yi,[U.value.route?(i(),d("div",Hi,[e("div",Bi,[e("div",Gi,[e("p",zi,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",ji,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",Xi,s(t.row.label),1),e("span",qi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),U.value.fuel?(i(),d("div",Wi,[e("div",Ji,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[38]||(n[38]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Qi,[e("div",Zi,[e("p",e_,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",l_,[o(m,{data:De(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",t_,s(t.row.label),1),e("span",a_,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),U.value.electricity?(i(),d("div",s_,[e("div",o_,[e("div",n_,[e("p",r_,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",i_,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(v,null,{default:r(t=>[e("span",__,s(t.row.label),1),e("span",u_,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.total]]),ee(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",d_,[e("div",{class:"segmented__indicator",style:z(al.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":X.value===-1}]),onClick:n[39]||(n[39]=C(t=>$e(-1,t),["prevent"])),onMousedown:n[40]||(n[40]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":X.value===-1},[e("div",v_,[e("span",b_,s(a(l)("button.all")),1)])],42,c_),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":X.value===c}]),onClick:C(Z=>$e(c,Z),["prevent"]),onMousedown:n[41]||(n[41]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":X.value===c},[e("div",p_,[e("span",m_,s(t.number),1)])],42,h_))),128))])):f("",!0),u.value.length===0?(i(),d("div",f_,[e("p",y_,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",g_,[e("div",k_,[o(re,{modelValue:N.value,"onUpdate:modelValue":n[42]||(n[42]=t=>N.value=t),placeholder:a(l)("button.selectEventType"),onChange:_l,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(cl,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",w_,[o(m,{data:he.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",C_,s(a(l)("table.noData")),1)]),default:r(()=>[o(v,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(v,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(v,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(v,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"])]),_:1},8,["data"]),he.value.length>10?(i(),d("div",x_,[o(bl,{"page-size":10,layout:"prev, pager, next",total:he.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[le,A.value.events]])])):f("",!0)])])])])])),e("div",{class:p(["overlay_full",{active:ae.value}]),onClick:ce},null,2),e("div",{class:p(["history_popup popup",{active:F.value}])},[e("div",P_,[e("div",V_,[e("button",{class:"history_popup__close popup__close",onClick:Q},[o(h,null,{default:r(()=>[o(a(Yl))]),_:1})]),e("h4",S_,s(a(l)("history.selectingParameters")),1),e("ul",T_,[e("li",D_,[e("h5",L_,s(a(l)("history.main")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[43]||(n[43]=t=>E.value=t)},{default:r(()=>[e("div",A_,[o(S,{label:"speedKmh",name:"speedKmh"},{default:r(()=>[V(s(a(l)("history.speedKmh")),1)]),_:1})]),e("div",M_,[o(S,{label:"brakePipePressureKgfCm2",name:"brakePipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakePipePressureKgfCm2")),1)]),_:1})]),e("div",R_,[o(S,{label:"brakeCylinderPressureKgfCm2",name:"brakeCylinderPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakeCylinderPressureKgfCm2")),1)]),_:1})]),e("div",E_,[o(S,{label:"feedPipePressureKgfCm2",name:"feedPipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.feedPipePressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",K_,[e("h5",$_,s(a(l)("history.fuelParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[44]||(n[44]=t=>E.value=t)},{default:r(()=>[e("div",O_,[o(S,{label:"fuelVolumeL",name:"fuelVolumeL"},{default:r(()=>[V(s(a(l)("history.fuelVolumeL")),1)]),_:1})]),e("div",I_,[o(S,{label:"fuelVolume20C",name:"fuelVolume20C"},{default:r(()=>[V(s(a(l)("history.fuelVolume20C")),1)]),_:1})]),e("div",F_,[o(S,{label:"fuelMassKg",name:"fuelMassKg"},{default:r(()=>[V(s(a(l)("history.fuelMassKg")),1)]),_:1})]),e("div",N_,[o(S,{label:"filterFuelReadings",name:"filterFuelReadings"},{default:r(()=>[V(s(a(l)("history.filterFuelReadings")),1)]),_:1})]),e("div",U_,[o(S,{label:"fuelTemperatureC",name:"fuelTemperatureC"},{default:r(()=>[V(s(a(l)("history.fuelTemperatureC")),1)]),_:1})]),e("div",Y_,[o(S,{label:"fuelDensityKgM3",name:"fuelDensityKgM3"},{default:r(()=>[V(s(a(l)("history.fuelDensityKgM3")),1)]),_:1})]),e("div",H_,[o(S,{label:"movingAverage",name:"movingAverage"},{default:r(()=>[V(s(a(l)("history.movingAverage")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",B_,[e("h5",G_,s(a(l)("history.dieselParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[45]||(n[45]=t=>E.value=t)},{default:r(()=>[e("div",z_,[o(S,{label:"tractionGeneratorCurrentA",name:"tractionGeneratorCurrentA"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorCurrentA")),1)]),_:1})]),e("div",j_,[o(S,{label:"tractionGeneratorVoltageV",name:"tractionGeneratorVoltageV"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorVoltageV")),1)]),_:1})]),e("div",X_,[o(S,{label:"tractionGeneratorPowerKw",name:"tractionGeneratorPowerKw"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorPowerKw")),1)]),_:1})]),e("div",q_,[o(S,{label:"dieselEngineRpm",name:"dieselEngineRpm"},{default:r(()=>[V(s(a(l)("history.dieselEngineRpm")),1)]),_:1})]),e("div",W_,[o(S,{label:"waterTemperatureC",name:"waterTemperatureC"},{default:r(()=>[V(s(a(l)("history.waterTemperatureC")),1)]),_:1})]),e("div",J_,[o(S,{label:"oilTemperatureC",name:"oilTemperatureC"},{default:r(()=>[V(s(a(l)("history.oilTemperatureC")),1)]),_:1})]),e("div",Q_,[o(S,{label:"oilPressureKgfCm2",name:"oilPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.oilPressureKgfCm2")),1)]),_:1})]),e("div",Z_,[o(S,{label:"fuelPressureKgfCm2",name:"fuelPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.fuelPressureKgfCm2")),1)]),_:1})]),e("div",eu,[o(S,{label:"boostAirPressureKgfCm2",name:"boostAirPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.boostAirPressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",lu,[e("h5",tu,s(a(l)("history.electricityParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[46]||(n[46]=t=>E.value=t)},{default:r(()=>[e("div",au,[o(S,{label:"instantaneousActivePowerKw",name:"instantaneousActivePowerKw"},{default:r(()=>[V(s(a(l)("history.instantaneousActivePowerKw")),1)]),_:1})]),e("div",su,[o(S,{label:"instantaneousReactivePowerKvar",name:"instantaneousReactivePowerKvar"},{default:r(()=>[V(s(a(l)("history.instantaneousReactivePowerKvar")),1)]),_:1})]),e("div",ou,[o(S,{label:"instantaneousApparentPowerKva",name:"instantaneousApparentPowerKva"},{default:r(()=>[V(s(a(l)("history.instantaneousApparentPowerKva")),1)]),_:1})]),e("div",nu,[o(S,{label:"voltageV",name:"voltageV"},{default:r(()=>[V(s(a(l)("history.voltageV")),1)]),_:1})]),e("div",ru,[o(S,{label:"currentA",name:"currentA"},{default:r(()=>[V(s(a(l)("history.currentA")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",iu,[e("h5",_u,s(a(l)("history.meteredElectricity")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[47]||(n[47]=t=>E.value=t)},{default:r(()=>[e("div",uu,[o(S,{label:"activeEnergyForwardKwh",name:"activeEnergyForwardKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyForwardKwh")),1)]),_:1})]),e("div",du,[o(S,{label:"activeEnergyReverseKwh",name:"activeEnergyReverseKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyReverseKwh")),1)]),_:1})]),e("div",cu,[o(S,{label:"reactiveEnergyForwardKvarh",name:"reactiveEnergyForwardKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyForwardKvarh")),1)]),_:1})]),e("div",vu,[o(S,{label:"reactiveEnergyReverseKvarh",name:"reactiveEnergyReverseKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyReverseKvarh")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",bu,[e("h5",hu,s(a(l)("history.additionalParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[48]||(n[48]=t=>E.value=t)},{default:r(()=>[e("div",pu,[o(S,{label:"driverControllerPosition",name:"driverControllerPosition"},{default:r(()=>[V(s(a(l)("history.driverControllerPosition")),1)]),_:1})]),e("div",mu,[o(S,{label:"als",name:"als"},{default:r(()=>[V(s(a(l)("history.als")),1)]),_:1})])]),_:1},8,["modelValue"])])])])]),e("div",fu,[e("button",{class:"popup__button button__second button",onClick:Q},[e("span",null,s(a(l)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:He},[e("span",null,s(a(l)("button.save")),1)])])],2),o(Ql)],64)}}}),ud=ue(yu,[["__scopeId","data-v-f5ddb37e"]]);export{ud as default};
