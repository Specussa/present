import{o as n,c as u,a as e,d as Cl,e as x,U as xl,al as E,R as o,J as r,I as $,O as V,P as s,b as Q,m as qe,k as vl,f as he,E as U,Q as k,a4 as w,K as Z,S as ee,D as m,u as a,M as p,W as C,L as H}from"./vendor-@vue-Bz_wJ882.js";import{k as R,i as bl,M as Rl,a0 as hl,a1 as ml,a2 as pl,a3 as fl,a4 as Ll,a5 as Il,a6 as yl,X as El,a7 as Nl,a8 as gl,a9 as Yl,O as Hl,_ as Ul}from"./vendor-@element-plus-DJ55j-yS.js";import{H as Ol}from"./Header-DifcjWJ1.js";import{O as Gl}from"./OpenLayers-B1XzQKQT.js";import{H as Bl}from"./vendor-highcharts-CibDmyST.js";import{P as zl}from"./Preloader-CTjq2Blf.js";import{_ as me}from"./index-CXQX6UJ3.js";import{F as jl}from"./Footer-D4qMeZd5.js";import{L as ql,F as kl,E as wl,K as Xl}from"./krpdSVG-DTLUxU5R.js";import{u as Wl}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./LogoSVG-FdJAhbjC.js";import"./vendor-vue-router-0eOeNsIj.js";import"./vendor-element-plus-CoIo5P0c.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-DHy5gSb7.js";import"./VideoPlayer-CZzDQXTJ.js";import"./GoBack-fGQkXZsr.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";const Jl={},Ql={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function Zl(pe,t){return n(),u("svg",Ql,t[0]||(t[0]=[e("path",{d:"M3 2L13 8L3 14Z"},null,-1)]))}const et=me(Jl,[["render",Zl]]),lt={},tt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function at(pe,t){return n(),u("svg",tt,t[0]||(t[0]=[e("rect",{x:"3",y:"2",width:"3",height:"12"},null,-1),e("rect",{x:"10",y:"2",width:"3",height:"12"},null,-1)]))}const st=me(lt,[["render",at]]),ot={class:"history__player"},it={class:"history__player_controls"},rt={class:"history__player_slider"},nt={class:"history__player_time text_three"},_t=Cl({__name:"PlayerGraph",emits:["progress","play","pause"],setup(pe,{expose:t,emit:He}){const B=x(!1),fe=x(1),ae=[1,2,4,8,16,32,64],X=x(0),le=x(null),ie=He,Ue=()=>{const O=(ae.indexOf(fe.value)+1)%ae.length;fe.value=ae[O]},Pe=()=>{B.value=!B.value,B.value?(N(),ie("play")):(ye(),ie("pause"))},N=()=>{ye(),le.value=setInterval(()=>{X.value+=fe.value,X.value>=86400&&(X.value=86400,ye(),B.value=!1,ie("pause")),ie("progress",X.value)},1e3)},ye=()=>{le.value&&(clearInterval(le.value),le.value=null)},Oe=M=>{X.value=M,ie("progress",M)},ge=M=>{const O=Math.floor(M/3600),f=Math.floor(M%3600/60),ne=Math.floor(M%60);return`${O.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}`},Ge=M=>ge(M),te=M=>{X.value=M},se=()=>{B.value||Pe()},re=()=>{B.value&&Pe()};return xl(()=>{ye()}),t({setProgress:te,play:se,pause:re,togglePlay:Pe}),(M,O)=>{const f=E("el-button"),ne=E("el-slider");return n(),u("div",ot,[e("div",it,[o(f,{class:"history__player_button",type:"primary",onClick:Pe},{default:r(()=>[B.value?(n(),$(st,{key:1})):(n(),$(et,{key:0}))]),_:1}),o(f,{class:"history__player_speed",type:"primary",onClick:Ue},{default:r(()=>[V(s(fe.value)+"x ",1)]),_:1})]),e("div",rt,[o(ne,{modelValue:X.value,"onUpdate:modelValue":O[0]||(O[0]=W=>X.value=W),min:0,max:86400,"format-tooltip":Ge,onInput:Oe},null,8,["modelValue"])]),e("div",nt,s(ge(X.value)),1)])}}}),ut=me(_t,[["__scopeId","data-v-259eb311"]]),dt={},ct={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function vt(pe,t){return n(),u("svg",ct,t[0]||(t[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"1",-1)]))}const bt=me(dt,[["render",vt]]),ht={},mt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function pt(pe,t){return n(),u("svg",mt,t[0]||(t[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"2",-1)]))}const ft=me(ht,[["render",pt]]),yt={},gt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function kt(pe,t){return n(),u("svg",gt,t[0]||(t[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"3",-1)]))}const wt=me(yt,[["render",kt]]),Ct={key:1,class:"map"},xt={class:"history__container container"},Pt={class:"history__block"},Vt={class:"history__flex list_flex"},Tt={key:0,class:"history__left list_left"},Dt={class:"history__left_tables list_scroll"},St={class:"history__top"},Kt={class:"history__top_flex"},At={class:"segmented__group",role:"radiogroup"},$t=["onClick","aria-checked"],Mt={class:"segmented__label"},Ft={class:"history__shadow"},Rt={class:"el-table_title"},Lt={class:"el-table_count text_four"},It={class:"el-table_arrow"},Et={class:"table_empty"},Nt={key:0,class:"history__bottom"},Yt={class:"el-table_bottom_left"},Ht={class:"el-table_search"},Ut={class:"history__buttons"},Ot={class:"el-datetime"},Gt={class:"el-datetime"},Bt={class:"button__icon"},zt={class:"history__button button__primary button",disabled:""},jt={class:"button__icon"},qt={class:"button__icon"},Xt={class:"history__button button__second button",disabled:""},Wt={class:"button__icon"},Jt={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Qt=["aria-checked"],Zt={class:"segmented__label"},ea={class:"segmented__icon text_two"},la=["onClick","aria-checked"],ta={class:"segmented__label"},aa={class:"segmented__icon text_two"},sa={class:"history__message_wrapper"},oa={class:"segmented__group segmented__group_info",role:"radiogroup"},ia=["onClick","aria-checked"],ra={class:"segmented__label"},na={class:"history__information_blocks"},_a={key:0,class:"history__information_all"},ua={key:0,class:"history__locomotive_blocks"},da=["onClick"],ca={class:"text_three"},va={class:"el-table_arrow"},ba={class:"info-label"},ha={class:"info-value"},ma={key:1,class:"history__locomotive_blocks"},pa=["onClick"],fa={class:"text_three"},ya={class:"el-table_arrow"},ga={class:"info-label"},ka={class:"info-value"},wa={key:2,class:"history__locomotive_blocks"},Ca=["onClick"],xa={class:"text_three"},Pa={class:"el-table_arrow"},Va={class:"info-label"},Ta={class:"info-value"},Da={key:3,class:"history__locomotive_blocks"},Sa=["onClick"],Ka={class:"text_three"},Aa={class:"el-table_arrow"},$a={class:"info-label"},Ma={class:"info-value"},Fa={key:4,class:"history__locomotive_blocks"},Ra=["onClick"],La={class:"text_three"},Ia={class:"el-table_arrow"},Ea={class:"info-label"},Na={class:"info-value"},Ya={key:5,class:"history__locomotive_blocks"},Ha=["onClick"],Ua={class:"text_three"},Oa={class:"el-table_arrow"},Ga={class:"info-label"},Ba={class:"info-value"},za={key:1,class:"history__information_single"},ja={key:0,class:"history__information_block"},qa={class:"history__block_header"},Xa={class:"text_three"},Wa={class:"history__tab_container"},Ja={class:"info-label"},Qa={class:"info-value"},Za={key:1,class:"history__information_block"},es={class:"history__block_header"},ls={class:"text_three"},ts={class:"history__tab_container"},as={class:"info-label"},ss={class:"info-value"},os={key:2,class:"history__information_block"},is={class:"history__block_header"},rs={class:"text_three"},ns={class:"history__tab_container"},_s={class:"info-label"},us={class:"info-value"},ds={key:3,class:"history__information_block"},cs={class:"history__block_header"},vs={class:"text_three"},bs={class:"history__tab_container"},hs={class:"info-label"},ms={class:"info-value"},ps={key:4,class:"history__information_block"},fs={class:"history__block_header"},ys={class:"text_three"},gs={class:"history__tab_container"},ks={class:"info-label"},ws={class:"info-value"},Cs={key:5,class:"history__information_block"},xs={class:"history__block_header"},Ps={class:"text_three"},Vs={class:"history__tab_container"},Ts={class:"info-label"},Ds={class:"info-value"},Ss={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Ks=["aria-checked"],As={class:"segmented__label"},$s={class:"segmented__icon text_two"},Ms=["onClick","aria-checked"],Fs={class:"segmented__label"},Rs={class:"segmented__icon text_two"},Ls={class:"history__total_wrapper"},Is={class:"segmented__group segmented__group_total",role:"radiogroup"},Es=["onClick","aria-checked"],Ns={class:"segmented__label"},Ys={class:"history__total_blocks"},Hs={key:0,class:"history__total_all"},Us={key:0,class:"history__total_data_block"},Os=["onClick"],Gs={class:"text_three"},Bs={class:"el-table_arrow"},zs={class:"info-label"},js={class:"info-value"},qs={key:1,class:"history__total_data_block"},Xs={class:"total__unit_selector"},Ws=["onClick"],Js={class:"text_three"},Qs={class:"el-table_arrow"},Zs={class:"info-label"},eo={class:"info-value"},lo={key:2,class:"history__total_data_block"},to=["onClick"],ao={class:"text_three"},so={class:"el-table_arrow"},oo={class:"info-label"},io={class:"info-value"},ro={key:1,class:"history__total_single"},no={key:0,class:"history__total_data_block"},_o={class:"history__total_block"},uo={class:"history__block_header"},co={class:"text_three"},vo={class:"history__tab_container"},bo={class:"info-label"},ho={class:"info-value"},mo={key:1,class:"history__total_data_block"},po={class:"total__unit_selector"},fo={class:"history__total_block"},yo={class:"history__block_header"},go={class:"text_three"},ko={class:"history__tab_container"},wo={class:"info-label"},Co={class:"info-value"},xo={key:2,class:"history__total_data_block"},Po={class:"history__total_block"},Vo={class:"history__block_header"},To={class:"text_three"},Do={class:"history__tab_container"},So={class:"info-label"},Ko={class:"info-value"},Ao={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},$o=["aria-checked"],Mo={class:"segmented__label"},Fo={class:"segmented__icon text_two"},Ro=["onClick","aria-checked"],Lo={class:"segmented__label"},Io={class:"segmented__icon text_two"},Eo={class:"history__events_wrapper"},No={class:"history__events_selector"},Yo={class:"history__events_table"},Ho={class:"table_empty"},Uo={key:0,class:"history__events_pagination"},Oo={class:"history__right list_map"},Go={key:0,class:"list_select"},Bo={class:"el-select_title"},zo={class:"el-table_count text_four"},jo={class:"el-select_option"},qo={class:"el-select_empty"},Xo={class:"history__map"},Wo={class:"history__charts"},Jo={class:"history__charts_buttons"},Qo={class:"history__segmented segmented__group segmented__group_total",role:"radiogroup"},Zo=["onClick","aria-checked"],ei={class:"segmented__label"},li={class:"history__chart history__chart_one"},ti={class:"history__chart history__chart_two"},ai={class:"history__chart history__chart_three"},si={key:1,class:"history__tables"},oi={key:0,class:"segmented__group",role:"radiogroup"},ii=["onClick","aria-checked"],ri={class:"segmented__label"},ni={class:"history__buttons"},_i={class:"el-datetime"},ui={class:"el-datetime"},di={class:"button__icon"},ci={class:"history__button button__primary button",disabled:""},vi={class:"button__icon"},bi={class:"button__icon"},hi={class:"history__button button__second button",disabled:""},mi={class:"button__icon"},pi={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},fi=["aria-checked"],yi={class:"segmented__label"},gi={class:"segmented__icon text_two"},ki=["onClick","aria-checked"],wi={class:"segmented__label"},Ci={class:"segmented__icon text_two"},xi={class:"history__message_wrapper"},Pi={class:"segmented__group segmented__group_info",role:"radiogroup"},Vi=["onClick","aria-checked"],Ti={class:"segmented__label"},Di={class:"history__information_blocks"},Si={key:0,class:"history__information_all"},Ki={key:0,class:"history__locomotive_blocks"},Ai=["onClick"],$i={class:"text_three"},Mi={class:"el-table_arrow"},Fi={class:"info-label"},Ri={class:"info-value"},Li={key:1,class:"history__locomotive_blocks"},Ii=["onClick"],Ei={class:"text_three"},Ni={class:"el-table_arrow"},Yi={class:"info-label"},Hi={class:"info-value"},Ui={key:2,class:"history__locomotive_blocks"},Oi=["onClick"],Gi={class:"text_three"},Bi={class:"el-table_arrow"},zi={class:"info-label"},ji={class:"info-value"},qi={key:3,class:"history__locomotive_blocks"},Xi=["onClick"],Wi={class:"text_three"},Ji={class:"el-table_arrow"},Qi={class:"info-label"},Zi={class:"info-value"},er={key:4,class:"history__locomotive_blocks"},lr=["onClick"],tr={class:"text_three"},ar={class:"el-table_arrow"},sr={class:"info-label"},or={class:"info-value"},ir={key:5,class:"history__locomotive_blocks"},rr=["onClick"],nr={class:"text_three"},_r={class:"el-table_arrow"},ur={class:"info-label"},dr={class:"info-value"},cr={key:1,class:"history__information_single"},vr={key:0,class:"history__information_block"},br={class:"history__block_header"},hr={class:"text_three"},mr={class:"history__tab_container"},pr={class:"info-label"},fr={class:"info-value"},yr={key:1,class:"history__information_block"},gr={class:"history__block_header"},kr={class:"text_three"},wr={class:"history__tab_container"},Cr={class:"info-label"},xr={class:"info-value"},Pr={key:2,class:"history__information_block"},Vr={class:"history__block_header"},Tr={class:"text_three"},Dr={class:"history__tab_container"},Sr={class:"info-label"},Kr={class:"info-value"},Ar={key:3,class:"history__information_block"},$r={class:"history__block_header"},Mr={class:"text_three"},Fr={class:"history__tab_container"},Rr={class:"info-label"},Lr={class:"info-value"},Ir={key:4,class:"history__information_block"},Er={class:"history__block_header"},Nr={class:"text_three"},Yr={class:"history__tab_container"},Hr={class:"info-label"},Ur={class:"info-value"},Or={key:5,class:"history__information_block"},Gr={class:"history__block_header"},Br={class:"text_three"},zr={class:"history__tab_container"},jr={class:"info-label"},qr={class:"info-value"},Xr={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Wr=["aria-checked"],Jr={class:"segmented__label"},Qr={class:"segmented__icon text_two"},Zr=["onClick","aria-checked"],en={class:"segmented__label"},ln={class:"segmented__icon text_two"},tn={class:"history__total_wrapper"},an={class:"segmented__group segmented__group_total",role:"radiogroup"},sn=["onClick","aria-checked"],on={class:"segmented__label"},rn={class:"history__total_blocks"},nn={key:0,class:"history__total_all"},_n={key:0,class:"history__total_data_block"},un=["onClick"],dn={class:"text_three"},cn={class:"el-table_arrow"},vn={class:"info-label"},bn={class:"info-value"},hn={key:1,class:"history__total_data_block"},mn={class:"total__unit_selector"},pn=["onClick"],fn={class:"text_three"},yn={class:"el-table_arrow"},gn={class:"info-label"},kn={class:"info-value"},wn={key:2,class:"history__total_data_block"},Cn=["onClick"],xn={class:"text_three"},Pn={class:"el-table_arrow"},Vn={class:"info-label"},Tn={class:"info-value"},Dn={key:1,class:"history__total_single"},Sn={key:0,class:"history__total_data_block"},Kn={class:"history__total_block"},An={class:"history__block_header"},$n={class:"text_three"},Mn={class:"history__tab_container"},Fn={class:"info-label"},Rn={class:"info-value"},Ln={key:1,class:"history__total_data_block"},In={class:"total__unit_selector"},En={class:"history__total_block"},Nn={class:"history__block_header"},Yn={class:"text_three"},Hn={class:"history__tab_container"},Un={class:"info-label"},On={class:"info-value"},Gn={key:2,class:"history__total_data_block"},Bn={class:"history__total_block"},zn={class:"history__block_header"},jn={class:"text_three"},qn={class:"history__tab_container"},Xn={class:"info-label"},Wn={class:"info-value"},Jn={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Qn=["aria-checked"],Zn={class:"segmented__label"},e_={class:"segmented__icon text_two"},l_=["onClick","aria-checked"],t_={class:"segmented__label"},a_={class:"segmented__icon text_two"},s_={class:"history__events_wrapper"},o_={class:"history__events_selector"},i_={class:"history__events_table"},r_={class:"table_empty"},n_={key:0,class:"history__events_pagination"},__={class:"history_popup__scroll popup__scroll_buttons"},u_={class:"history_popup__block popup__block"},d_={class:"history_popup__head popup__head"},c_={class:"history_popup__list"},v_={class:"history_popup__item"},b_={class:"history_popup__head"},h_={class:"history_popup__checkbox"},m_={class:"history_popup__checkbox"},p_={class:"history_popup__checkbox"},f_={class:"history_popup__checkbox"},y_={class:"history_popup__item"},g_={class:"history_popup__head"},k_={class:"history_popup__checkbox"},w_={class:"history_popup__checkbox"},C_={class:"history_popup__checkbox"},x_={class:"history_popup__checkbox"},P_={class:"history_popup__checkbox"},V_={class:"history_popup__checkbox"},T_={class:"history_popup__checkbox"},D_={class:"history_popup__item"},S_={class:"history_popup__head"},K_={class:"history_popup__checkbox"},A_={class:"history_popup__checkbox"},$_={class:"history_popup__checkbox"},M_={class:"history_popup__checkbox"},F_={class:"history_popup__checkbox"},R_={class:"history_popup__checkbox"},L_={class:"history_popup__checkbox"},I_={class:"history_popup__checkbox"},E_={class:"history_popup__checkbox"},N_={class:"history_popup__item"},Y_={class:"history_popup__head"},H_={class:"history_popup__checkbox"},U_={class:"history_popup__checkbox"},O_={class:"history_popup__checkbox"},G_={class:"history_popup__checkbox"},B_={class:"history_popup__checkbox"},z_={class:"history_popup__item"},j_={class:"history_popup__head"},q_={class:"history_popup__checkbox"},X_={class:"history_popup__checkbox"},W_={class:"history_popup__checkbox"},J_={class:"history_popup__checkbox"},Q_={class:"history_popup__item"},Z_={class:"history_popup__head"},eu={class:"history_popup__checkbox"},lu={class:"history_popup__checkbox"},tu={class:"popup__buttons"},au=Cl({__name:"History",setup(pe){const{t}=Wl(),He=x(!1),B=x(!1),fe=x(!1),ae=x(!1),X=()=>{fe.value=!1,ae.value=!1,B.value=!1,document.documentElement.classList.remove("noscroll")},le=()=>{ae.value=!ae.value,B.value=!B.value,ae.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},ie=(d,i,h=365)=>{const b=new Date;b.setTime(b.getTime()+h*24*60*60*1e3),document.cookie=`${d}=${encodeURIComponent(i)};expires=${b.toUTCString()};path=/`},Ue=d=>{const i=d+"=",h=document.cookie.split(";");for(let b=0;b<h.length;b++){let I=h[b];for(;I.charAt(0)===" ";)I=I.substring(1,I.length);if(I.indexOf(i)===0)return decodeURIComponent(I.substring(i.length,I.length))}return null},N=x((()=>{const d=Ue("selectedCharts");if(d)try{return JSON.parse(d)}catch(i){console.error("Error parsing saved charts from cookies:",i)}return["speedKmh","fuelVolumeL","fuelVolume20C","fuelMassKg"]})()),ye=()=>{ie("selectedCharts",JSON.stringify(N.value)),console.log("Выбранные параметры графиков сохранены:",N.value),le()},Oe=x(null),ge=x(),Ge=Q(()=>({chart:{type:"line",backgroundColor:"var(--bg-gray)"},title:{text:t("chart.title"),style:{color:"var(--text)"}},xAxis:{categories:[t("chart.months.jan"),t("chart.months.feb"),t("chart.months.mar"),t("chart.months.apr"),t("chart.months.may"),t("chart.months.jun"),t("chart.months.jul"),t("chart.months.aug"),t("chart.months.sep"),t("chart.months.oct"),t("chart.months.nov"),t("chart.months.dec")],labels:{style:{color:"var(--text)"}},title:{style:{color:"var(--text)"}}},yAxis:{title:{text:t("chart.values"),style:{color:"var(--text)"}},labels:{style:{color:"var(--text)"}},min:0,max:8,tickInterval:2,allowDecimals:!1},accessibility:{enabled:!1},series:[{type:"line",name:t("chart.data"),data:[1,4,2,5,3,6]}],legend:{itemStyle:{color:"var(--text)"},itemHoverStyle:{color:"var(--hover)"}}}));qe(()=>{ge.value&&(Oe.value=Bl.chart(ge.value,{...Ge.value}))});const te=x("info"),se=x("locomotive"),re=x("one"),M=x("route"),O=x("dop_reg"),f=x(-1),ne=x({}),W=x("liters"),De=[{value:"liters",label:"Литры"},{value:"liters20C",label:"Литры к 20°C"},{value:"kilograms",label:"Килограммы"}],K=x({info:!0,message:!1,total:!1,events:!1}),D=x({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),Y=x({route:!0,fuel:!1,electricity:!1}),Be=x({dop_reg:!0,idle:!1,tab_change:!1,rfid:!1,violations:!1}),G=x({}),z=(d,i)=>{i&&(i.preventDefault(),i.stopPropagation());const[h]=d.split("-"),b=parseInt(h),I=`locomotive-${b}`;G.value[I]===!0?(G.value[I]=!1,Object.keys(G.value).forEach(ce=>{ce.startsWith(`${b}-`)&&delete G.value[ce]})):(G.value[I]=!0,G.value[`${b}-locomotive`]=!0,G.value[`${b}-information`]=!0,G.value[`${b}-location`]=!0,G.value[`${b}-fuel`]=!0,G.value[`${b}-energy`]=!0,G.value[`${b}-krpd`]=!0)},ke=(d,i)=>{i&&(i.preventDefault(),i.stopPropagation()),ne.value[d]=!ne.value[d]},S=d=>{const[i]=d.split("-"),h=parseInt(i);return G.value[`locomotive-${h}`]===!0?!0:G.value[d]===!0},j=d=>ne.value[d]===!0,P=(d,i)=>`${d}-${i}`,L=d=>`total-${d}`,Se=d=>{const i=[],h=W.value;return h==="liters"?i.push({label:t("table.initialValue")+" ["+t("table.l")+"]",value:d.fuel_initial_liters||"4500"},{label:t("table.finalValue")+" ["+t("table.l")+"]",value:d.fuel_final_liters||"3200"},{label:t("table.minValue")+" ["+t("table.l")+"]",value:d.fuel_min_liters||"1800"},{label:t("table.maxValue")+" ["+t("table.l")+"]",value:d.fuel_max_liters||"5000"},{label:t("table.refuelAmount")+" ["+t("table.l")+"]",value:d.fuel_refuel_liters||"800"},{label:t("table.drainAmount")+" ["+t("table.l")+"]",value:d.fuel_drain_liters||"200"},{label:t("table.actualConsumption")+" ["+t("table.l")+"]",value:d.fuel_actual_liters||"1300"},{label:t("table.averageHourlyConsumption")+" ["+t("table.l")+"]",value:d.fuel_hourly_liters||"65"},{label:t("table.normativeConsumption")+" ["+t("table.l")+"]",value:d.fuel_normative_liters||"1200"},{label:t("table.actualSpecificConsumption")+" ["+t("table.l")+"]",value:d.fuel_specific_liters||"0.25"}):h==="liters20C"?i.push({label:t("table.initialValue")+" [20°C/"+t("table.l")+"]",value:d.fuel_initial_liters20C||"4400"},{label:t("table.finalValue")+" [20°C/"+t("table.l")+"]",value:d.fuel_final_liters20C||"3100"},{label:t("table.minValue")+" [20°C/"+t("table.l")+"]",value:d.fuel_min_liters20C||"1750"},{label:t("table.maxValue")+" [20°C/"+t("table.l")+"]",value:d.fuel_max_liters20C||"4900"},{label:t("table.refuelAmount")+" [20°C/"+t("table.l")+"]",value:d.fuel_refuel_liters20C||"780"},{label:t("table.drainAmount")+" [20°C/"+t("table.l")+"]",value:d.fuel_drain_liters20C||"195"},{label:t("table.actualConsumption")+" [20°C/"+t("table.l")+"]",value:d.fuel_actual_liters20C||"1270"},{label:t("table.averageHourlyConsumption")+" [20°C/"+t("table.l")+"]",value:d.fuel_hourly_liters20C||"63"},{label:t("table.normativeConsumption")+" [20°C/"+t("table.l")+"]",value:d.fuel_normative_liters20C||"1170"},{label:t("table.actualSpecificConsumption")+" [20°C/"+t("table.l")+"]",value:d.fuel_specific_liters20C||"0.24"}):h==="kilograms"&&i.push({label:t("table.initialValue")+" ["+t("table.kg")+"]",value:d.fuel_initial_kilograms||"3825"},{label:t("table.finalValue")+" ["+t("table.kg")+"]",value:d.fuel_final_kilograms||"2720"},{label:t("table.minValue")+" ["+t("table.kg")+"]",value:d.fuel_min_kilograms||"1530"},{label:t("table.maxValue")+" ["+t("table.kg")+"]",value:d.fuel_max_kilograms||"4250"},{label:t("table.refuelAmount")+" ["+t("table.kg")+"]",value:d.fuel_refuel_kilograms||"680"},{label:t("table.drainAmount")+" ["+t("table.kg")+"]",value:d.fuel_drain_kilograms||"170"},{label:t("table.actualConsumption")+" ["+t("table.kg")+"]",value:d.fuel_actual_kilograms||"1105"},{label:t("table.averageHourlyConsumption")+" ["+t("table.kg")+"]",value:d.fuel_hourly_kilograms||"55"},{label:t("table.normativeConsumption")+" ["+t("table.kg")+"]",value:d.fuel_normative_kilograms||"1020"},{label:t("table.actualSpecificConsumption")+" ["+t("table.kg")+"]",value:d.fuel_specific_kilograms||"0.21"}),i},v=x(-1),q=x(-1),Ke=[{iconComponent:Nl,value:"info",label:"Info"},{iconComponent:gl,value:"message",label:"Message"},{iconComponent:Yl,value:"total",label:"total"},{iconComponent:yl,value:"events",label:"events"}],Ae=[{iconComponent:ql,value:"locomotive",label:"Locomotive"},{iconComponent:Hl,value:"information",label:"Information"},{iconComponent:Ul,value:"location",label:"Location"},{iconComponent:kl,value:"fuel",label:"Fuel"},{iconComponent:wl,value:"energy",label:"Energy"},{iconComponent:Xl,value:"krpd",label:"Krpd"}],ze=[{iconComponent:bt,value:"one",label:"one"},{iconComponent:ft,value:"two",label:"two"},{iconComponent:wt,value:"all",label:"all"}],$e=[{iconComponent:gl,value:"route",label:"route"},{iconComponent:kl,value:"fuel",label:"fuel"},{iconComponent:wl,value:"electricity",label:"electricity"}],Xe=Q(()=>{const d=Ke.findIndex(h=>h.value===te.value);return{width:`${100/Ke.length}%`,transform:`translateX(${d*100}%)`}}),We=Q(()=>{const d=Ae.findIndex(h=>h.value===se.value);return{width:`${100/Ae.length}%`,transform:`translateX(${d*100}%)`}}),Pl=Q(()=>{const d=ze.findIndex(h=>h.value===re.value);return{width:`${100/ze.length}%`,transform:`translateX(${d*100}%)`}}),Je=Q(()=>{const i=100/(F.length+1),h=v.value+1;return{width:`${i}%`,transform:`translateX(${h*100}%)`}}),Qe=Q(()=>{const i=100/(F.length+1),h=f.value+1;return{width:`${i}%`,transform:`translateX(${h*100}%)`}}),Ze=Q(()=>{const d=$e.findIndex(h=>h.value===M.value);return{width:`${100/$e.length}%`,transform:`translateX(${d*100}%)`}}),el=x([{date:"2024-01-15",time:"14:30:25",tabNumber:"12345",locomotive:"0001",additionalInfo:"Дополнительная регистрация на участке"},{date:"2024-01-15",time:"10:15:10",tabNumber:"23456",locomotive:"0002",idleDuration:"2 ч 30 мин",idleReason:"Ожидание состава"},{date:"2024-01-14",time:"16:20:30",tabNumber:"45678",locomotive:"0004",rfidCode:"RFID-001234",location:"Станция Москва-Товарная"},{date:"2024-01-13",time:"08:05:45",tabNumber:"34567",locomotive:"0003",violationType:"Превышение скорости",description:"Превышение на 15 км/ч на участке 25 км"},{date:"2024-01-12",time:"22:10:15",tabNumber:"12345",locomotive:"0001",additionalInfo:"Повторная регистрация"}]),we=Q(()=>{if(q.value!==-1){const d=F[q.value];return el.value.filter(i=>i.locomotive===d.number)}return el.value}),ll=Q(()=>{const i=100/(F.length+1),h=q.value+1;return{width:`${i}%`,transform:`translateX(${h*100}%)`}}),je=Q(()=>{switch(re.value){case"one":return{one:!0,two:!1,three:!1};case"two":return{one:!1,two:!0,three:!1};case"all":return{one:!1,two:!1,three:!0};default:return{one:!0,two:!1,three:!1}}}),Me=x(),A=vl({datestart:"",dateend:"",timestart:"00:00:00",timeend:"23:59:59"}),tl=vl({datestart:[{type:"date",required:!0,message:"Выберите дату начала",trigger:"change"}],dateend:[{type:"date",required:!0,message:"Выберите дату окончания",trigger:"change"},{validator:(d,i,h)=>{if(!A.datestart||!A.dateend){h(new Error("Обе даты обязательны"));return}const b=new Date(A.datestart);new Date(A.dateend)<=b?h(new Error("Дата окончания должна быть позже даты начала")):h()},trigger:"change"}]}),al=async d=>{d&&await d.validate((i,h)=>{i?console.log("submit!"):console.log("error submit!",h)})},sl=(d,i)=>{i.preventDefault(),i.stopPropagation(),te.value=d},ol=(d,i)=>{i.preventDefault(),i.stopPropagation(),se.value=d},Vl=(d,i)=>{i.preventDefault(),i.stopPropagation(),re.value=d},Fe=(d,i)=>{i.preventDefault(),i.stopPropagation(),v.value=d},Re=(d,i)=>{i.preventDefault(),i.stopPropagation(),f.value=d},il=(d,i)=>{i.preventDefault(),i.stopPropagation(),M.value=d},rl=(d,i)=>{i&&(i.preventDefault(),i.stopPropagation()),O.value=d},Le=(d,i)=>{i.preventDefault(),i.stopPropagation(),q.value=d};he(te,d=>{Object.keys(K.value).forEach(i=>{K.value[i]=!1}),K.value[d]=!0}),he(se,d=>{Object.keys(D.value).forEach(i=>{D.value[i]=!1}),D.value[d]=!0}),he(M,d=>{Object.keys(Y.value).forEach(i=>{Y.value[i]=!1}),Y.value[d]=!0}),he(O,d=>{Object.keys(Be.value).forEach(i=>{Be.value[i]=!1}),Be.value[d]=!0,console.log("Тип событий изменен на:",d)}),he(te,d=>{Object.keys(K.value).forEach(i=>{K.value[i]=!1}),K.value[d]=!0});const Ve=x(window.innerWidth),nl=()=>{Ve.value=window.innerWidth};qe(()=>{window.addEventListener("resize",nl)}),xl(()=>{window.removeEventListener("resize",nl)});const _e=x(""),Ie=Q(()=>{let d=F;return _e.value&&(d=d.filter(i=>{var h,b,I;return((h=i.type)==null?void 0:h.toLowerCase().includes(_e.value.toLowerCase()))||((b=i.number)==null?void 0:b.toLowerCase().includes(_e.value.toLowerCase()))||((I=i.status)==null?void 0:I.toLowerCase().includes(_e.value.toLowerCase()))})),d}),Ce=x(),ue=x(""),Te=x(!0),g=({rowIndex:d})=>d%2===1?"bg_gray":"",Tl=d=>{Ce.value=d,d&&d.id?ue.value=d.id.toString():ue.value=""},Dl=()=>{Te.value=!Te.value},Sl=d=>{if(!d){Ce.value=void 0;return}const i=F.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===d});i&&(Ce.value=i)},Kl=d=>{_e.value=d};he(ue,d=>{if(d){const i=F.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===d});i&&(Ce.value=i)}else Ce.value=void 0}),he(Ce,d=>{d&&d.id?ue.value=d.id.toString():ue.value=""});const de=x("Название станции"),_l=x(""),oe=x(!0),Al=()=>{switch(Ml.value){case"follow_to_station":de.value="Название станции",oe.value=!0;break;case"pass_red_signal":de.value="Номер светофора",oe.value=!0;break;case"enter_station":de.value="Номер пути",oe.value=!0;break;case"stop_at_signal":de.value="Номер светофора",oe.value=!0;break;case"dont_depart":oe.value=!1,_l.value="";break;case"speed_limit_40":de.value="Название перегона",oe.value=!0;break;case"track_works":de.value="Номер пути",oe.value=!0;break;case"check_brakes":oe.value=!1,_l.value="";break;default:de.value="Название станции",oe.value=!0}};qe(()=>{Al()});const F=[{id:1,type:"0001",number:"0001",status:"Эксплуатация"},{id:2,type:"0002",number:"0002",status:"В ремонте"},{id:3,type:"0003",number:"0003",status:"Резерв"},{id:4,type:"0004",number:"0004",status:"Эксплуатация"}],c=x([{id:1,series:"Серия А",number:"0001",tabNumber:"12345",workType:"Эксплуатация",weight:"120 т",carNumber:"15",axisNumber:"6",bortDate:"2024-01-15",bortTime:"14:30:25",speed:"75",stopTime:"5 мин",pressure:"5.2 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7558°",longitude:"37.6173°",volume:"4500",volume20:"4400",temp:"15°C",density:"850 кг/м³",mass:"3825",instantPowerActive:"1500 кВт",instantPowerReactive:"800 кВАр",instantPowerFull:"1700 кВА",voltage:"3000 В",current:"500 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1500",fuel_initial_liters:"4500",fuel_final_liters:"3200",fuel_min_liters:"1800",fuel_max_liters:"5000",fuel_refuel_liters:"800",fuel_drain_liters:"200",fuel_actual_liters:"1300",fuel_hourly_liters:"65",fuel_normative_liters:"1200",fuel_specific_liters:"0.25",fuel_initial_liters20C:"4400",fuel_final_liters20C:"3100",fuel_min_liters20C:"1750",fuel_max_liters20C:"4900",fuel_refuel_liters20C:"780",fuel_drain_liters20C:"195",fuel_actual_liters20C:"1270",fuel_hourly_liters20C:"63",fuel_normative_liters20C:"1170",fuel_specific_liters20C:"0.24",fuel_initial_kilograms:"3825",fuel_final_kilograms:"2720",fuel_min_kilograms:"1530",fuel_max_kilograms:"4250",fuel_refuel_kilograms:"680",fuel_drain_kilograms:"170",fuel_actual_kilograms:"1105",fuel_hourly_kilograms:"55",fuel_normative_kilograms:"1020",fuel_specific_kilograms:"0.21",electricity_active_forward:"1200",electricity_active_reverse:"50",electricity_reactive_forward:"800",electricity_reactive_reverse:"30",electricity_min_voltage:"2800",electricity_max_voltage:"3200"},{id:2,series:"Серия Б",number:"0002",tabNumber:"23456",workType:"В ремонте",weight:"115 т",carNumber:"12",axisNumber:"6",bortDate:"2024-01-14",bortTime:"10:15:10",speed:"0",stopTime:"120 мин",pressure:"4.8 кгс/см²",LSlight:"Требует проверки",fireAlarm:"Нет",latitude:"55.7658°",longitude:"37.6273°",volume:"3200",volume20:"3100",temp:"18°C",density:"830 кг/м³",mass:"2656",instantPowerActive:"0 кВт",instantPowerReactive:"0 кВАр",instantPowerFull:"0 кВА",voltage:"0 В",current:"0 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"980",fuel_initial_liters:"3200",fuel_final_liters:"2800",fuel_min_liters:"1500",fuel_max_liters:"3500",fuel_refuel_liters:"600",fuel_drain_liters:"150",fuel_actual_liters:"1000",fuel_hourly_liters:"42",fuel_normative_liters:"950",fuel_specific_liters:"0.28",fuel_initial_liters20C:"3100",fuel_final_liters20C:"2710",fuel_min_liters20C:"1450",fuel_max_liters20C:"3390",fuel_refuel_liters20C:"580",fuel_drain_liters20C:"145",fuel_actual_liters20C:"970",fuel_hourly_liters20C:"41",fuel_normative_liters20C:"920",fuel_specific_liters20C:"0.27",fuel_initial_kilograms:"2656",fuel_final_kilograms:"2324",fuel_min_kilograms:"1245",fuel_max_kilograms:"2905",fuel_refuel_kilograms:"498",fuel_drain_kilograms:"124",fuel_actual_kilograms:"830",fuel_hourly_kilograms:"35",fuel_normative_kilograms:"788",fuel_specific_kilograms:"0.23",electricity_active_forward:"850",electricity_active_reverse:"25",electricity_reactive_forward:"600",electricity_reactive_reverse:"15",electricity_min_voltage:"2700",electricity_max_voltage:"3100"},{id:3,series:"Серия В",number:"0003",tabNumber:"34567",workType:"Резерв",weight:"125 т",carNumber:"18",axisNumber:"8",bortDate:"2024-01-13",bortTime:"08:05:45",speed:"60",stopTime:"15 мин",pressure:"5.0 кгс/см²",LSlight:"В норме",fireAlarm:"Да",latitude:"55.7458°",longitude:"37.6073°",volume:"5000",volume20:"4900",temp:"12°C",density:"860 кг/м³",mass:"4300",instantPowerActive:"1200 кВт",instantPowerReactive:"700 кВАр",instantPowerFull:"1380 кВА",voltage:"2900 В",current:"420 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"2100",fuel_initial_liters:"5000",fuel_final_liters:"3800",fuel_min_liters:"2200",fuel_max_liters:"5500",fuel_refuel_liters:"900",fuel_drain_liters:"250",fuel_actual_liters:"1500",fuel_hourly_liters:"71",fuel_normative_liters:"1400",fuel_specific_liters:"0.22",fuel_initial_liters20C:"4900",fuel_final_liters20C:"3720",fuel_min_liters20C:"2150",fuel_max_liters20C:"5390",fuel_refuel_liters20C:"880",fuel_drain_liters20C:"245",fuel_actual_liters20C:"1470",fuel_hourly_liters20C:"70",fuel_normative_liters20C:"1370",fuel_specific_liters20C:"0.21",fuel_initial_kilograms:"4300",fuel_final_kilograms:"3268",fuel_min_kilograms:"1892",fuel_max_kilograms:"4730",fuel_refuel_kilograms:"774",fuel_drain_kilograms:"215",fuel_actual_kilograms:"1290",fuel_hourly_kilograms:"61",fuel_normative_kilograms:"1204",fuel_specific_kilograms:"0.18",electricity_active_forward:"1800",electricity_active_reverse:"75",electricity_reactive_forward:"1200",electricity_reactive_reverse:"45",electricity_min_voltage:"2750",electricity_max_voltage:"3150"},{id:4,series:"Серия Г",number:"0004",tabNumber:"45678",workType:"Эксплуатация",weight:"118 т",carNumber:"14",axisNumber:"6",bortDate:"2024-01-12",bortTime:"16:20:30",speed:"80",stopTime:"8 мин",pressure:"5.5 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7358°",longitude:"37.5973°",volume:"3800",volume20:"3700",temp:"20°C",density:"840 кг/м³",mass:"3192",instantPowerActive:"1600 кВт",instantPowerReactive:"900 кВАр",instantPowerFull:"1830 кВА",voltage:"3100 В",current:"520 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1750",fuel_initial_liters:"3800",fuel_final_liters:"2900",fuel_min_liters:"1700",fuel_max_liters:"4200",fuel_refuel_liters:"700",fuel_drain_liters:"180",fuel_actual_liters:"1200",fuel_hourly_liters:"68",fuel_normative_liters:"1100",fuel_specific_liters:"0.26",fuel_initial_liters20C:"3700",fuel_final_liters20C:"2820",fuel_min_liters20C:"1650",fuel_max_liters20C:"4110",fuel_refuel_liters20C:"685",fuel_drain_liters20C:"176",fuel_actual_liters20C:"1175",fuel_hourly_liters20C:"67",fuel_normative_liters20C:"1075",fuel_specific_liters20C:"0.25",fuel_initial_kilograms:"3192",fuel_final_kilograms:"2436",fuel_min_kilograms:"1428",fuel_max_kilograms:"3528",fuel_refuel_kilograms:"588",fuel_drain_kilograms:"151",fuel_actual_kilograms:"1008",fuel_hourly_kilograms:"57",fuel_normative_kilograms:"924",fuel_specific_kilograms:"0.22",electricity_active_forward:"1500",electricity_active_reverse:"60",electricity_reactive_forward:"950",electricity_reactive_reverse:"35",electricity_min_voltage:"2850",electricity_max_voltage:"3250"}]),$l={permissive:[{value:"follow_to_station",label:"Следовать до станции по главному пути"},{value:"pass_red_signal",label:"Проехать запрещающий сигнал с уменьшенной скоростью"},{value:"enter_station",label:"Въезд на станцию разрешаю"}],restrictive:[{value:"stop_at_signal",label:"Остановиться у сигнала, ожидать указаний"},{value:"dont_depart",label:"Не отправляться со станции до получения разрешения"},{value:"speed_limit_40",label:"Ограничение скорости: не более 40 км/ч на перегоне"}],totals:[{value:"track_works",label:"Работы на пути, снизить скорость до 25 км/ч"},{value:"check_brakes",label:"Проверить работоспособность тормозов"}]},ul=[{value:"dop_reg",label:'Дополнительная регистрация ("П")'},{value:"idle",label:"Простои локомотива"},{value:"tab_change",label:"Смена табельного номера"},{value:"rfid",label:"Прохождение RFID-метки"},{value:"violations",label:"Нарушения эксплуатации"}],Ml=x($l.permissive[0].value);return(d,i)=>{const h=E("el-icon"),b=E("el-table-column"),I=E("el-tooltip"),y=E("el-table"),ce=E("el-button"),Fl=E("el-input"),Ee=E("el-date-picker"),Ne=E("el-time-picker"),Ye=E("el-form-item"),dl=E("el-form"),ve=E("el-option"),be=E("el-select"),cl=E("el-pagination"),T=E("el-checkbox"),xe=E("el-checkbox-group");return n(),u(k,null,[o(Ol),He.value?(n(),$(zl,{key:0})):(n(),u("section",Ct,[e("div",xt,[e("div",Pt,[e("div",Vt,[Ve.value>=1280?(n(),u("div",Tt,[e("div",Dt,[e("div",St,[e("div",Kt,[e("div",At,[e("div",{class:"segmented__indicator",style:U(Xe.value)},null,4),(n(),u(k,null,w(Ke,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":te.value===l.value}]),onClick:C(_=>sl(l.value,_),["prevent"]),onMousedown:i[0]||(i[0]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===l.value},[e("div",Mt,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,$t)),64))])])]),Z(e("div",{class:m(["history__left_table",{active:K.value.info}])},[e("div",Ft,[o(y,{ref:"oneTableRef",data:Ie.value,"highlight-current-row":"","row-class-name":g,onCurrentChange:Tl,style:U({maxHeight:Te.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",Et,s(a(t)("table.noData")),1)]),default:r(()=>[o(b,{"header-align":"center"},{header:r(()=>[e("span",{class:m(["el-table_top",{active:Te.value}]),onClick:Dl},[e("span",Rt,[V(s(a(t)("table.listLoco"))+" - ",1),e("span",Lt,s(Ie.value.length),1)]),e("span",It,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],2)]),default:r(()=>[o(b,{property:"type",sortable:"",label:a(t)("table.type")},null,8,["label"]),o(b,{property:"number",sortable:"",label:a(t)("table.number")},null,8,["label"]),o(b,{property:"status",label:a(t)("table.status"),width:"75px"},{default:r(l=>[l.row.status?(n(),$(I,{key:0,content:l.row.status,placement:"top"},{default:r(()=>[o(h,{class:"el-table_icon"},{default:r(()=>[o(a(bl))]),_:1})]),_:2},1032,["content"])):p("",!0)]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),Te.value?(n(),u("div",Nt,[e("div",Yt,[e("div",Ht,[o(Fl,{modelValue:_e.value,"onUpdate:modelValue":i[1]||(i[1]=l=>_e.value=l),placeholder:a(t)("sort.search")},{prepend:r(()=>[o(ce,{icon:a(Rl),title:a(t)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):p("",!0)]),e("div",Ut,[o(dl,{ref_key:"addStatusFormRef",ref:Me,model:A,rules:tl,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Ye,{label:a(t)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",Ot,[o(Ee,{modelValue:A.datestart,"onUpdate:modelValue":i[2]||(i[2]=l=>A.datestart=l),type:"date",placeholder:a(t)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ne,{modelValue:A.timestart,"onUpdate:modelValue":i[3]||(i[3]=l=>A.timestart=l),placeholder:a(t)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Ye,{label:a(t)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",Gt,[o(Ee,{modelValue:A.dateend,"onUpdate:modelValue":i[4]||(i[4]=l=>A.dateend=l),type:"date",placeholder:a(t)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ne,{modelValue:A.timeend,"onUpdate:modelValue":i[5]||(i[5]=l=>A.timeend=l),placeholder:a(t)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:i[6]||(i[6]=l=>al(Me.value))},[e("span",Bt,[o(h,null,{default:r(()=>[(n(),$(H(a(hl))))]),_:1})]),e("span",null,s(a(t)("button.requestHistory")),1)]),e("button",zt,[e("span",jt,[o(h,null,{default:r(()=>[(n(),$(H(a(ml))))]),_:1})]),e("span",null,s(a(t)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:le},[e("span",qt,[o(h,null,{default:r(()=>[(n(),$(H(a(pl))))]),_:1})]),e("span",null,s(a(t)("button.settingCharts")),1)]),e("button",Xt,[e("span",Wt,[o(h,null,{default:r(()=>[(n(),$(H(a(fl))))]),_:1})]),e("span",null,s(a(t)("button.downloadFile")),1)])])],2),[[ee,K.value.info]]),Z(e("div",{class:m(["history__left_table",{active:K.value.message}])},[F.length>1?(n(),u("div",Jt,[e("div",{class:"segmented__indicator",style:U(Je.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":v.value===-1}]),onClick:i[7]||(i[7]=C(l=>Fe(-1,l),["prevent"])),onMousedown:i[8]||(i[8]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",Zt,[e("span",ea,s(a(t)("button.all")),1)])],42,Qt),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":v.value===_}]),onClick:C(J=>Fe(_,J),["prevent"]),onMousedown:i[9]||(i[9]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===_},[e("div",ta,[e("span",aa,s(l.number),1)])],42,la)),64))])):p("",!0),e("div",sa,[e("div",oa,[e("div",{class:"segmented__indicator",style:U(We.value)},null,4),(n(),u(k,null,w(Ae,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":se.value===l.value}]),onClick:C(_=>ol(l.value,_),["prevent"]),onMousedown:i[10]||(i[10]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===l.value},[e("div",ra,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,ia)),64))]),e("div",na,[v.value===-1?(n(),u("div",_a,[D.value.locomotive?(n(),u("div",ua,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"loc-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"locomotive"))}]),onClick:_=>z(P(l.id,"locomotive"),_)},[e("p",ca,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",va,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,da),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"locomotive"))}])},[o(y,{data:[{label:a(t)("table.series"),value:l.series},{label:a(t)("table.number"),value:l.number},{label:a(t)("table.tabNumber"),value:l.tabNumber},{label:a(t)("table.workType"),value:l.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",ba,s(_.row.label),1),e("span",ha,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.information?(n(),u("div",ma,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"info-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"information"))}]),onClick:_=>z(P(l.id,"information"),_)},[e("p",fa,s(a(t)("table.information"))+" - "+s(l.number),1),e("span",ya,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,pa),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"information"))}])},[o(y,{data:[{label:a(t)("table.bortDate"),value:l.bortDate},{label:a(t)("table.bortTime"),value:l.bortTime},{label:a(t)("table.speed"),value:l.speed},{label:a(t)("table.stopTime"),value:l.stopTime},{label:a(t)("table.pressure"),value:l.pressure},{label:a(t)("table.LSlight"),value:l.LSlight},{label:a(t)("table.fireAlarm"),value:l.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",ga,s(_.row.label),1),e("span",ka,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.location?(n(),u("div",wa,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"locat-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"location"))}]),onClick:_=>z(P(l.id,"location"),_)},[e("p",xa,s(a(t)("table.coordinates"))+" - "+s(l.number),1),e("span",Pa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ca),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"location"))}])},[o(y,{data:[{label:a(t)("table.latitude"),value:l.latitude},{label:a(t)("table.longitude"),value:l.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Va,s(_.row.label),1),e("span",Ta,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.fuel?(n(),u("div",Da,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"fuel-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"fuel"))}]),onClick:_=>z(P(l.id,"fuel"),_)},[e("p",Ka,s(a(t)("table.fuel"))+" - "+s(l.number),1),e("span",Aa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Sa),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"fuel"))}])},[o(y,{data:[{label:a(t)("table.volume"),value:l.volume},{label:a(t)("table.volume20"),value:l.volume20},{label:a(t)("table.temp"),value:l.temp},{label:a(t)("table.density"),value:l.density},{label:a(t)("table.mass"),value:l.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",$a,s(_.row.label),1),e("span",Ma,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.energy?(n(),u("div",Fa,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"energy-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"energy"))}]),onClick:_=>z(P(l.id,"energy"),_)},[e("p",La,s(a(t)("table.electricity"))+" - "+s(l.number),1),e("span",Ia,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ra),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"energy"))}])},[o(y,{data:[{label:a(t)("table.instantPowerActive"),value:l.instantPowerActive},{label:a(t)("table.instantPowerReactive"),value:l.instantPowerReactive},{label:a(t)("table.instantPowerFull"),value:l.instantPowerFull},{label:a(t)("table.voltage"),value:l.voltage},{label:a(t)("table.current"),value:l.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Ea,s(_.row.label),1),e("span",Na,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.krpd?(n(),u("div",Ya,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"krpd-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"krpd"))}]),onClick:_=>z(P(l.id,"krpd"),_)},[e("p",Ua,s(a(t)("table.selectedBlock"))+" - "+s(l.number),1),e("span",Oa,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ha),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"krpd"))}])},[o(y,{data:[{label:a(t)("table.startPeriod"),value:l.startPeriod},{label:a(t)("table.endPeriod"),value:l.endPeriod},{label:a(t)("table.volume"),value:l.volume},{label:a(t)("table.volume20"),value:l.volume20},{label:a(t)("table.mass"),value:l.mass},{label:a(t)("table.mileagekm"),value:l.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Ga,s(_.row.label),1),e("span",Ba,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0)])):(n(),u("div",za,[D.value.locomotive?(n(),u("div",ja,[e("div",qa,[e("p",Xa,s(a(t)("table.locomotive"))+" "+s(c.value[v.value].number),1)]),e("div",Wa,[o(y,{data:[{label:a(t)("table.series"),value:c.value[v.value].series},{label:a(t)("table.number"),value:c.value[v.value].number},{label:a(t)("table.tabNumber"),value:c.value[v.value].tabNumber},{label:a(t)("table.workType"),value:c.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Ja,s(l.row.label),1),e("span",Qa,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.information?(n(),u("div",Za,[e("div",es,[e("p",ls,s(a(t)("table.information"))+" - "+s(c.value[v.value].number),1)]),e("div",ts,[o(y,{data:[{label:a(t)("table.bortDate"),value:c.value[v.value].bortDate},{label:a(t)("table.bortTime"),value:c.value[v.value].bortTime},{label:a(t)("table.speed"),value:c.value[v.value].speed},{label:a(t)("table.stopTime"),value:c.value[v.value].stopTime},{label:a(t)("table.pressure"),value:c.value[v.value].pressure},{label:a(t)("table.LSlight"),value:c.value[v.value].LSlight},{label:a(t)("table.fireAlarm"),value:c.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",as,s(l.row.label),1),e("span",ss,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.location?(n(),u("div",os,[e("div",is,[e("p",rs,s(a(t)("table.coordinates"))+" - "+s(c.value[v.value].number),1)]),e("div",ns,[o(y,{data:[{label:a(t)("table.latitude"),value:c.value[v.value].latitude},{label:a(t)("table.longitude"),value:c.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",_s,s(l.row.label),1),e("span",us,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.fuel?(n(),u("div",ds,[e("div",cs,[e("p",vs,s(a(t)("table.fuel"))+" - "+s(c.value[v.value].number),1)]),e("div",bs,[o(y,{data:[{label:a(t)("table.volume"),value:c.value[v.value].volume},{label:a(t)("table.volume20"),value:c.value[v.value].volume20},{label:a(t)("table.temp"),value:c.value[v.value].temp},{label:a(t)("table.density"),value:c.value[v.value].density},{label:a(t)("table.mass"),value:c.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",hs,s(l.row.label),1),e("span",ms,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.energy?(n(),u("div",ps,[e("div",fs,[e("p",ys,s(a(t)("table.electricity"))+" - "+s(c.value[v.value].number),1)]),e("div",gs,[o(y,{data:[{label:a(t)("table.instantPowerActive"),value:c.value[v.value].instantPowerActive},{label:a(t)("table.instantPowerReactive"),value:c.value[v.value].instantPowerReactive},{label:a(t)("table.instantPowerFull"),value:c.value[v.value].instantPowerFull},{label:a(t)("table.voltage"),value:c.value[v.value].voltage},{label:a(t)("table.current"),value:c.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",ks,s(l.row.label),1),e("span",ws,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.krpd?(n(),u("div",Cs,[e("div",xs,[e("p",Ps,s(a(t)("table.selectedBlock"))+" - "+s(c.value[v.value].number),1)]),e("div",Vs,[o(y,{data:[{label:a(t)("table.startPeriod"),value:c.value[v.value].startPeriod},{label:a(t)("table.endPeriod"),value:c.value[v.value].endPeriod},{label:a(t)("table.volume"),value:c.value[v.value].volume},{label:a(t)("table.volume20"),value:c.value[v.value].volume20},{label:a(t)("table.mass"),value:c.value[v.value].mass},{label:a(t)("table.mileagekm"),value:c.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Ts,s(l.row.label),1),e("span",Ds,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0)]))])])],2),[[ee,K.value.message]]),Z(e("div",{class:m(["history__left_table",{active:K.value.total}])},[F.length>1?(n(),u("div",Ss,[e("div",{class:"segmented__indicator",style:U(Qe.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":f.value===-1}]),onClick:i[11]||(i[11]=C(l=>Re(-1,l),["prevent"])),onMousedown:i[12]||(i[12]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===-1},[e("div",As,[e("span",$s,s(a(t)("button.all")),1)])],42,Ks),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":f.value===_}]),onClick:C(J=>Re(_,J),["prevent"]),onMousedown:i[13]||(i[13]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===_},[e("div",Fs,[e("span",Rs,s(l.number),1)])],42,Ms)),64))])):p("",!0),e("div",Ls,[e("div",Is,[e("div",{class:"segmented__indicator",style:U(Ze.value)},null,4),(n(),u(k,null,w($e,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":M.value===l.value}]),onClick:C(_=>il(l.value,_),["prevent"]),onMousedown:i[14]||(i[14]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":M.value===l.value},[e("div",Ns,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,Es)),64))]),e("div",Ys,[f.value===-1?(n(),u("div",Hs,[Y.value.route?(n(),u("div",Us,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"route-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",Gs,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",Bs,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Os),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:[{label:a(t)("table.series"),value:l.series},{label:a(t)("table.number"),value:l.number},{label:a(t)("table.mileage"),value:l.mileagekm+" "+a(t)("table.km")},{label:a(t)("table.averageSpeed"),value:l.speed+" "+a(t)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",zs,s(_.row.label),1),e("span",js,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),Y.value.fuel?(n(),u("div",qs,[e("div",Xs,[o(be,{modelValue:W.value,"onUpdate:modelValue":i[15]||(i[15]=l=>W.value=l),placeholder:a(t)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(n(),u(k,null,w(De,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"fuel-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",Js,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",Qs,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ws),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:Se(l),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Zs,s(_.row.label),1),e("span",eo,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),Y.value.electricity?(n(),u("div",lo,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"electricity-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",ao,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",so,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,to),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:[{label:a(t)("table.activePowerForward"),value:l.electricity_active_forward+" кВт*ч"},{label:a(t)("table.activePowerReverse"),value:l.electricity_active_reverse+" кВт*ч"},{label:a(t)("table.reactivePowerForward"),value:l.electricity_reactive_forward+" кВАр*ч"},{label:a(t)("table.reactivePowerReverse"),value:l.electricity_reactive_reverse+" кВАр*ч"},{label:a(t)("table.minVoltage"),value:l.electricity_min_voltage+" В"},{label:a(t)("table.maxVoltage"),value:l.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",oo,s(_.row.label),1),e("span",io,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0)])):(n(),u("div",ro,[Y.value.route?(n(),u("div",no,[e("div",_o,[e("div",uo,[e("p",co,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",vo,[o(y,{data:[{label:a(t)("table.series"),value:c.value[f.value].series},{label:a(t)("table.number"),value:c.value[f.value].number},{label:a(t)("table.mileage"),value:c.value[f.value].mileagekm+" "+a(t)("table.km")},{label:a(t)("table.averageSpeed"),value:c.value[f.value].speed+" "+a(t)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",bo,s(l.row.label),1),e("span",ho,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0),Y.value.fuel?(n(),u("div",mo,[e("div",po,[o(be,{modelValue:W.value,"onUpdate:modelValue":i[16]||(i[16]=l=>W.value=l),placeholder:a(t)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(n(),u(k,null,w(De,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",fo,[e("div",yo,[e("p",go,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",ko,[o(y,{data:Se(c.value[f.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",wo,s(l.row.label),1),e("span",Co,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0),Y.value.electricity?(n(),u("div",xo,[e("div",Po,[e("div",Vo,[e("p",To,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",Do,[o(y,{data:[{label:a(t)("table.activePowerForward"),value:c.value[f.value].electricity_active_forward+" кВт*ч"},{label:a(t)("table.activePowerReverse"),value:c.value[f.value].electricity_active_reverse+" кВт*ч"},{label:a(t)("table.reactivePowerForward"),value:c.value[f.value].electricity_reactive_forward+" кВАр*ч"},{label:a(t)("table.reactivePowerReverse"),value:c.value[f.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(t)("table.minVoltage"),value:c.value[f.value].electricity_min_voltage+" В"},{label:a(t)("table.maxVoltage"),value:c.value[f.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",So,s(l.row.label),1),e("span",Ko,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0)]))])])],2),[[ee,K.value.total]]),Z(e("div",{class:m(["history__left_table",{active:K.value.events}])},[F.length>1?(n(),u("div",Ao,[e("div",{class:"segmented__indicator",style:U(ll.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":q.value===-1}]),onClick:i[17]||(i[17]=C(l=>Le(-1,l),["prevent"])),onMousedown:i[18]||(i[18]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":q.value===-1},[e("div",Mo,[e("span",Fo,s(a(t)("button.all")),1)])],42,$o),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":q.value===_}]),onClick:C(J=>Le(_,J),["prevent"]),onMousedown:i[19]||(i[19]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":q.value===_},[e("div",Lo,[e("span",Io,s(l.number),1)])],42,Ro)),64))])):p("",!0),e("div",Eo,[e("div",No,[o(be,{modelValue:O.value,"onUpdate:modelValue":i[20]||(i[20]=l=>O.value=l),placeholder:a(t)("button.select"),onChange:rl,size:"large",class:"events__type_select"},{default:r(()=>[(n(),u(k,null,w(ul,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Yo,[o(y,{data:we.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",Ho,s(a(t)("table.noData")),1)]),default:r(()=>[o(b,{prop:"date",label:a(t)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(t)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(t)("table.tabNumber"),width:"120",sortable:""},null,8,["label"])]),_:1},8,["data"]),we.value.length>10?(n(),u("div",Uo,[o(cl,{"page-size":10,layout:"prev, pager, next",total:we.value.length,small:""},null,8,["total"])])):p("",!0)])])],2),[[ee,K.value.events]])])])):p("",!0),e("div",Oo,[Ve.value<=1279?(n(),u("div",Go,[e("p",Bo,[V(s(a(t)("table.listLoco"))+" - ",1),e("span",zo,s(Ie.value.length),1)]),o(be,{modelValue:ue.value,"onUpdate:modelValue":i[21]||(i[21]=l=>ue.value=l),filterable:"",placeholder:a(t)("button.select"),onChange:Sl,"filter-method":Kl,class:"segmented__select"},{empty:r(()=>[e("div",qo,s(a(t)("table.noData")),1)]),default:r(()=>[(n(!0),u(k,null,w(Ie.value,l=>{var _;return n(),$(ve,{key:l.id,label:`${l.type} - ${l.number}`,value:((_=l.id)==null?void 0:_.toString())||""},{default:r(()=>[e("div",jo,[e("span",null,s(l.type),1),e("span",null,s(l.number),1),l.status?(n(),$(I,{key:0,content:l.status,placement:"top"},{default:r(()=>[o(h,{class:"el-select_option_right"},{default:r(()=>[o(a(bl))]),_:1})]),_:2},1032,["content"])):p("",!0)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):p("",!0),e("div",Xo,[o(Gl)]),e("div",Wo,[e("div",Jo,[o(ce,{class:"history__charts_button",type:"primary",icon:a(Ll)},null,8,["icon"]),o(ce,{class:"history__charts_button",type:"primary",icon:a(Il)},null,8,["icon"]),o(ce,{class:"history__charts_button",type:"primary",icon:a(yl)},null,8,["icon"]),e("div",Qo,[e("div",{class:"segmented__indicator",style:U(Pl.value)},null,4),(n(),u(k,null,w(ze,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":re.value===l.value}]),onClick:C(_=>Vl(l.value,_),["prevent"]),onMousedown:i[22]||(i[22]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":re.value===l.value},[e("div",ei,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two",title:l.label},null,8,["title"]))])],42,Zo)),64))]),o(ut)]),Z(e("div",li,[e("div",{ref_key:"chartContainer",ref:ge},null,512)],512),[[ee,je.value.one]]),Z(e("div",ti,i[49]||(i[49]=[e("div",null,"График 2 - скоро будет реализован",-1)]),512),[[ee,je.value.two]]),Z(e("div",ai,i[50]||(i[50]=[e("div",null,"График 3 - скоро будет реализован",-1)]),512),[[ee,je.value.three]])]),Ve.value<=1279?(n(),u("div",si,[Ve.value<=1279?(n(),u("div",oi,[e("div",{class:"segmented__indicator",style:U(Xe.value)},null,4),(n(),u(k,null,w(Ke,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":te.value===l.value}]),onClick:C(_=>sl(l.value,_),["prevent"]),onMousedown:i[23]||(i[23]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===l.value},[e("div",ri,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,ii)),64))])):p("",!0),Z(e("div",{class:m(["history__table",{active:K.value.info}])},[e("div",ni,[o(dl,{ref_key:"addStatusFormRef",ref:Me,model:A,rules:tl,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Ye,{label:a(t)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",_i,[o(Ee,{modelValue:A.datestart,"onUpdate:modelValue":i[24]||(i[24]=l=>A.datestart=l),type:"date",placeholder:a(t)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ne,{modelValue:A.timestart,"onUpdate:modelValue":i[25]||(i[25]=l=>A.timestart=l),placeholder:a(t)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Ye,{label:a(t)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",ui,[o(Ee,{modelValue:A.dateend,"onUpdate:modelValue":i[26]||(i[26]=l=>A.dateend=l),type:"date",placeholder:a(t)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Ne,{modelValue:A.timeend,"onUpdate:modelValue":i[27]||(i[27]=l=>A.timeend=l),placeholder:a(t)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:i[28]||(i[28]=l=>al(Me.value))},[e("span",di,[o(h,null,{default:r(()=>[(n(),$(H(a(hl))))]),_:1})]),e("span",null,s(a(t)("button.requestHistory")),1)]),e("button",ci,[e("span",vi,[o(h,null,{default:r(()=>[(n(),$(H(a(ml))))]),_:1})]),e("span",null,s(a(t)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:le},[e("span",bi,[o(h,null,{default:r(()=>[(n(),$(H(a(pl))))]),_:1})]),e("span",null,s(a(t)("button.settingCharts")),1)]),e("button",hi,[e("span",mi,[o(h,null,{default:r(()=>[(n(),$(H(a(fl))))]),_:1})]),e("span",null,s(a(t)("button.downloadFile")),1)])])],2),[[ee,K.value.info]]),Z(e("div",{class:m(["history__left_table",{active:K.value.message}])},[F.length>1?(n(),u("div",pi,[e("div",{class:"segmented__indicator",style:U(Je.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":v.value===-1}]),onClick:i[29]||(i[29]=C(l=>Fe(-1,l),["prevent"])),onMousedown:i[30]||(i[30]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",yi,[e("span",gi,s(a(t)("button.all")),1)])],42,fi),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":v.value===_}]),onClick:C(J=>Fe(_,J),["prevent"]),onMousedown:i[31]||(i[31]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===_},[e("div",wi,[e("span",Ci,s(l.number),1)])],42,ki)),64))])):p("",!0),e("div",xi,[e("div",Pi,[e("div",{class:"segmented__indicator",style:U(We.value)},null,4),(n(),u(k,null,w(Ae,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":se.value===l.value}]),onClick:C(_=>ol(l.value,_),["prevent"]),onMousedown:i[32]||(i[32]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===l.value},[e("div",Ti,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,Vi)),64))]),e("div",Di,[v.value===-1?(n(),u("div",Si,[D.value.locomotive?(n(),u("div",Ki,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"loc-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"locomotive"))}]),onClick:_=>z(P(l.id,"locomotive"),_)},[e("p",$i,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",Mi,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ai),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"locomotive"))}])},[o(y,{data:[{label:a(t)("table.series"),value:l.series},{label:a(t)("table.number"),value:l.number},{label:a(t)("table.tabNumber"),value:l.tabNumber},{label:a(t)("table.workType"),value:l.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Fi,s(_.row.label),1),e("span",Ri,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.information?(n(),u("div",Li,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"info-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"information"))}]),onClick:_=>z(P(l.id,"information"),_)},[e("p",Ei,s(a(t)("table.information"))+" - "+s(l.number),1),e("span",Ni,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Ii),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"information"))}])},[o(y,{data:[{label:a(t)("table.bortDate"),value:l.bortDate},{label:a(t)("table.bortTime"),value:l.bortTime},{label:a(t)("table.speed"),value:l.speed},{label:a(t)("table.stopTime"),value:l.stopTime},{label:a(t)("table.pressure"),value:l.pressure},{label:a(t)("table.LSlight"),value:l.LSlight},{label:a(t)("table.fireAlarm"),value:l.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Yi,s(_.row.label),1),e("span",Hi,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.location?(n(),u("div",Ui,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"locat-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"location"))}]),onClick:_=>z(P(l.id,"location"),_)},[e("p",Gi,s(a(t)("table.coordinates"))+" - "+s(l.number),1),e("span",Bi,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Oi),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"location"))}])},[o(y,{data:[{label:a(t)("table.latitude"),value:l.latitude},{label:a(t)("table.longitude"),value:l.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",zi,s(_.row.label),1),e("span",ji,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.fuel?(n(),u("div",qi,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"fuel-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"fuel"))}]),onClick:_=>z(P(l.id,"fuel"),_)},[e("p",Wi,s(a(t)("table.fuel"))+" - "+s(l.number),1),e("span",Ji,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Xi),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"fuel"))}])},[o(y,{data:[{label:a(t)("table.volume"),value:l.volume},{label:a(t)("table.volume20"),value:l.volume20},{label:a(t)("table.temp"),value:l.temp},{label:a(t)("table.density"),value:l.density},{label:a(t)("table.mass"),value:l.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Qi,s(_.row.label),1),e("span",Zi,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.energy?(n(),u("div",er,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"energy-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"energy"))}]),onClick:_=>z(P(l.id,"energy"),_)},[e("p",tr,s(a(t)("table.electricity"))+" - "+s(l.number),1),e("span",ar,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,lr),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"energy"))}])},[o(y,{data:[{label:a(t)("table.instantPowerActive"),value:l.instantPowerActive},{label:a(t)("table.instantPowerReactive"),value:l.instantPowerReactive},{label:a(t)("table.instantPowerFull"),value:l.instantPowerFull},{label:a(t)("table.voltage"),value:l.voltage},{label:a(t)("table.current"),value:l.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",sr,s(_.row.label),1),e("span",or,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),D.value.krpd?(n(),u("div",ir,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"krpd-"+l.id,class:"history__information_block"},[e("div",{class:m(["history__block_header",{active:!S(P(l.id,"krpd"))}]),onClick:_=>z(P(l.id,"krpd"),_)},[e("p",nr,s(a(t)("table.selectedBlock"))+" - "+s(l.number),1),e("span",_r,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,rr),e("div",{class:m(["history__tab_container",{collapsed:S(P(l.id,"krpd"))}])},[o(y,{data:[{label:a(t)("table.startPeriod"),value:l.startPeriod},{label:a(t)("table.endPeriod"),value:l.endPeriod},{label:a(t)("table.volume"),value:l.volume},{label:a(t)("table.volume20"),value:l.volume20},{label:a(t)("table.mass"),value:l.mass},{label:a(t)("table.mileagekm"),value:l.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",ur,s(_.row.label),1),e("span",dr,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0)])):(n(),u("div",cr,[D.value.locomotive?(n(),u("div",vr,[e("div",br,[e("p",hr,s(a(t)("table.locomotive"))+" "+s(c.value[v.value].number),1)]),e("div",mr,[o(y,{data:[{label:a(t)("table.series"),value:c.value[v.value].series},{label:a(t)("table.number"),value:c.value[v.value].number},{label:a(t)("table.tabNumber"),value:c.value[v.value].tabNumber},{label:a(t)("table.workType"),value:c.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",pr,s(l.row.label),1),e("span",fr,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.information?(n(),u("div",yr,[e("div",gr,[e("p",kr,s(a(t)("table.information"))+" - "+s(c.value[v.value].number),1)]),e("div",wr,[o(y,{data:[{label:a(t)("table.bortDate"),value:c.value[v.value].bortDate},{label:a(t)("table.bortTime"),value:c.value[v.value].bortTime},{label:a(t)("table.speed"),value:c.value[v.value].speed},{label:a(t)("table.stopTime"),value:c.value[v.value].stopTime},{label:a(t)("table.pressure"),value:c.value[v.value].pressure},{label:a(t)("table.LSlight"),value:c.value[v.value].LSlight},{label:a(t)("table.fireAlarm"),value:c.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Cr,s(l.row.label),1),e("span",xr,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.location?(n(),u("div",Pr,[e("div",Vr,[e("p",Tr,s(a(t)("table.coordinates"))+" - "+s(c.value[v.value].number),1)]),e("div",Dr,[o(y,{data:[{label:a(t)("table.latitude"),value:c.value[v.value].latitude},{label:a(t)("table.longitude"),value:c.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Sr,s(l.row.label),1),e("span",Kr,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.fuel?(n(),u("div",Ar,[e("div",$r,[e("p",Mr,s(a(t)("table.fuel"))+" - "+s(c.value[v.value].number),1)]),e("div",Fr,[o(y,{data:[{label:a(t)("table.volume"),value:c.value[v.value].volume},{label:a(t)("table.volume20"),value:c.value[v.value].volume20},{label:a(t)("table.temp"),value:c.value[v.value].temp},{label:a(t)("table.density"),value:c.value[v.value].density},{label:a(t)("table.mass"),value:c.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Rr,s(l.row.label),1),e("span",Lr,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.energy?(n(),u("div",Ir,[e("div",Er,[e("p",Nr,s(a(t)("table.electricity"))+" - "+s(c.value[v.value].number),1)]),e("div",Yr,[o(y,{data:[{label:a(t)("table.instantPowerActive"),value:c.value[v.value].instantPowerActive},{label:a(t)("table.instantPowerReactive"),value:c.value[v.value].instantPowerReactive},{label:a(t)("table.instantPowerFull"),value:c.value[v.value].instantPowerFull},{label:a(t)("table.voltage"),value:c.value[v.value].voltage},{label:a(t)("table.current"),value:c.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Hr,s(l.row.label),1),e("span",Ur,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0),D.value.krpd?(n(),u("div",Or,[e("div",Gr,[e("p",Br,s(a(t)("table.selectedBlock"))+" - "+s(c.value[v.value].number),1)]),e("div",zr,[o(y,{data:[{label:a(t)("table.startPeriod"),value:c.value[v.value].startPeriod},{label:a(t)("table.endPeriod"),value:c.value[v.value].endPeriod},{label:a(t)("table.volume"),value:c.value[v.value].volume},{label:a(t)("table.volume20"),value:c.value[v.value].volume20},{label:a(t)("table.mass"),value:c.value[v.value].mass},{label:a(t)("table.mileagekm"),value:c.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",jr,s(l.row.label),1),e("span",qr,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])):p("",!0)]))])])],2),[[ee,K.value.message]]),Z(e("div",{class:m(["history__left_table",{active:K.value.total}])},[F.length>1?(n(),u("div",Xr,[e("div",{class:"segmented__indicator",style:U(Qe.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":f.value===-1}]),onClick:i[33]||(i[33]=C(l=>Re(-1,l),["prevent"])),onMousedown:i[34]||(i[34]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===-1},[e("div",Jr,[e("span",Qr,s(a(t)("button.all")),1)])],42,Wr),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":f.value===_}]),onClick:C(J=>Re(_,J),["prevent"]),onMousedown:i[35]||(i[35]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===_},[e("div",en,[e("span",ln,s(l.number),1)])],42,Zr)),64))])):p("",!0),e("div",tn,[e("div",an,[e("div",{class:"segmented__indicator",style:U(Ze.value)},null,4),(n(),u(k,null,w($e,l=>e("button",{key:l.value,class:m(["segmented__item",{"is-selected":M.value===l.value}]),onClick:C(_=>il(l.value,_),["prevent"]),onMousedown:i[36]||(i[36]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":M.value===l.value},[e("div",on,[(n(),$(H(l.iconComponent),{class:"segmented__icon text_two"}))])],42,sn)),64))]),e("div",rn,[f.value===-1?(n(),u("div",nn,[Y.value.route?(n(),u("div",_n,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"route-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",dn,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",cn,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,un),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:[{label:a(t)("table.series"),value:l.series},{label:a(t)("table.number"),value:l.number},{label:a(t)("table.mileage"),value:l.mileagekm+" "+a(t)("table.km")},{label:a(t)("table.averageSpeed"),value:l.speed+" "+a(t)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",vn,s(_.row.label),1),e("span",bn,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),Y.value.fuel?(n(),u("div",hn,[e("div",mn,[o(be,{modelValue:W.value,"onUpdate:modelValue":i[37]||(i[37]=l=>W.value=l),placeholder:a(t)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(n(),u(k,null,w(De,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"fuel-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",fn,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",yn,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,pn),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:Se(l),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",gn,s(_.row.label),1),e("span",kn,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0),Y.value.electricity?(n(),u("div",wn,[(n(!0),u(k,null,w(c.value,l=>(n(),u("div",{key:"electricity-"+l.id,class:"history__total_block"},[e("div",{class:m(["history__block_header",{active:!j(L(l.id))}]),onClick:_=>ke(L(l.id),_)},[e("p",xn,s(a(t)("table.locomotive"))+" - "+s(l.number),1),e("span",Pn,[o(h,null,{default:r(()=>[o(a(R))]),_:1})])],10,Cn),e("div",{class:m(["history__tab_container",{collapsed:j(L(l.id))}])},[o(y,{data:[{label:a(t)("table.activePowerForward"),value:l.electricity_active_forward+" кВт*ч"},{label:a(t)("table.activePowerReverse"),value:l.electricity_active_reverse+" кВт*ч"},{label:a(t)("table.reactivePowerForward"),value:l.electricity_reactive_forward+" кВАр*ч"},{label:a(t)("table.reactivePowerReverse"),value:l.electricity_reactive_reverse+" кВАр*ч"},{label:a(t)("table.minVoltage"),value:l.electricity_min_voltage+" В"},{label:a(t)("table.maxVoltage"),value:l.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(_=>[e("span",Vn,s(_.row.label),1),e("span",Tn,s(_.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):p("",!0)])):(n(),u("div",Dn,[Y.value.route?(n(),u("div",Sn,[e("div",Kn,[e("div",An,[e("p",$n,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",Mn,[o(y,{data:[{label:a(t)("table.series"),value:c.value[f.value].series},{label:a(t)("table.number"),value:c.value[f.value].number},{label:a(t)("table.mileage"),value:c.value[f.value].mileagekm+" "+a(t)("table.km")},{label:a(t)("table.averageSpeed"),value:c.value[f.value].speed+" "+a(t)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Fn,s(l.row.label),1),e("span",Rn,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0),Y.value.fuel?(n(),u("div",Ln,[e("div",In,[o(be,{modelValue:W.value,"onUpdate:modelValue":i[38]||(i[38]=l=>W.value=l),placeholder:a(t)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(n(),u(k,null,w(De,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",En,[e("div",Nn,[e("p",Yn,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",Hn,[o(y,{data:Se(c.value[f.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Un,s(l.row.label),1),e("span",On,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0),Y.value.electricity?(n(),u("div",Gn,[e("div",Bn,[e("div",zn,[e("p",jn,s(a(t)("table.locomotive"))+" "+s(c.value[f.value].number),1)]),e("div",qn,[o(y,{data:[{label:a(t)("table.activePowerForward"),value:c.value[f.value].electricity_active_forward+" кВт*ч"},{label:a(t)("table.activePowerReverse"),value:c.value[f.value].electricity_active_reverse+" кВт*ч"},{label:a(t)("table.reactivePowerForward"),value:c.value[f.value].electricity_reactive_forward+" кВАр*ч"},{label:a(t)("table.reactivePowerReverse"),value:c.value[f.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(t)("table.minVoltage"),value:c.value[f.value].electricity_min_voltage+" В"},{label:a(t)("table.maxVoltage"),value:c.value[f.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(l=>[e("span",Xn,s(l.row.label),1),e("span",Wn,s(l.row.value),1)]),_:1})]),_:1},8,["data"])])])])):p("",!0)]))])])],2),[[ee,K.value.total]]),Z(e("div",{class:m(["history__left_table",{active:K.value.events}])},[F.length>1?(n(),u("div",Jn,[e("div",{class:"segmented__indicator",style:U(ll.value)},null,4),e("button",{class:m(["segmented__item",{"is-selected":q.value===-1}]),onClick:i[39]||(i[39]=C(l=>Le(-1,l),["prevent"])),onMousedown:i[40]||(i[40]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":q.value===-1},[e("div",Zn,[e("span",e_,s(a(t)("button.all")),1)])],42,Qn),(n(),u(k,null,w(F,(l,_)=>e("button",{key:l.id,class:m(["segmented__item",{"is-selected":q.value===_}]),onClick:C(J=>Le(_,J),["prevent"]),onMousedown:i[41]||(i[41]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":q.value===_},[e("div",t_,[e("span",a_,s(l.number),1)])],42,l_)),64))])):p("",!0),e("div",s_,[e("div",o_,[o(be,{modelValue:O.value,"onUpdate:modelValue":i[42]||(i[42]=l=>O.value=l),placeholder:a(t)("button.selectEventType"),onChange:rl,size:"large",class:"events__type_select"},{default:r(()=>[(n(),u(k,null,w(ul,l=>o(ve,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",i_,[o(y,{data:we.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",r_,s(a(t)("table.noData")),1)]),default:r(()=>[o(b,{prop:"date",label:a(t)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(t)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(t)("table.tabNumber"),width:"120",sortable:""},null,8,["label"])]),_:1},8,["data"]),we.value.length>10?(n(),u("div",n_,[o(cl,{"page-size":10,layout:"prev, pager, next",total:we.value.length,small:""},null,8,["total"])])):p("",!0)])])],2),[[ee,K.value.events]])])):p("",!0)])])])])])),e("div",{class:m(["overlay_full",{active:B.value}]),onClick:X},null,2),e("div",{class:m(["history_popup popup",{active:ae.value}])},[e("div",__,[e("div",u_,[e("button",{class:"history_popup__close popup__close",onClick:le},[o(h,null,{default:r(()=>[o(a(El))]),_:1})]),e("h4",d_,s(a(t)("history.selectingParameters")),1),e("ul",c_,[e("li",v_,[e("h5",b_,s(a(t)("history.main")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[43]||(i[43]=l=>N.value=l)},{default:r(()=>[e("div",h_,[o(T,{label:"speedKmh",name:"speedKmh"},{default:r(()=>[V(s(a(t)("history.speedKmh")),1)]),_:1})]),e("div",m_,[o(T,{label:"brakePipePressureKgfCm2",name:"brakePipePressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.brakePipePressureKgfCm2")),1)]),_:1})]),e("div",p_,[o(T,{label:"brakeCylinderPressureKgfCm2",name:"brakeCylinderPressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.brakeCylinderPressureKgfCm2")),1)]),_:1})]),e("div",f_,[o(T,{label:"feedPipePressureKgfCm2",name:"feedPipePressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.feedPipePressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",y_,[e("h5",g_,s(a(t)("history.fuelParameters")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[44]||(i[44]=l=>N.value=l)},{default:r(()=>[e("div",k_,[o(T,{label:"fuelVolumeL",name:"fuelVolumeL"},{default:r(()=>[V(s(a(t)("history.fuelVolumeL")),1)]),_:1})]),e("div",w_,[o(T,{label:"fuelVolume20C",name:"fuelVolume20C"},{default:r(()=>[V(s(a(t)("history.fuelVolume20C")),1)]),_:1})]),e("div",C_,[o(T,{label:"fuelMassKg",name:"fuelMassKg"},{default:r(()=>[V(s(a(t)("history.fuelMassKg")),1)]),_:1})]),e("div",x_,[o(T,{label:"filterFuelReadings",name:"filterFuelReadings"},{default:r(()=>[V(s(a(t)("history.filterFuelReadings")),1)]),_:1})]),e("div",P_,[o(T,{label:"fuelTemperatureC",name:"fuelTemperatureC"},{default:r(()=>[V(s(a(t)("history.fuelTemperatureC")),1)]),_:1})]),e("div",V_,[o(T,{label:"fuelDensityKgM3",name:"fuelDensityKgM3"},{default:r(()=>[V(s(a(t)("history.fuelDensityKgM3")),1)]),_:1})]),e("div",T_,[o(T,{label:"movingAverage",name:"movingAverage"},{default:r(()=>[V(s(a(t)("history.movingAverage")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",D_,[e("h5",S_,s(a(t)("history.dieselParameters")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[45]||(i[45]=l=>N.value=l)},{default:r(()=>[e("div",K_,[o(T,{label:"tractionGeneratorCurrentA",name:"tractionGeneratorCurrentA"},{default:r(()=>[V(s(a(t)("history.tractionGeneratorCurrentA")),1)]),_:1})]),e("div",A_,[o(T,{label:"tractionGeneratorVoltageV",name:"tractionGeneratorVoltageV"},{default:r(()=>[V(s(a(t)("history.tractionGeneratorVoltageV")),1)]),_:1})]),e("div",$_,[o(T,{label:"tractionGeneratorPowerKw",name:"tractionGeneratorPowerKw"},{default:r(()=>[V(s(a(t)("history.tractionGeneratorPowerKw")),1)]),_:1})]),e("div",M_,[o(T,{label:"dieselEngineRpm",name:"dieselEngineRpm"},{default:r(()=>[V(s(a(t)("history.dieselEngineRpm")),1)]),_:1})]),e("div",F_,[o(T,{label:"waterTemperatureC",name:"waterTemperatureC"},{default:r(()=>[V(s(a(t)("history.waterTemperatureC")),1)]),_:1})]),e("div",R_,[o(T,{label:"oilTemperatureC",name:"oilTemperatureC"},{default:r(()=>[V(s(a(t)("history.oilTemperatureC")),1)]),_:1})]),e("div",L_,[o(T,{label:"oilPressureKgfCm2",name:"oilPressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.oilPressureKgfCm2")),1)]),_:1})]),e("div",I_,[o(T,{label:"fuelPressureKgfCm2",name:"fuelPressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.fuelPressureKgfCm2")),1)]),_:1})]),e("div",E_,[o(T,{label:"boostAirPressureKgfCm2",name:"boostAirPressureKgfCm2"},{default:r(()=>[V(s(a(t)("history.boostAirPressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",N_,[e("h5",Y_,s(a(t)("history.electricityParameters")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[46]||(i[46]=l=>N.value=l)},{default:r(()=>[e("div",H_,[o(T,{label:"instantaneousActivePowerKw",name:"instantaneousActivePowerKw"},{default:r(()=>[V(s(a(t)("history.instantaneousActivePowerKw")),1)]),_:1})]),e("div",U_,[o(T,{label:"instantaneousReactivePowerKvar",name:"instantaneousReactivePowerKvar"},{default:r(()=>[V(s(a(t)("history.instantaneousReactivePowerKvar")),1)]),_:1})]),e("div",O_,[o(T,{label:"instantaneousApparentPowerKva",name:"instantaneousApparentPowerKva"},{default:r(()=>[V(s(a(t)("history.instantaneousApparentPowerKva")),1)]),_:1})]),e("div",G_,[o(T,{label:"voltageV",name:"voltageV"},{default:r(()=>[V(s(a(t)("history.voltageV")),1)]),_:1})]),e("div",B_,[o(T,{label:"currentA",name:"currentA"},{default:r(()=>[V(s(a(t)("history.currentA")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",z_,[e("h5",j_,s(a(t)("history.meteredElectricity")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[47]||(i[47]=l=>N.value=l)},{default:r(()=>[e("div",q_,[o(T,{label:"activeEnergyForwardKwh",name:"activeEnergyForwardKwh"},{default:r(()=>[V(s(a(t)("history.activeEnergyForwardKwh")),1)]),_:1})]),e("div",X_,[o(T,{label:"activeEnergyReverseKwh",name:"activeEnergyReverseKwh"},{default:r(()=>[V(s(a(t)("history.activeEnergyReverseKwh")),1)]),_:1})]),e("div",W_,[o(T,{label:"reactiveEnergyForwardKvarh",name:"reactiveEnergyForwardKvarh"},{default:r(()=>[V(s(a(t)("history.reactiveEnergyForwardKvarh")),1)]),_:1})]),e("div",J_,[o(T,{label:"reactiveEnergyReverseKvarh",name:"reactiveEnergyReverseKvarh"},{default:r(()=>[V(s(a(t)("history.reactiveEnergyReverseKvarh")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",Q_,[e("h5",Z_,s(a(t)("history.additionalParameters")),1),o(xe,{class:"history_popup__flex",modelValue:N.value,"onUpdate:modelValue":i[48]||(i[48]=l=>N.value=l)},{default:r(()=>[e("div",eu,[o(T,{label:"driverControllerPosition",name:"driverControllerPosition"},{default:r(()=>[V(s(a(t)("history.driverControllerPosition")),1)]),_:1})]),e("div",lu,[o(T,{label:"als",name:"als"},{default:r(()=>[V(s(a(t)("history.als")),1)]),_:1})])]),_:1},8,["modelValue"])])])])]),e("div",tu,[e("button",{class:"popup__button button__second button",onClick:le},[e("span",null,s(a(t)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:ye},[e("span",null,s(a(t)("button.save")),1)])])],2),o(jl)],64)}}}),ju=me(au,[["__scopeId","data-v-a089aa00"]]);export{ju as default};
