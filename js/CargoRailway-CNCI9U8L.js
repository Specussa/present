import{d as ge,b as p,k as W,c as b,Q as t,a as e,I as s,u as l,D as G,L as ve,M as L,O as a,C as x,P as F,al as _,o as m,a4 as I,V as he}from"./vendor-@vue-Cg4sS8W0.js";import{B as fe,A as we,P as Ce,M as ye}from"./vendor-@element-plus-zuhFJ_6P.js";import{H as ke}from"./Header-BecD31pj.js";import{F as Le}from"./Footer-D9Epa5fJ.js";import{C as J}from"./CargoList-DW70ycXt.js";import{C as xe}from"./CargoFaq-C156J9pJ.js";import{_ as Te}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-B_rH7wXc.js";import{T as K,_ as De}from"./index-CPta0tcF.js";import{u as Ve}from"./vendor-vue-i18n-D0pj9gOW.js";import"./LogoSVG-C3qW82K5.js";import"./vendor-vue-router-BMJZZRG0.js";import"./vendor-element-plus-CZs5FMWl.js";import"./vendor-lodash-es-C-zDejYo.js";import"./vendor-@vueuse-D3zzmj5p.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-dayjs-D6RD0Zoz.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./VideoPlayer-BGPyN5_-.js";import"./GoBack-BLGrDOev.js";import"./vendor-geotiff-BjC_-_Sy.js";import"./vendor-xml-utils-BmThcpyG.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-B0C9zqkp.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BZrepA_w.js";import"./vendor-@intlify-CQT3u4ju.js";const Re={class:"cargo"},Ee={class:"cargo__container container"},Oe={class:"cargo__block"},Fe={class:"cargo__flex list_flex"},Ne={class:"cargo__left list_left"},Ae={class:"cargo__list list_scroll"},Be={class:"cargo__right list_right"},Me={class:"breadcrumbs"},He={class:"breadcrumbs__list"},Ue={class:"breadcrumbs__item"},Ie={class:"breadcrumbs__item"},Qe=["title"],We={class:"button__icon"},qe={class:"cargo__select"},ze={class:"cargo__content"},Pe={class:"cargo__tables"},Se={class:"cargo__table cargo__one"},$e={class:"el-table_title"},je={class:"el-table_count text_four"},Ge={class:"el-table_arrow"},Je={class:"table_empty"},Ke={key:0,class:"el-table_bottom"},Xe={class:"el-table_bottom_left"},Ye={class:"el-table_search"},Ze={key:0,class:"cargo__table cargo__two"},et={class:"el-table_title"},tt={class:"el-table_number"},lt={class:"el-table_count text_four"},ot={class:"el-table_arrow"},at={class:"table_empty"},st={key:1,class:"el-table__empty"},nt={class:"el-table__empty_text text_two"},rt={key:2,class:"el-table__empty"},ct={class:"el-table__empty_text text_two"},ut={class:"ipopup__scroll popup__scroll"},it={class:"ipopup__block popup__block"},_t={class:"cargo_add__scroll popup__scroll_buttons"},dt={class:"cargo_add__block popup__block"},pt={class:"cargo_add__head popup__head"},bt={class:"transfer__option text_three transfer__option_three_four"},mt={class:"transfer__switch"},gt={class:"transfer__footer text_three transfer__footer_three"},vt={class:"transfer__footer text_three transfer__footer_four"},ht={class:"popup__buttons"},ft={class:"cargo_disband__scroll popup__scroll_buttons"},wt={class:"cargo_disband__block popup__block"},Ct={class:"cargo_disband__head popup__head"},yt={class:"popup__buttons"},kt={class:"cargo_delete__scroll popup__scroll_buttons"},Lt={class:"cargo_delete__block popup__block"},xt={class:"cargo_delete__head popup__head"},Tt={class:"popup__buttons"},Dt=ge({__name:"CargoRailway",setup(Vt){const{t:o}=Ve(),w=p(""),q=W(()=>w.value?$.filter(n=>{var r,i,f,u,g;return((r=n.number)==null?void 0:r.toLowerCase().includes(w.value.toLowerCase()))||((i=n.date)==null?void 0:i.toLowerCase().includes(w.value.toLowerCase()))||((f=n.count)==null?void 0:f.toLowerCase().includes(w.value.toLowerCase()))||((u=n.massa)==null?void 0:u.toLowerCase().includes(w.value.toLowerCase()))||((g=n.wagons)==null?void 0:g.toLowerCase().includes(w.value.toLowerCase()))}):$),h=p(!1),T=p(!1),D=p(!1),V=p(!1),R=p(!1),X=()=>{T.value=!1,D.value=!1,V.value=!1,R.value=!1,h.value=!1,document.documentElement.classList.remove("noscroll")},z=()=>{T.value=!T.value,h.value=!h.value,T.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},N=()=>{D.value=!D.value,h.value=!h.value,D.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},A=()=>{V.value=!V.value,h.value=!h.value,V.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},B=()=>{R.value=!R.value,h.value=!h.value,R.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},P=p([]),Y=p((()=>{const n=[],r=["0001","0002","0003","0004","0005"],i=["Серия А","Серия Б","Серия В","Серия Г","Серия Д"],f=["Сцепка 1","Сцепка 2","Сцепка 3","Сцепка 4","Сцепка 5"];return r.forEach((u,g)=>{n.push({label:u,key:g,initial:i[g],number:u,series:i[g],coupling:f[g],nudge:!1})}),n})()),Z=(n,r)=>{var f,u,g,O;const i=n.toLowerCase();return((f=r.number)==null?void 0:f.toLowerCase().includes(i))||((u=r.series)==null?void 0:u.toLowerCase().includes(i))||((g=r.initial)==null?void 0:g.toLowerCase().includes(i))||((O=r.label)==null?void 0:O.toLowerCase().includes(i))},C=p(),ee=p(),te=p(),le=p(),E=p(!0),M=p(!0),Q=W(()=>{var n;return(n=C.value)!=null&&n.number?ue.filter(r=>{var i;return(i=r.number)==null?void 0:i.includes(C.value.number)}):[]}),S=W(()=>Q.value.length>0),oe=n=>{C.value=n},ae=n=>{ee.value=n},se=({rowIndex:n})=>n%2===1?"bg_gray":"",ne=({rowIndex:n})=>n%2===1?"bg_gray":"",re=()=>{E.value=!E.value},ce=()=>{M.value=!M.value},$=[{id:1,number:"0001",date:"2016-05-03",count:"1",massa:"6",wagons:"3"},{id:2,number:"0002",date:"2016-05-03",count:"1",massa:"6",wagons:"1"},{id:3,number:"0003",date:"2016-05-03",count:"1",massa:"6",wagons:"0"},{id:4,number:"0004",date:"2016-05-03",count:"1",massa:"6",wagons:"7"}],ue=[{id:[1,2],number:["0001","0002"],series:["2016-05-03","2016-05-04"],coupling:["1","2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"},{id:[3],number:["0003"],series:["2016-05-04"],coupling:["2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"}];return(n,r)=>{const i=_("RouterLink"),f=_("QuestionFilled"),u=_("el-icon"),g=_("router-view"),O=_("ArrowDown"),c=_("el-table-column"),j=_("el-table"),H=_("el-button"),ie=_("el-button-group"),_e=_("el-input"),de=_("FolderOpened"),pe=_("Top"),U=_("CloseBold"),be=_("el-switch"),me=_("el-transfer");return m(),b(F,null,[t(ke),e("section",Re,[e("div",Ee,[e("div",Oe,[e("div",Fe,[e("div",Ne,[e("ul",Ae,[t(J,{"is-mobile":!1})])]),e("div",Be,[e("div",Me,[e("ul",He,[t(Te),e("li",Ue,[t(i,{class:"breadcrumbs__link text_four",to:l(K).i18nRoute({name:"cargo"})},{default:s(()=>[L(a(l(o)("header.cargo")),1)]),_:1},8,["to"])]),e("li",Ie,[t(i,{class:"breadcrumbs__link text_four",to:l(K).i18nRoute({name:"cargorailway"})},{default:s(()=>[L(a(l(o)("header.cargorailway")),1)]),_:1},8,["to"])])]),e("button",{class:"breadcrumbs__instructions title_three",title:l(o)("header.instructions"),onClick:z},[e("span",We,[t(u,null,{default:s(()=>[t(f)]),_:1})])],8,Qe)]),e("div",qe,[t(J,{"is-mobile":!0})]),e("div",ze,[t(g)]),e("div",Pe,[e("div",Se,[t(j,{ref_key:"oneTableRef",ref:te,data:q.value,"highlight-current-row":"",style:G([{width:"100%"},{maxHeight:E.value?"240px":"40px"}]),"row-class-name":se,onCurrentChange:oe,"max-height":"240",border:""},{empty:s(()=>[e("div",Je,a(l(o)("table.noData")),1)]),default:s(()=>[t(c,{"header-align":"center"},{header:s(()=>[e("span",{class:x(["el-table_top",{active:E.value}]),onClick:re},[e("span",$e,[L(a(l(o)("table.railwayTrains"))+" - ",1),e("span",je,a(q.value.length),1)]),e("span",Ge,[t(u,null,{default:s(()=>[t(O)]),_:1})])],2)]),default:s(()=>[t(c,{property:"id",sortable:"",label:l(o)("table.id"),width:"65"},null,8,["label"]),t(c,{property:"number",sortable:"",label:l(o)("table.number"),width:"110"},null,8,["label"]),t(c,{property:"date",sortable:"",label:l(o)("table.dateNumber")},null,8,["label"]),t(c,{property:"count",sortable:"",label:l(o)("table.locomotivesCount")},null,8,["label"]),t(c,{property:"massa",sortable:"",label:l(o)("table.cargoMass")},null,8,["label"]),t(c,{property:"wagons",sortable:"",label:l(o)("table.carNumber")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),E.value?(m(),b("div",Ke,[e("div",Xe,[t(ie,{class:"el-table_buttons"},{default:s(()=>[t(H,{type:"primary",class:"el-table_button",icon:l(fe),title:l(o)("button.addComposition"),onClick:N},null,8,["icon","title"]),t(H,{type:"primary",class:"el-table_button",icon:l(we),title:l(o)("button.disbandComposition"),onClick:A},null,8,["icon","title"]),t(H,{type:"danger",class:"el-table_button",icon:l(Ce),title:l(o)("button.deleteComposition"),onClick:B},null,8,["icon","title"])]),_:1}),e("div",Ye,[t(_e,{modelValue:w.value,"onUpdate:modelValue":r[0]||(r[0]=d=>w.value=d),placeholder:l(o)("sort.search")},{prepend:s(()=>[t(H,{icon:l(ye),title:l(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):ve("",!0)]),C.value&&S.value?(m(),b("div",Ze,[t(j,{ref_key:"twoTableRef",ref:le,data:Q.value,"highlight-current-row":"",style:G([{width:"100%"},{maxHeight:M.value?"240px":"40px"}]),"row-class-name":ne,onCurrentChange:ae,"max-height":"240",border:""},{empty:s(()=>[e("div",at,a(l(o)("table.noData")),1)]),default:s(()=>{var d;return[t(c,{"header-align":"center"},{header:s(()=>{var v;return[e("span",{class:x(["el-table_top",{active:M.value}]),onClick:ce},[e("span",et,[L(a(l(o)("table.listLocomotives"))+" ",1),e("span",tt,a((v=C.value)==null?void 0:v.number),1),r[3]||(r[3]=L(" - ")),e("span",lt,a(Q.value.length),1)]),e("span",ot,[t(u,null,{default:s(()=>[t(O)]),_:1})])],2)]}),default:s(()=>[t(c,{label:l(o)("table.id"),width:"65",align:"center"},{default:s(v=>[(m(!0),b(F,null,I(v.row.id,(y,k)=>(m(),b("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.number"),width:"110",align:"center"},{default:s(v=>[(m(!0),b(F,null,I(v.row.number,(y,k)=>(m(),b("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.series"),align:"center"},{default:s(v=>[(m(!0),b(F,null,I(v.row.series,(y,k)=>(m(),b("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),t(c,{label:l(o)("table.coupling"),align:"center"},{default:s(v=>[(m(!0),b(F,null,I(v.row.coupling,(y,k)=>(m(),b("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"])]),_:1}),t(c,{label:l(o)("table.cargoTrain",{number:((d=C.value)==null?void 0:d.number)||""}),"header-align":"center"},{default:s(()=>[t(c,{property:"nudge",label:l(o)("table.signNudge"),align:"center"},null,8,["label"]),t(c,{property:"wagons",label:l(o)("table.numberWagons"),align:"center"},null,8,["label"]),t(c,{property:"netweight",label:l(o)("table.netWeight"),align:"center"},null,8,["label"]),t(c,{property:"grossweight",label:l(o)("table.grossWeight"),align:"center"},null,8,["label"]),t(c,{property:"additionalmass",label:l(o)("table.additionalMass"),align:"center"},null,8,["label"]),t(c,{property:"axles",label:l(o)("table.numberAxles"),align:"center"},null,8,["label"]),t(c,{property:"tara",label:l(o)("table.tara"),align:"center"},null,8,["label"])]),_:1},8,["label"])]}),_:1},8,["data","style"])])):C.value&&!S.value?(m(),b("div",st,[e("p",nt,[t(u,null,{default:s(()=>[t(de)]),_:1}),L(" "+a(l(o)("table.empty")),1)])])):(m(),b("div",rt,[e("p",ct,[t(u,null,{default:s(()=>[t(pe)]),_:1}),L(" "+a(l(o)("table.emptyTop")),1)])]))])])])])])]),e("div",{class:x(["overlay_full",{active:h.value}]),onClick:X},null,2),e("div",{class:x(["ipopup popup",{active:T.value}])},[e("div",ut,[e("div",it,[e("button",{class:"ipopup__close popup__close",onClick:z},[t(u,null,{default:s(()=>[t(U)]),_:1})]),t(xe)])])],2),e("div",{class:x(["cargo_add popup",{active:D.value}])},[e("div",_t,[e("div",dt,[e("button",{class:"cargo_add__close popup__close",onClick:N},[t(u,null,{default:s(()=>[t(U)]),_:1})]),e("h4",pt,a(l(o)("table.enteringCoupling")),1),t(me,{modelValue:P.value,"onUpdate:modelValue":r[2]||(r[2]=d=>P.value=d),filterable:"","filter-method":Z,"filter-placeholder":l(o)("sort.search"),data:Y.value,"max-height":"240",titles:[l(o)("table.listLoco"),l(o)("table.listLocoCoupling")]},{default:s(({option:d})=>[e("div",bt,[e("span",null,a(d.number||d.label),1),e("span",null,a(d.series||d.initial),1),e("span",null,a(d.coupling||""),1),e("span",mt,[t(be,{modelValue:d.nudge,"onUpdate:modelValue":v=>d.nudge=v,title:l(o)("table.nudge"),onClick:r[1]||(r[1]=he(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","title"])])])]),"left-footer":s(()=>[e("div",gt,[e("span",null,a(l(o)("table.number")),1),e("span",null,a(l(o)("table.series")),1),e("span",null,a(l(o)("table.coupling")),1)])]),"right-footer":s(()=>[e("div",vt,[e("span",null,a(l(o)("table.number")),1),e("span",null,a(l(o)("table.series")),1),e("span",null,a(l(o)("table.coupling")),1),e("span",null,a(l(o)("table.nudge")),1)])]),_:1},8,["modelValue","filter-placeholder","data","titles"])])]),e("div",ht,[e("button",{class:"popup__button button__second button",onClick:N},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:N},r[4]||(r[4]=[e("span",null,"Сохранить",-1)]))])],2),e("div",{class:x(["cargo_disband popup",{active:V.value}])},[e("div",ft,[e("div",wt,[e("button",{class:"cargo_disband__close popup__close",onClick:A},[t(u,null,{default:s(()=>[t(U)]),_:1})]),e("h4",Ct,a(l(o)("table.enteringCoupling")),1)])]),e("div",yt,[e("button",{class:"popup__button button__second button",onClick:A},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:A},[e("span",null,a(l(o)("button.disband")),1)])])],2),e("div",{class:x(["cargo_delete popup",{active:R.value}])},[e("div",kt,[e("div",Lt,[e("button",{class:"cargo_delete__close popup__close",onClick:B},[t(u,null,{default:s(()=>[t(U)]),_:1})]),e("h4",xt,a(l(o)("table.enteringCoupling")),1)])]),e("div",Tt,[e("button",{class:"popup__button button__second button",onClick:B},[e("span",null,a(l(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:B},[e("span",null,a(l(o)("button.delete")),1)])])],2),t(Le)],64)}}}),il=De(Dt,[["__scopeId","data-v-4d922fc8"]]);export{il as default};
