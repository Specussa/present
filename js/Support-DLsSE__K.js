import{B as ee,v as Ye,P as Ze,M as et,W as O,ar as tt,ak as be,as as st,ao as lt,O as ge,at as ye,$ as ot}from"./vendor-@element-plus-Cf--I8Lq.js";import{F as at}from"./api-DFSG_ReX.js";import{H as pt}from"./Header-DGemiyHQ.js";import{F as ut}from"./Footer-84y3oTH-.js";import{H as we}from"./HelpList-BwRJoJYv.js";import{_ as nt}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-BAQpe0DY.js";import{T as it,_ as rt}from"./index-D1Rhb41C.js";import{f as _t,E as b}from"./vendor-element-plus-Bt6C2HhV.js";import{d as dt,e as g,b as x,k as ct,c as v,R as l,a as e,J as r,u as o,E as mt,M as D,D as R,P as u,Q as J,a4 as te,al as w,o as m,O as B,I as se,L as le}from"./vendor-@vue-Bz_wJ882.js";import{u as vt}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./LogoSVG-M23y9Nw6.js";import"./vendor-vue-router-0eOeNsIj.js";import"./GoBack-D16Dd95R.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";const ft={class:"support"},ht={class:"support__container container"},bt={class:"support__block"},gt={class:"support__flex list_flex"},yt={class:"support__left list_left"},wt={class:"support__list list_scroll"},xt={class:"support__right list_right"},kt={class:"breadcrumbs"},Ct={class:"breadcrumbs__list"},Vt={class:"breadcrumbs__item"},Ft={class:"support__select"},zt={class:"support__content"},Dt={class:"support__add"},Lt={class:"el-table_title"},St={class:"el-table_count text_four"},Et={class:"el-table_arrow"},Rt={class:"support__actions"},Tt={class:"table_empty"},At={key:0,class:"repair__bottom"},$t={class:"repair__bottom_left"},Ut={class:"repair__search el-table_search_radius"},Mt={class:"support_details__scroll popup__scroll_buttons"},Ot={class:"support_details__block popup__block"},Bt={class:"support_details__head popup__head"},It={class:"support_details__info"},Pt={class:"support_details__row"},jt={class:"support_details__field"},qt={class:"support_details__label text_four"},Ht={class:"support_details__field"},Nt={class:"support_details__label text_four"},Gt={key:0,class:"support_details__row"},Jt={key:0,class:"support_details__field"},Kt={class:"support_details__label text_four"},Qt={key:1,class:"support_details__field"},Wt={class:"support_details__label text_four"},Xt={class:"support_details__field"},Yt={class:"support_details__label text_four"},Zt={class:"support_details__field"},es={class:"support_details__label text_four"},ts={key:0,class:"support_details__reply"},ss={class:"support_details__reply_head"},ls={class:"support_details__reply_content"},os={key:0,class:"support_details__files"},as={class:"support_details__files_list"},ps={class:"support_details__file_name"},us={class:"support_details__file_size"},ns={class:"support_details__admin_reply"},is={class:"support_details__reply_head"},rs={class:"support_details__upload"},_s={class:"support_popup__area_text"},ds={class:"support_popup__area_title"},cs={class:"support_popup__area_subtitle text_four"},ms={class:"support_popup__upload_tip text_four"},vs={key:0,class:"support_popup__files"},fs={class:"support_popup__files_header"},hs={class:"text_four"},bs={class:"support_popup__files_list"},gs={class:"support_popup__info"},ys={class:"support_popup__details"},ws={class:"support_popup__name text_three"},xs={class:"support_popup__size text_four"},ks=["onClick"],Cs={class:"popup__buttons popup__buttons_one"},Vs={class:"support_delete__scroll popup__scroll_buttons"},Fs={class:"support_delete__block popup__block"},zs={class:"support_delete__head popup__head"},Ds={class:"popup__message"},Ls={class:"support_delete__text text_two"},Ss={class:"popup__buttons"},Es={class:"support_popup__scroll popup__scroll_buttons"},Rs={class:"support_popup__block popup__block"},Ts={class:"support_popup__head popup__head"},As={class:"support_popup__upload"},$s={class:"support_popup__area_text"},Us={class:"support_popup__area_title"},Ms={class:"support_popup__area_subtitle text_four"},Os={class:"support_popup__upload_tip text_four"},Bs={key:0,class:"support_popup__files"},Is={class:"support_popup__files_header"},Ps={class:"text_four"},js={class:"support_popup__files_list"},qs={class:"support_popup__info"},Hs={class:"support_popup__details"},Ns={class:"support_popup__name text_three"},Gs={class:"support_popup__size text_four"},Js=["onClick"],Ks={class:"support_details__buttons popup__buttons"},Qs=dt({__name:"Support",setup(Ws){const{t:s}=vt(),S=g(!1),I=g(!1),P=g([]),j=g(!1),oe=g(),T=g(!1),$=g(!1),C=g(!1),k=g(!1),A=g(""),L=g([]),E=g([]),V=x(()=>[...L.value,...E.value.map(a=>({name:a.name,size:a.size,type:a.type}))]),q=g(!1),xe=()=>{S.value=!1,I.value=!1,T.value=!1,$.value=!1,document.documentElement.classList.remove("noscroll")},ke=()=>{S.value=!0,I.value=!0,document.documentElement.classList.add("noscroll")},K=()=>{S.value=!1,I.value=!1,document.documentElement.classList.remove("noscroll")},Q=()=>{T.value=!T.value,S.value=!S.value,setTimeout(()=>{L.value=[...n.value.replyFiles||[]]},1),T.value&&n.value&&(L.value=n.value.replyFiles||[],E.value=[],A.value=n.value.answer||""),T.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},H=()=>{$.value=!$.value,S.value=!S.value,$.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},c=ct({theme:"",message:"",files:[],email:""}),ae=x(()=>[s("support.themes.map"),s("support.themes.history"),s("support.themes.analytics"),s("support.themes.cargo"),s("support.themes.repair"),s("support.themes.reports"),s("support.themes.service"),s("support.themes.help")]),Ce=x(()=>`${s("elmessage.formSuccess")}`),Ve=x(()=>`${s("elmessage.formError")}`),Fe=x(()=>`${s("elmessage.requiredError")}`),ze=x(()=>`${s("elmessage.send")}`),N=x(()=>`${s("elmessage.countFiles")}`),pe=x(()=>`${s("elmessage.fileSize")}`),ue=x(()=>`${s("elmessage.fileFormat")}`),ne=x(()=>`${s("elmessage.fileAlready")}`),De=(a,t)=>{const _=a?ae.value.filter(i=>i.toLowerCase().includes(a.toLowerCase())):ae.value;t(_.map(i=>({value:i})))},ie=x(()=>({theme:[{required:!0,message:s("form.themes"),trigger:"change"}],email:[{required:!0,message:s("form.email"),trigger:"blur"},{type:"email",message:s("form.correctEmail"),trigger:"blur"}],message:[{required:!0,message:s("form.message"),trigger:"blur"}]})),re=a=>{const t=a.raw;if(t.size>10*1024*1024)return b.error(pe.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(d=>t.type.includes(d)))return b.error(ue.value),!1;if(c.files.some(d=>d.name===t.name&&d.size===t.size))return b.warning(ne.value),!1;const h={name:t.name,size:t.size,type:t.type};c.files.push(h)},_e=a=>{const t=c.files.findIndex(_=>_.name===a.name);t!==-1&&c.files.splice(t,1)},Le=a=>{a.preventDefault(),c.files.length<5&&(j.value=!0)},Se=a=>{a.preventDefault(),j.value=!1},Ee=a=>{var _;if(a.preventDefault(),j.value=!1,c.files.length>=5){b.warning(N.value);return}const t=(_=a.dataTransfer)==null?void 0:_.files;t&&Array.from(t).forEach(i=>{if(c.files.length>=5)return;const f={raw:i,name:i.name};re(f)})},W=a=>{if(a===0)return"0 Bytes";const t=1024,_=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,i)).toFixed(2))+" "+_[i]},X=a=>{var y;const t=((y=a.split(".").pop())==null?void 0:y.toLowerCase())||"",_=["jpg","jpeg","png","gif","bmp","webp","svg"],i=["mp4","avi","mov","wmv","flv","webm"],f=["pdf","doc","docx"],h=["zip","rar","7z","tar","gz"],d=["xls","xlsx","csv"];return _.includes(t)?"image":i.includes(t)?"video":f.includes(t)?"document":h.includes(t)?"archive":d.includes(t)?"spreadsheet":t==="txt"?"text":"unknown"},Y=a=>{const t={image:st,video:lt,document:ge,archive:ye,spreadsheet:ot,text:ge,unknown:ye};return t[a]||t.unknown},Re=()=>{c.files=[],P.value=[]},Te=()=>{b.warning(N.value)},Ae=async a=>{if(a)try{await a.validate();const t=_t.service({lock:!0,text:ze.value});try{await at("post","/api/v1/support/",{}),console.log("Support form data:",c),b({message:Ce.value,type:"success"}),a.resetFields(),c.files=[],P.value=[],K()}catch(_){b({message:_.message||Ve.value,type:"error"})}finally{t.close()}}catch{b.error(Fe.value)}},F=g(""),n=g({}),U=g(!0),de=x(()=>{let a=$e;return F.value&&(a=a.filter(t=>{var _,i,f,h,d,y,G;return((_=t.num)==null?void 0:_.toLowerCase().includes(F.value.toLowerCase()))||((i=t.date)==null?void 0:i.toLowerCase().includes(F.value.toLowerCase()))||((f=t.mail)==null?void 0:f.toLowerCase().includes(F.value.toLowerCase()))||((h=t.theme)==null?void 0:h.toLowerCase().includes(F.value.toLowerCase()))||((d=t.message)==null?void 0:d.toLowerCase().includes(F.value.toLowerCase()))||((y=t.answer)==null?void 0:y.toLowerCase().includes(F.value.toLowerCase()))||((G=t.status)==null?void 0:G.toLowerCase().includes(F.value.toLowerCase()))})),a}),$e=[{id:1,num:"001",date:"2024-01-15 10:30:00",mail:"user1@example.com",theme:"Проблема с картой",message:"Не отображаются маршруты...",answer:"Проблема решена в версии 2.1.5",status:"Закрыто",dateConfirmed:"2024-01-15 11:00:00",dateSolved:"2024-01-15 14:30:00",replyFiles:[{name:"screenshot.png",size:1024e3,type:"image/png"},{name:"logs.zip",size:2048e3,type:"application/zip"}]},{id:2,num:"002",date:"2024-01-16 14:20:00",mail:"user2@example.com",theme:"Вопрос по отчетам",message:"Как сгенерировать отчет...",answer:"Инструкция отправлена на почту",status:"В работе",dateConfirmed:"2024-01-16 15:00:00"},{id:3,num:"003",date:"2024-01-17 09:15:00",mail:"user3@example.com",theme:"Техническая поддержка",message:"Проблема с авторизацией...",status:"Открыто"},{id:4,num:"004",date:"2024-01-18 16:45:00",mail:"user4@example.com",theme:"Обновление данных",message:"Данные не синхронизируются...",answer:"Решено",status:"Закрыто"}],Ue=({rowIndex:a})=>a%2===1?"bg_gray":"",Me=a=>{n.value=a||{}},Oe=()=>{U.value=!U.value},Be=()=>{C.value&&b.success(s("elmessage.formSuccess")),C.value=!C.value},Ie=()=>{k.value?A.value.trim()&&(n.value.answer=A.value,n.value.replyFiles=[...L.value],n.value.status!=="Закрыто"&&(n.value.status="В работе"),b.success(s("elmessage.formSuccess"))):(A.value=n.value.answer||"",L.value=[...n.value.replyFiles||[]],E.value=[]),k.value=!k.value},ce=a=>{const t=a.raw;if(t.size>10*1024*1024)return b.error(pe.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(h=>t.type.includes(h)))return b.error(ue.value),!1;if(E.value.some(h=>h.name===t.name&&h.size===t.size)||L.value.some(h=>h.name===t.name&&h.size===t.size))return b.warning(ne.value),!1;E.value.push(t)},me=a=>{const t=E.value.findIndex(i=>i.name===a.name);if(t!==-1){E.value.splice(t,1);return}const _=L.value.findIndex(i=>i.name===a.name);_!==-1&&L.value.splice(_,1)},Pe=()=>{b.warning(N.value)},je=a=>{a.preventDefault(),k&&V.value.length<5&&(q.value=!0)},qe=a=>{a.preventDefault(),q.value=!1},He=a=>{var _;if(a.preventDefault(),q.value=!1,!k||V.value.length>=5){b.warning(N.value);return}const t=(_=a.dataTransfer)==null?void 0:_.files;t&&Array.from(t).forEach(i=>{if(V.value.length>=5)return;const f={raw:i,name:i.name};ce(f)})},Ne=a=>{const t=V.value[a];me(t)},Ge=()=>{E.value=[],L.value=[]},Je=a=>{const t=new Blob([`Mock content for ${a.name}`],{type:a.type}),_=URL.createObjectURL(t),i=document.createElement("a");i.href=_,i.download=a.name,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(_),b.success(`${s("button.download")}: ${a.name}`)};return(a,t)=>{var fe,he;const _=w("RouterLink"),i=w("router-view"),f=w("el-button"),h=w("ArrowDown"),d=w("el-icon"),y=w("el-table-column"),G=w("el-tag"),Ke=w("el-table"),z=w("el-input"),ve=w("el-upload"),Qe=w("el-autocomplete"),Z=w("el-form-item"),We=w("el-form");return m(),v(J,null,[l(pt),e("section",ft,[e("div",ht,[e("div",bt,[e("div",gt,[e("div",yt,[e("ul",wt,[l(we,{"is-mobile":!1})])]),e("div",xt,[e("div",kt,[e("ul",Ct,[l(nt),e("li",Vt,[l(_,{class:"breadcrumbs__link text_four",to:o(it).i18nRoute({name:"support"})},{default:r(()=>[B(u(o(s)("header.support")),1)]),_:1},8,["to"])])])]),e("div",Ft,[l(we,{"is-mobile":!0})]),e("div",zt,[l(i),e("div",Dt,[l(f,{type:"primary",class:"support__button",icon:o(ee),onClick:ke},{default:r(()=>[B(u(o(s)("button.createAppeal")),1)]),_:1},8,["icon"])]),l(Ke,{ref:"SupportTableRef",data:de.value,"highlight-current-row":"","row-class-name":Ue,onCurrentChange:Me,style:mt({maxHeight:U.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",Tt,u(o(s)("table.noData")),1)]),default:r(()=>[l(y,{"header-align":"center"},{header:r(()=>[e("span",{class:R(["el-table_top",{active:U.value}]),onClick:Oe},[e("span",Lt,[B(u(o(s)("table.listAppeals"))+" - ",1),e("span",St,u(de.value.length),1)]),e("span",Et,[l(d,null,{default:r(()=>[l(h)]),_:1})])],2)]),default:r(()=>[l(y,{property:"num",sortable:"",label:"№","min-width":"80"}),l(y,{property:"date",sortable:"",label:o(s)("table.date"),"min-width":"170"},null,8,["label"]),l(y,{property:"mail",sortable:"",label:o(s)("table.mail"),"min-width":"200"},null,8,["label"]),l(y,{property:"theme",sortable:"",label:o(s)("table.theme"),"min-width":"180"},null,8,["label"]),l(y,{property:"message",sortable:"",label:o(s)("table.message"),"min-width":"250","show-overflow-tooltip":""},null,8,["label"]),l(y,{property:"answer",sortable:"",label:o(s)("table.answer"),"min-width":"130"},null,8,["label"]),l(y,{property:"status",sortable:"",label:o(s)("table.status"),"min-width":"120"},{default:r(p=>[l(G,{type:p.row.status==="Закрыто"?"success":p.row.status==="В работе"?"warning":p.row.status==="Открыто"?"info":"danger",size:"small"},{default:r(()=>[B(u(p.row.status),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(y,{label:o(s)("table.actions"),width:"120",fixed:"right"},{default:r(p=>[e("div",Rt,[B(u(p.row.actions)+" ",1),l(f,{type:"primary",size:"small",icon:o(Ye),title:o(s)("button.view"),onClick:Q},null,8,["icon","title"]),l(f,{type:"danger",size:"small",icon:o(Ze),title:o(s)("button.delete"),onClick:H},null,8,["icon","title"])])]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),U.value?(m(),v("div",At,[e("div",$t,[e("div",Ut,[l(z,{modelValue:F.value,"onUpdate:modelValue":t[0]||(t[0]=p=>F.value=p),placeholder:o(s)("sort.search")},{prepend:r(()=>[l(f,{icon:o(et),title:o(s)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):D("",!0)])])])])])]),e("div",{class:R(["overlay_full",{active:S.value}]),onClick:xe},null,2),e("div",{class:R(["support_details popup",{active:T.value}])},[e("div",Mt,[e("div",Ot,[e("button",{class:"support_details__close popup__close",onClick:Q},[l(d,null,{default:r(()=>[l(o(O))]),_:1})]),e("h4",Bt,u(o(s)("support.viewAppeal"))+" #"+u((fe=n.value)==null?void 0:fe.num),1),e("div",It,[e("div",Pt,[e("div",jt,[e("label",qt,u(o(s)("table.mail")),1),l(z,{modelValue:n.value.mail,"onUpdate:modelValue":t[1]||(t[1]=p=>n.value.mail=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",Ht,[e("label",Nt,u(o(s)("table.date")),1),l(z,{modelValue:n.value.date,"onUpdate:modelValue":t[2]||(t[2]=p=>n.value.date=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])]),n.value.dateConfirmed||n.value.dateSolved?(m(),v("div",Gt,[n.value.dateConfirmed?(m(),v("div",Jt,[e("label",Kt,u(o(s)("support.processingDate")),1),l(z,{modelValue:n.value.dateConfirmed,"onUpdate:modelValue":t[3]||(t[3]=p=>n.value.dateConfirmed=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):D("",!0),n.value.dateSolved?(m(),v("div",Qt,[e("label",Wt,u(o(s)("support.completionDate")),1),l(z,{modelValue:n.value.dateSolved,"onUpdate:modelValue":t[4]||(t[4]=p=>n.value.dateSolved=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):D("",!0)])):D("",!0),e("div",Xt,[e("label",Yt,u(o(s)("table.theme")),1),l(z,{modelValue:n.value.theme,"onUpdate:modelValue":t[5]||(t[5]=p=>n.value.theme=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",Zt,[e("label",es,u(o(s)("table.message")),1),l(z,{modelValue:n.value.message,"onUpdate:modelValue":t[6]||(t[6]=p=>n.value.message=p),disabled:!C.value,type:"textarea",rows:4,class:"support_details__textarea"},null,8,["modelValue","disabled"])]),e("button",{class:"support_details__edit button button__primary",onClick:Be},u(C.value?o(s)("button.save"):o(s)("button.edit")),1)]),n.value.answer?(m(),v("div",ts,[e("div",ss,[e("strong",null,u(o(s)("support.supportResponse")),1)]),e("div",ls,u(n.value.answer),1),(he=n.value.replyFiles)!=null&&he.length?(m(),v("div",os,[e("strong",null,u(o(s)("support.supportFiles")),1),e("div",as,[(m(!0),v(J,null,te(n.value.replyFiles,p=>(m(),v("div",{key:p.name,class:"support_details__file_item"},[l(d,{class:"support_details__file_icon"},{default:r(()=>[(m(),se(le(Y(X(p.name)))))]),_:2},1024),e("span",ps,u(p.name),1),e("span",us,u(W(p.size)),1),l(f,{type:"primary",link:"",size:"small",icon:o(tt),title:o(s)("button.download"),class:"support_details__download_btn",onClick:M=>Je(p)},null,8,["icon","title","onClick"])]))),128))])])):D("",!0)])):D("",!0),e("div",ns,[e("div",is,[e("strong",null,u(o(s)("support.supportResponse")),1)]),l(z,{modelValue:A.value,"onUpdate:modelValue":t[7]||(t[7]=p=>A.value=p),disabled:!k.value,type:"textarea",rows:4,placeholder:o(s)("form.message"),class:"support_details__reply_textarea"},null,8,["modelValue","disabled","placeholder"]),e("div",rs,[l(ve,{action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Pe,"on-change":ce,"on-remove":me,"show-file-list":!1,disabled:!k.value||V.value.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv","file-list":V.value},{trigger:r(()=>[e("div",{class:R(["support_popup__area",{support_popup__area_disabled:!k.value||V.value.length>=5,support_popup__area_dragOver:q.value}]),onDragover:je,onDragleave:qe,onDrop:He},[l(d,{class:"support_popup__area_icon title_two"},{default:r(()=>[l(o(ee))]),_:1}),e("div",_s,[e("p",ds,u(o(s)("support.attachFiles")),1),e("p",cs,u(o(s)("support.dragFiles")),1)])],34)]),_:1},8,["disabled","file-list"]),e("p",ms,u(o(s)("support.format")),1),V.value.length>0?(m(),v("div",vs,[e("div",fs,[e("span",hs,u(o(s)("support.files"))+" ("+u(V.value.length)+"/5)",1),k.value?(m(),v("button",{key:0,onClick:Ge,class:"support_popup__clear"},[l(d,null,{default:r(()=>[l(o(be))]),_:1})])):D("",!0)]),e("div",bs,[(m(!0),v(J,null,te(V.value,(p,M)=>(m(),v("div",{key:M,class:"support_popup__item"},[e("div",gs,[l(d,{class:"support_popup__icon"},{default:r(()=>[(m(),se(le(Y(X(p.name)))))]),_:2},1024),e("div",ys,[e("div",ws,u(p.name),1),e("p",xs,u(W(p.size)),1)])]),k.value?(m(),v("button",{key:0,onClick:Xe=>Ne(M),class:"support_popup__remove"},[l(d,null,{default:r(()=>[l(o(O))]),_:1})],8,ks)):D("",!0)]))),128))])])):D("",!0)]),e("button",{class:"support_details__reply_btn button button__primary",onClick:Ie},u(k.value?o(s)("button.save"):o(s)("button.edit")),1)])])]),e("div",Cs,[e("button",{class:"popup__button button__second button",onClick:Q},u(o(s)("button.close")),1)])],2),e("div",{class:R(["support_delete popup popup__small",{active:$.value}])},[e("div",Vs,[e("div",Fs,[e("button",{class:"support_delete__close popup__close",onClick:H},[l(d,null,{default:r(()=>[l(o(O))]),_:1})]),e("h4",zs,u(o(s)("support.deleteAppeal")),1),e("div",Ds,[e("p",Ls,u(o(s)("support.deleteConfirm")),1)])])]),e("div",Ss,[e("button",{class:"popup__button button__second button",onClick:H},[e("span",null,u(o(s)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:H},[e("span",null,u(o(s)("button.delete")),1)])])],2),e("div",{class:R(["support_popup popup",{active:I.value}])},[e("div",Es,[e("div",Rs,[e("button",{class:"support_popup__close popup__close",onClick:K},[l(d,null,{default:r(()=>[l(o(O))]),_:1})]),e("h4",Ts,u(o(s)("support.head")),1),l(We,{ref_key:"supportFormRef",ref:oe,model:c,rules:ie.value,class:"support_popup__flex"},{default:r(()=>[l(Z,{prop:"theme"},{default:r(()=>[l(Qe,{modelValue:c.theme,"onUpdate:modelValue":t[8]||(t[8]=p=>c.theme=p),rules:ie.value.theme,class:"support_popup__input",placeholder:o(s)("support.themes.placeholder"),"fetch-suggestions":De,clearable:""},null,8,["modelValue","rules","placeholder"])]),_:1}),l(Z,{prop:"email"},{default:r(()=>[l(z,{modelValue:c.email,"onUpdate:modelValue":t[9]||(t[9]=p=>c.email=p),class:"support_popup__email",type:"email",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),l(Z,{prop:"message"},{default:r(()=>[l(z,{modelValue:c.message,"onUpdate:modelValue":t[10]||(t[10]=p=>c.message=p),type:"textarea",class:"support_popup__textarea",placeholder:"Сообщение",rows:4},null,8,["modelValue"])]),_:1}),e("div",As,[l(ve,{"file-list":P.value,"onUpdate:fileList":t[11]||(t[11]=p=>P.value=p),action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Te,"on-change":re,"on-remove":_e,"show-file-list":!1,disabled:c.files.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv"},{trigger:r(()=>[e("div",{class:R(["support_popup__area",{support_popup__area_disabled:c.files.length>=5,support_popup__area_dragOver:j.value}]),onDragover:Le,onDragleave:Se,onDrop:Ee},[l(d,{class:"support_popup__area_icon title_two"},{default:r(()=>[l(o(ee))]),_:1}),e("div",$s,[e("p",Us,u(o(s)("support.attachFiles")),1),e("p",Ms,u(o(s)("support.dragFiles")),1)])],34)]),_:1},8,["file-list","disabled"]),e("p",Os,u(o(s)("support.format")),1),c.files.length>0?(m(),v("div",Bs,[e("div",Is,[e("span",Ps,u(o(s)("support.files"))+" ("+u(c.files.length)+"/5)",1),e("button",{onClick:Re,class:"support_popup__clear"},[l(d,null,{default:r(()=>[l(o(be))]),_:1})])]),e("div",js,[(m(!0),v(J,null,te(c.files,(p,M)=>(m(),v("div",{key:M,class:"support_popup__item"},[e("div",qs,[l(d,{class:"support_popup__icon"},{default:r(()=>[(m(),se(le(Y(X(p.name)))))]),_:2},1024),e("div",Hs,[e("div",Ns,u(p.name),1),e("p",Gs,u(W(p.size)),1)])]),e("button",{onClick:Xe=>_e(p),class:"support_popup__remove"},[l(d,null,{default:r(()=>[l(o(O))]),_:1})],8,Js)]))),128))])])):D("",!0)])]),_:1},8,["model","rules"])])]),e("div",Ks,[e("button",{class:"popup__button button__second button",onClick:K},u(o(s)("button.cancel")),1),e("button",{class:"popup__button button__primary button",onClick:t[12]||(t[12]=p=>Ae(oe.value))},u(o(s)("button.send")),1)])],2),l(ut)],64)}}}),Sl=rt(Qs,[["__scopeId","data-v-456535df"]]);export{Sl as default};
