import{o as i,c as d,a as e,d as xl,e as P,U as Pl,al as I,R as n,J as r,I as L,O as V,P as s,b as H,m as qe,k as bl,f as ce,E as B,Q as k,a4 as w,K as Q,S as Z,D as p,u as a,M as m,W as C,L as N}from"./vendor-@vue-Bz_wJ882.js";import{k as R,M as Rl,a6 as hl,a7 as pl,a8 as ml,a9 as fl,aa as $l,ab as El,ac as yl,a1 as Il,ad as Ol,ae as gl,af as Fl,O as Nl,a4 as Ul}from"./vendor-@element-plus-CjGJe9ZW.js";import{B as kl}from"./api-Cj-Fovd5.js";import{H as Bl,L as Yl}from"./Header-Tr3szzHf.js";import{O as Hl}from"./OpenLayers-Dlm239Fz.js";import{H as Gl}from"./vendor-highcharts-CibDmyST.js";import{P as zl}from"./Preloader-D5A2EOqr.js";import{_ as ve}from"./LogoSVG-CssJ0krg.js";import{F as Xl}from"./Footer-BOxObP9U.js";import{F as wl,E as Cl,K as jl}from"./krpdSVG-CmnPK_Sn.js";import{E as Ve}from"./vendor-element-plus-Cew9W0b1.js";import{u as ql}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-router-0eOeNsIj.js";import"./index-Df9dnFi6.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-Bmr6mpzu.js";import"./VideoPlayer-C1PUPNl4.js";import"./GoBack-CNfyCtw1.js";const Wl={},Jl={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function Ql(be,l){return i(),d("svg",Jl,l[0]||(l[0]=[e("path",{d:"M3 2L13 8L3 14Z"},null,-1)]))}const Zl=ve(Wl,[["render",Ql]]),et={},lt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function tt(be,l){return i(),d("svg",lt,l[0]||(l[0]=[e("rect",{x:"3",y:"2",width:"3",height:"12"},null,-1),e("rect",{x:"10",y:"2",width:"3",height:"12"},null,-1)]))}const at=ve(et,[["render",tt]]),st={class:"history__player"},ot={class:"history__player_controls"},nt={class:"history__player_slider"},rt={class:"history__player_time text_three"},it=xl({__name:"PlayerGraph",emits:["progress","play","pause"],setup(be,{expose:l,emit:Te}){const G=P(!1),he=P(1),te=[1,2,4,8,16,32,64],q=P(0),ee=P(null),oe=Te,Be=()=>{const E=(te.indexOf(he.value)+1)%te.length;he.value=te[E]},ke=()=>{G.value=!G.value,G.value?(O(),oe("play")):(pe(),oe("pause"))},O=()=>{pe(),ee.value=setInterval(()=>{q.value+=he.value,q.value>=86400&&(q.value=86400,pe(),G.value=!1,oe("pause")),oe("progress",q.value)},1e3)},pe=()=>{ee.value&&(clearInterval(ee.value),ee.value=null)},Ye=M=>{q.value=M,oe("progress",M)},me=M=>{const E=Math.floor(M/3600),y=Math.floor(M%3600/60),re=Math.floor(M%60);return`${E.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},He=M=>me(M),le=M=>{q.value=M},ae=()=>{G.value||ke()},ne=()=>{G.value&&ke()};return Pl(()=>{pe()}),l({setProgress:le,play:ae,pause:ne,togglePlay:ke}),(M,E)=>{const y=I("el-button"),re=I("el-slider");return i(),d("div",st,[e("div",ot,[n(y,{class:"history__player_button",type:"primary",onClick:ke},{default:r(()=>[G.value?(i(),L(at,{key:1})):(i(),L(Zl,{key:0}))]),_:1}),n(y,{class:"history__player_speed",type:"primary",onClick:Be},{default:r(()=>[V(s(he.value)+"x ",1)]),_:1})]),e("div",nt,[n(re,{modelValue:q.value,"onUpdate:modelValue":E[0]||(E[0]=W=>q.value=W),min:0,max:86400,"format-tooltip":He,onInput:Ye},null,8,["modelValue"])]),e("div",rt,s(me(q.value)),1)])}}}),_t=ve(it,[["__scopeId","data-v-259eb311"]]),ut={},dt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function ct(be,l){return i(),d("svg",dt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"1",-1)]))}const vt=ve(ut,[["render",ct]]),bt={},ht={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function pt(be,l){return i(),d("svg",ht,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"2",-1)]))}const mt=ve(bt,[["render",pt]]),ft={},yt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function gt(be,l){return i(),d("svg",yt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"3",-1)]))}const kt=ve(ft,[["render",gt]]),wt={key:1,class:"map"},Ct={class:"history__container container"},xt={class:"history__block"},Pt={class:"history__flex list_flex"},Vt={key:0,class:"history__left list_left"},Tt={class:"history__left_tables list_scroll"},Dt={class:"history__top"},St={class:"history__top_flex"},Lt={class:"segmented__group",role:"radiogroup"},At=["onClick","aria-checked"],Kt={class:"segmented__label"},Mt={class:"history__shadow"},Rt={class:"el-table_title"},$t={class:"el-table_count text_four"},Et={class:"el-table_arrow"},It={class:"table_empty"},Ot={key:0,class:"history__bottom"},Ft={class:"el-table_bottom_left"},Nt={class:"el-table_search"},Ut={class:"history__buttons"},Bt={class:"el-datetime"},Yt={class:"el-datetime"},Ht={class:"button__icon"},Gt={class:"history__button button__primary button",disabled:""},zt={class:"button__icon"},Xt={class:"button__icon"},jt={class:"history__button button__second button",disabled:""},qt={class:"button__icon"},Wt={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Jt=["aria-checked"],Qt={class:"segmented__label"},Zt={class:"segmented__icon text_two"},ea=["onClick","aria-checked"],la={class:"segmented__label"},ta={class:"segmented__icon text_two"},aa={key:1,class:"history__no_selection"},sa={class:"text_three"},oa={key:2,class:"history__message_wrapper"},na={class:"segmented__group segmented__group_info",role:"radiogroup"},ra=["onClick","aria-checked"],ia={class:"segmented__label"},_a={class:"history__information_blocks"},ua={key:0,class:"history__information_all"},da={key:0,class:"history__locomotive_blocks"},ca=["onClick"],va={class:"text_three"},ba={class:"el-table_arrow"},ha={class:"info-label"},pa={class:"info-value"},ma={key:1,class:"history__locomotive_blocks"},fa=["onClick"],ya={class:"text_three"},ga={class:"el-table_arrow"},ka={class:"info-label"},wa={class:"info-value"},Ca={key:2,class:"history__locomotive_blocks"},xa=["onClick"],Pa={class:"text_three"},Va={class:"el-table_arrow"},Ta={class:"info-label"},Da={class:"info-value"},Sa={key:3,class:"history__locomotive_blocks"},La=["onClick"],Aa={class:"text_three"},Ka={class:"el-table_arrow"},Ma={class:"info-label"},Ra={class:"info-value"},$a={key:4,class:"history__locomotive_blocks"},Ea=["onClick"],Ia={class:"text_three"},Oa={class:"el-table_arrow"},Fa={class:"info-label"},Na={class:"info-value"},Ua={key:5,class:"history__locomotive_blocks"},Ba=["onClick"],Ya={class:"text_three"},Ha={class:"el-table_arrow"},Ga={class:"info-label"},za={class:"info-value"},Xa={key:1,class:"history__information_single"},ja={key:0,class:"history__information_block"},qa={class:"history__block_header"},Wa={class:"text_three"},Ja={class:"history__tab_container"},Qa={class:"info-label"},Za={class:"info-value"},es={key:1,class:"history__information_block"},ls={class:"history__block_header"},ts={class:"text_three"},as={class:"history__tab_container"},ss={class:"info-label"},os={class:"info-value"},ns={key:2,class:"history__information_block"},rs={class:"history__block_header"},is={class:"text_three"},_s={class:"history__tab_container"},us={class:"info-label"},ds={class:"info-value"},cs={key:3,class:"history__information_block"},vs={class:"history__block_header"},bs={class:"text_three"},hs={class:"history__tab_container"},ps={class:"info-label"},ms={class:"info-value"},fs={key:4,class:"history__information_block"},ys={class:"history__block_header"},gs={class:"text_three"},ks={class:"history__tab_container"},ws={class:"info-label"},Cs={class:"info-value"},xs={key:5,class:"history__information_block"},Ps={class:"history__block_header"},Vs={class:"text_three"},Ts={class:"history__tab_container"},Ds={class:"info-label"},Ss={class:"info-value"},Ls={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},As=["aria-checked"],Ks={class:"segmented__label"},Ms={class:"segmented__icon text_two"},Rs=["onClick","aria-checked"],$s={class:"segmented__label"},Es={class:"segmented__icon text_two"},Is={key:1,class:"history__no_selection"},Os={class:"text_three"},Fs={key:2,class:"history__total_wrapper"},Ns={class:"segmented__group segmented__group_total",role:"radiogroup"},Us=["onClick","aria-checked"],Bs={class:"segmented__label"},Ys={class:"history__total_blocks"},Hs={key:0,class:"history__total_all"},Gs={key:0,class:"history__total_data_block"},zs=["onClick"],Xs={class:"text_three"},js={class:"el-table_arrow"},qs={class:"info-label"},Ws={class:"info-value"},Js={key:1,class:"history__total_data_block"},Qs={class:"total__unit_selector"},Zs=["onClick"],eo={class:"text_three"},lo={class:"el-table_arrow"},to={class:"info-label"},ao={class:"info-value"},so={key:2,class:"history__total_data_block"},oo=["onClick"],no={class:"text_three"},ro={class:"el-table_arrow"},io={class:"info-label"},_o={class:"info-value"},uo={key:1,class:"history__total_single"},co={key:0,class:"history__total_data_block"},vo={class:"history__total_block"},bo={class:"history__block_header"},ho={class:"text_three"},po={class:"history__tab_container"},mo={class:"info-label"},fo={class:"info-value"},yo={key:1,class:"history__total_data_block"},go={class:"total__unit_selector"},ko={class:"history__total_block"},wo={class:"history__block_header"},Co={class:"text_three"},xo={class:"history__tab_container"},Po={class:"info-label"},Vo={class:"info-value"},To={key:2,class:"history__total_data_block"},Do={class:"history__total_block"},So={class:"history__block_header"},Lo={class:"text_three"},Ao={class:"history__tab_container"},Ko={class:"info-label"},Mo={class:"info-value"},Ro={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},$o=["aria-checked"],Eo={class:"segmented__label"},Io={class:"segmented__icon text_two"},Oo=["onClick","aria-checked"],Fo={class:"segmented__label"},No={class:"segmented__icon text_two"},Uo={key:1,class:"history__no_selection"},Bo={class:"text_three"},Yo={key:2,class:"history__events_wrapper"},Ho={class:"history__events_selector"},Go={class:"history__events_table"},zo={class:"table_empty"},Xo={key:0,class:"history__events_pagination"},jo={class:"history__right list_map"},qo={key:0,class:"list_select"},Wo={class:"el-select_title"},Jo={class:"el-table_count text_four"},Qo={key:0,class:"el-table_selected text_four"},Zo={class:"el-select_option"},en={class:"el-select_empty"},ln={class:"history__map"},tn={class:"history__charts"},an={class:"history__charts_buttons"},sn={class:"history__segmented segmented__group segmented__group_total",role:"radiogroup"},on=["onClick","aria-checked"],nn={class:"segmented__label"},rn={class:"history__chart history__chart_one"},_n={class:"history__chart history__chart_two"},un={class:"history__chart history__chart_three"},dn={key:1,class:"history__tables"},cn={key:0,class:"segmented__group",role:"radiogroup"},vn=["onClick","aria-checked"],bn={class:"segmented__label"},hn={class:"history__buttons"},pn={class:"el-datetime"},mn={class:"el-datetime"},fn={class:"button__icon"},yn={class:"history__button button__primary button",disabled:""},gn={class:"button__icon"},kn={class:"button__icon"},wn={class:"history__button button__second button",disabled:""},Cn={class:"button__icon"},xn={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Pn=["aria-checked"],Vn={class:"segmented__label"},Tn={class:"segmented__icon text_two"},Dn=["onClick","aria-checked"],Sn={class:"segmented__label"},Ln={class:"segmented__icon text_two"},An={key:1,class:"history__no_selection"},Kn={class:"text_three"},Mn={key:2,class:"history__message_wrapper"},Rn={class:"segmented__group segmented__group_info",role:"radiogroup"},$n=["onClick","aria-checked"],En={class:"segmented__label"},In={class:"history__information_blocks"},On={key:0,class:"history__information_all"},Fn={key:0,class:"history__locomotive_blocks"},Nn=["onClick"],Un={class:"text_three"},Bn={class:"el-table_arrow"},Yn={class:"info-label"},Hn={class:"info-value"},Gn={key:1,class:"history__locomotive_blocks"},zn=["onClick"],Xn={class:"text_three"},jn={class:"el-table_arrow"},qn={class:"info-label"},Wn={class:"info-value"},Jn={key:2,class:"history__locomotive_blocks"},Qn=["onClick"],Zn={class:"text_three"},er={class:"el-table_arrow"},lr={class:"info-label"},tr={class:"info-value"},ar={key:3,class:"history__locomotive_blocks"},sr=["onClick"],or={class:"text_three"},nr={class:"el-table_arrow"},rr={class:"info-label"},ir={class:"info-value"},_r={key:4,class:"history__locomotive_blocks"},ur=["onClick"],dr={class:"text_three"},cr={class:"el-table_arrow"},vr={class:"info-label"},br={class:"info-value"},hr={key:5,class:"history__locomotive_blocks"},pr=["onClick"],mr={class:"text_three"},fr={class:"el-table_arrow"},yr={class:"info-label"},gr={class:"info-value"},kr={key:1,class:"history__information_single"},wr={key:0,class:"history__information_block"},Cr={class:"history__block_header"},xr={class:"text_three"},Pr={class:"history__tab_container"},Vr={class:"info-label"},Tr={class:"info-value"},Dr={key:1,class:"history__information_block"},Sr={class:"history__block_header"},Lr={class:"text_three"},Ar={class:"history__tab_container"},Kr={class:"info-label"},Mr={class:"info-value"},Rr={key:2,class:"history__information_block"},$r={class:"history__block_header"},Er={class:"text_three"},Ir={class:"history__tab_container"},Or={class:"info-label"},Fr={class:"info-value"},Nr={key:3,class:"history__information_block"},Ur={class:"history__block_header"},Br={class:"text_three"},Yr={class:"history__tab_container"},Hr={class:"info-label"},Gr={class:"info-value"},zr={key:4,class:"history__information_block"},Xr={class:"history__block_header"},jr={class:"text_three"},qr={class:"history__tab_container"},Wr={class:"info-label"},Jr={class:"info-value"},Qr={key:5,class:"history__information_block"},Zr={class:"history__block_header"},ei={class:"text_three"},li={class:"history__tab_container"},ti={class:"info-label"},ai={class:"info-value"},si={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},oi=["aria-checked"],ni={class:"segmented__label"},ri={class:"segmented__icon text_two"},ii=["onClick","aria-checked"],_i={class:"segmented__label"},ui={class:"segmented__icon text_two"},di={key:1,class:"history__no_selection"},ci={class:"text_three"},vi={key:2,class:"history__total_wrapper"},bi={class:"segmented__group segmented__group_total",role:"radiogroup"},hi=["onClick","aria-checked"],pi={class:"segmented__label"},mi={class:"history__total_blocks"},fi={key:0,class:"history__total_all"},yi={key:0,class:"history__total_data_block"},gi=["onClick"],ki={class:"text_three"},wi={class:"el-table_arrow"},Ci={class:"info-label"},xi={class:"info-value"},Pi={key:1,class:"history__total_data_block"},Vi={class:"total__unit_selector"},Ti=["onClick"],Di={class:"text_three"},Si={class:"el-table_arrow"},Li={class:"info-label"},Ai={class:"info-value"},Ki={key:2,class:"history__total_data_block"},Mi=["onClick"],Ri={class:"text_three"},$i={class:"el-table_arrow"},Ei={class:"info-label"},Ii={class:"info-value"},Oi={key:1,class:"history__total_single"},Fi={key:0,class:"history__total_data_block"},Ni={class:"history__total_block"},Ui={class:"history__block_header"},Bi={class:"text_three"},Yi={class:"history__tab_container"},Hi={class:"info-label"},Gi={class:"info-value"},zi={key:1,class:"history__total_data_block"},Xi={class:"total__unit_selector"},ji={class:"history__total_block"},qi={class:"history__block_header"},Wi={class:"text_three"},Ji={class:"history__tab_container"},Qi={class:"info-label"},Zi={class:"info-value"},e_={key:2,class:"history__total_data_block"},l_={class:"history__total_block"},t_={class:"history__block_header"},a_={class:"text_three"},s_={class:"history__tab_container"},o_={class:"info-label"},n_={class:"info-value"},r_={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},i_=["aria-checked"],__={class:"segmented__label"},u_={class:"segmented__icon text_two"},d_=["onClick","aria-checked"],c_={class:"segmented__label"},v_={class:"segmented__icon text_two"},b_={key:1,class:"history__no_selection"},h_={class:"text_three"},p_={key:2,class:"history__events_wrapper"},m_={class:"history__events_selector"},f_={class:"history__events_table"},y_={class:"table_empty"},g_={key:0,class:"history__events_pagination"},k_={class:"history_popup__scroll popup__scroll_buttons"},w_={class:"history_popup__block popup__block"},C_={class:"history_popup__head popup__head"},x_={class:"history_popup__list"},P_={class:"history_popup__item"},V_={class:"history_popup__head"},T_={class:"history_popup__checkbox"},D_={class:"history_popup__checkbox"},S_={class:"history_popup__checkbox"},L_={class:"history_popup__checkbox"},A_={class:"history_popup__item"},K_={class:"history_popup__head"},M_={class:"history_popup__checkbox"},R_={class:"history_popup__checkbox"},$_={class:"history_popup__checkbox"},E_={class:"history_popup__checkbox"},I_={class:"history_popup__checkbox"},O_={class:"history_popup__checkbox"},F_={class:"history_popup__checkbox"},N_={class:"history_popup__item"},U_={class:"history_popup__head"},B_={class:"history_popup__checkbox"},Y_={class:"history_popup__checkbox"},H_={class:"history_popup__checkbox"},G_={class:"history_popup__checkbox"},z_={class:"history_popup__checkbox"},X_={class:"history_popup__checkbox"},j_={class:"history_popup__checkbox"},q_={class:"history_popup__checkbox"},W_={class:"history_popup__checkbox"},J_={class:"history_popup__item"},Q_={class:"history_popup__head"},Z_={class:"history_popup__checkbox"},eu={class:"history_popup__checkbox"},lu={class:"history_popup__checkbox"},tu={class:"history_popup__checkbox"},au={class:"history_popup__checkbox"},su={class:"history_popup__item"},ou={class:"history_popup__head"},nu={class:"history_popup__checkbox"},ru={class:"history_popup__checkbox"},iu={class:"history_popup__checkbox"},_u={class:"history_popup__checkbox"},uu={class:"history_popup__item"},du={class:"history_popup__head"},cu={class:"history_popup__checkbox"},vu={class:"history_popup__checkbox"},bu={class:"popup__buttons"},hu=xl({__name:"History",setup(be){const{t:l}=ql(),Te=P(!0),G=P(!1),he=P(!1),te=P(!1),q=()=>{he.value=!1,te.value=!1,G.value=!1,document.documentElement.classList.remove("noscroll")},ee=()=>{te.value=!te.value,G.value=!G.value,te.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},oe=(_,o,h=365)=>{const b=new Date;b.setTime(b.getTime()+h*24*60*60*1e3),document.cookie=`${_}=${encodeURIComponent(o)};expires=${b.toUTCString()};path=/`},Be=_=>{const o=_+"=",h=document.cookie.split(";");for(let b=0;b<h.length;b++){let f=h[b];for(;f.charAt(0)===" ";)f=f.substring(1,f.length);if(f.indexOf(o)===0)return decodeURIComponent(f.substring(o.length,f.length))}return null},O=P((()=>{const _=Be("selectedCharts");if(_)try{return JSON.parse(_)}catch(o){console.error("Error parsing saved charts from cookies:",o)}return["speedKmh","fuelVolumeL","fuelVolume20C","fuelMassKg"]})()),pe=()=>{oe("selectedCharts",JSON.stringify(O.value)),ee()},Ye=P(null),me=P(),He=H(()=>({chart:{type:"line",backgroundColor:"var(--bg-gray)"},title:{text:l("chart.title"),style:{color:"var(--text)"}},xAxis:{categories:[l("chart.months.jan"),l("chart.months.feb"),l("chart.months.mar"),l("chart.months.apr"),l("chart.months.may"),l("chart.months.jun"),l("chart.months.jul"),l("chart.months.aug"),l("chart.months.sep"),l("chart.months.oct"),l("chart.months.nov"),l("chart.months.dec")],labels:{style:{color:"var(--text)"}},title:{style:{color:"var(--text)"}}},yAxis:{title:{text:l("chart.values"),style:{color:"var(--text)"}},labels:{style:{color:"var(--text)"}},min:0,max:8,tickInterval:2,allowDecimals:!1},accessibility:{enabled:!1},series:[{type:"line",name:l("chart.data"),data:[1,4,2,5,3,6]}],legend:{itemStyle:{color:"var(--text)"},itemHoverStyle:{color:"var(--hover)"}}}));qe(()=>{me.value&&(Ye.value=Gl.chart(me.value,{...He.value}))});const le=P("info"),ae=P("locomotive"),ne=P("one"),M=P("route"),E=P("dop_reg"),y=P(-1),re=P({}),W=P("liters"),De=[{value:"liters",label:"Литры"},{value:"liters20C",label:"Литры к 20°C"},{value:"kilograms",label:"Килограммы"}],A=P({info:!0,message:!1,total:!1,events:!1}),D=P({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),F=P({route:!0,fuel:!1,electricity:!1}),Ge=P({dop_reg:!0,idle:!1,tab_change:!1,rfid:!1,violations:!1}),Y=P({}),z=P([]),X=(_,o)=>{o&&(o.preventDefault(),o.stopPropagation());const[h]=_.split("-"),b=parseInt(h),f=`locomotive-${b}`;Y.value[f]===!0?(Y.value[f]=!1,Object.keys(Y.value).forEach(Oe=>{Oe.startsWith(`${b}-`)&&delete Y.value[Oe]})):(Y.value[f]=!0,Y.value[`${b}-locomotive`]=!0,Y.value[`${b}-information`]=!0,Y.value[`${b}-location`]=!0,Y.value[`${b}-fuel`]=!0,Y.value[`${b}-energy`]=!0,Y.value[`${b}-krpd`]=!0)},fe=(_,o)=>{o&&(o.preventDefault(),o.stopPropagation()),re.value[_]=!re.value[_]},S=_=>{const[o]=_.split("-"),h=parseInt(o);return Y.value[`locomotive-${h}`]===!0?!0:Y.value[_]===!0},j=_=>re.value[_]===!0,x=(_,o)=>`${_}-${o}`,$=_=>`total-${_}`,Se=_=>{const o=[],h=W.value;return h==="liters"?o.push({label:l("table.initialValue")+" ["+l("table.l")+"]",value:_.fuel_initial_liters||"4500"},{label:l("table.finalValue")+" ["+l("table.l")+"]",value:_.fuel_final_liters||"3200"},{label:l("table.minValue")+" ["+l("table.l")+"]",value:_.fuel_min_liters||"1800"},{label:l("table.maxValue")+" ["+l("table.l")+"]",value:_.fuel_max_liters||"5000"},{label:l("table.refuelAmount")+" ["+l("table.l")+"]",value:_.fuel_refuel_liters||"800"},{label:l("table.drainAmount")+" ["+l("table.l")+"]",value:_.fuel_drain_liters||"200"},{label:l("table.actualConsumption")+" ["+l("table.l")+"]",value:_.fuel_actual_liters||"1300"},{label:l("table.averageHourlyConsumption")+" ["+l("table.l")+"]",value:_.fuel_hourly_liters||"65"},{label:l("table.normativeConsumption")+" ["+l("table.l")+"]",value:_.fuel_normative_liters||"1200"},{label:l("table.actualSpecificConsumption")+" ["+l("table.l")+"]",value:_.fuel_specific_liters||"0.25"}):h==="liters20C"?o.push({label:l("table.initialValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_initial_liters20C||"4400"},{label:l("table.finalValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_final_liters20C||"3100"},{label:l("table.minValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_min_liters20C||"1750"},{label:l("table.maxValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_max_liters20C||"4900"},{label:l("table.refuelAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_refuel_liters20C||"780"},{label:l("table.drainAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_drain_liters20C||"195"},{label:l("table.actualConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_actual_liters20C||"1270"},{label:l("table.averageHourlyConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_hourly_liters20C||"63"},{label:l("table.normativeConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_normative_liters20C||"1170"},{label:l("table.actualSpecificConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_specific_liters20C||"0.24"}):h==="kilograms"&&o.push({label:l("table.initialValue")+" ["+l("table.kg")+"]",value:_.fuel_initial_kilograms||"3825"},{label:l("table.finalValue")+" ["+l("table.kg")+"]",value:_.fuel_final_kilograms||"2720"},{label:l("table.minValue")+" ["+l("table.kg")+"]",value:_.fuel_min_kilograms||"1530"},{label:l("table.maxValue")+" ["+l("table.kg")+"]",value:_.fuel_max_kilograms||"4250"},{label:l("table.refuelAmount")+" ["+l("table.kg")+"]",value:_.fuel_refuel_kilograms||"680"},{label:l("table.drainAmount")+" ["+l("table.kg")+"]",value:_.fuel_drain_kilograms||"170"},{label:l("table.actualConsumption")+" ["+l("table.kg")+"]",value:_.fuel_actual_kilograms||"1105"},{label:l("table.averageHourlyConsumption")+" ["+l("table.kg")+"]",value:_.fuel_hourly_kilograms||"55"},{label:l("table.normativeConsumption")+" ["+l("table.kg")+"]",value:_.fuel_normative_kilograms||"1020"},{label:l("table.actualSpecificConsumption")+" ["+l("table.kg")+"]",value:_.fuel_specific_kilograms||"0.21"}),o},v=P(-1),U=P(-1),Le=[{iconComponent:Ol,value:"info",label:"Info"},{iconComponent:gl,value:"message",label:"Message"},{iconComponent:Fl,value:"total",label:"total"},{iconComponent:yl,value:"events",label:"events"}],Ae=[{iconComponent:Yl,value:"locomotive",label:"Locomotive"},{iconComponent:Nl,value:"information",label:"Information"},{iconComponent:Ul,value:"location",label:"Location"},{iconComponent:wl,value:"fuel",label:"Fuel"},{iconComponent:Cl,value:"energy",label:"Energy"},{iconComponent:jl,value:"krpd",label:"Krpd"}],ze=[{iconComponent:vt,value:"one",label:"one"},{iconComponent:mt,value:"two",label:"two"},{iconComponent:kt,value:"all",label:"all"}],Ke=[{iconComponent:gl,value:"route",label:"route"},{iconComponent:wl,value:"fuel",label:"fuel"},{iconComponent:Cl,value:"electricity",label:"electricity"}],We=H(()=>{const _=Le.findIndex(h=>h.value===le.value);return{width:`${100/Le.length}%`,transform:`translateX(${_*100}%)`}}),Je=H(()=>{const _=Ae.findIndex(h=>h.value===ae.value);return{width:`${100/Ae.length}%`,transform:`translateX(${_*100}%)`}}),Vl=H(()=>{const _=ze.findIndex(h=>h.value===ne.value);return{width:`${100/ze.length}%`,transform:`translateX(${_*100}%)`}}),u=H(()=>z.value.length===0?[]:xe.value.filter(_=>z.value.includes(_.id)).map((_,o)=>({id:o+1,originalId:_.id,series:_.nameLoco||"Не указано",number:_.number,tabNumber:_.boardNumber,workType:_.date?"Данные получены":"Нет данных",weight:"120 т",carNumber:"15",axisNumber:"6",bortDate:_.date||"Не указано",bortTime:"14:30:25",speed:"75",stopTime:"5 мин",pressure:"5.2 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7558°",longitude:"37.6173°",volume:"4500",volume20:"4400",temp:"15°C",density:"850 кг/м³",mass:"3825",instantPowerActive:"1500 кВт",instantPowerReactive:"800 кВАр",instantPowerFull:"1700 кВА",voltage:"3000 В",current:"500 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1500",fuel_initial_liters:"4500",fuel_final_liters:"3200",fuel_min_liters:"1800",fuel_max_liters:"5000",fuel_refuel_liters:"800",fuel_drain_liters:"200",fuel_actual_liters:"1300",fuel_hourly_liters:"65",fuel_normative_liters:"1200",fuel_specific_liters:"0.25",fuel_initial_liters20C:"4400",fuel_final_liters20C:"3100",fuel_min_liters20C:"1750",fuel_max_liters20C:"4900",fuel_refuel_liters20C:"780",fuel_drain_liters20C:"195",fuel_actual_liters20C:"1270",fuel_hourly_liters20C:"63",fuel_normative_liters20C:"1170",fuel_specific_liters20C:"0.24",fuel_initial_kilograms:"3825",fuel_final_kilograms:"2720",fuel_min_kilograms:"1530",fuel_max_kilograms:"4250",fuel_refuel_kilograms:"680",fuel_drain_kilograms:"170",fuel_actual_kilograms:"1105",fuel_hourly_kilograms:"55",fuel_normative_kilograms:"1020",fuel_specific_kilograms:"0.21",electricity_active_forward:"1200",electricity_active_reverse:"50",electricity_reactive_forward:"800",electricity_reactive_reverse:"30",electricity_min_voltage:"2800",electricity_max_voltage:"3200"}))),Qe=H(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const o=100/_,h=v.value+1;return{width:`${o}%`,transform:`translateX(${h*100}%)`}}),Ze=H(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const o=100/_,h=y.value+1;return{width:`${o}%`,transform:`translateX(${h*100}%)`}}),el=H(()=>{const _=Ke.findIndex(h=>h.value===M.value);return{width:`${100/Ke.length}%`,transform:`translateX(${_*100}%)`}}),ll=P([{date:"2024-01-15",time:"14:30:25",tabNumber:"12345",locomotive:"0001",additionalInfo:"Дополнительная регистрация на участке"},{date:"2024-01-15",time:"10:15:10",tabNumber:"23456",locomotive:"0002",idleDuration:"2 ч 30 мин",idleReason:"Ожидание состава"},{date:"2024-01-14",time:"16:20:30",tabNumber:"45678",locomotive:"0004",rfidCode:"RFID-001234",location:"Станция Москва-Товарная"},{date:"2024-01-13",time:"08:05:45",tabNumber:"34567",locomotive:"0003",violationType:"Превышение скорости",description:"Превышение на 15 км/ч на участке 25 км"},{date:"2024-01-12",time:"22:10:15",tabNumber:"12345",locomotive:"0001",additionalInfo:"Повторная регистрация"}]),ye=H(()=>{if(z.value.length===0)return[];const _=xe.value.filter(o=>z.value.includes(o.id)).map(o=>o.number);if(U.value!==-1&&u.value[U.value]){const o=u.value[U.value];return ll.value.filter(h=>h.locomotive===o.number)}return ll.value.filter(o=>_.includes(o.locomotive))}),tl=H(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const o=100/_,h=U.value+1;return{width:`${o}%`,transform:`translateX(${h*100}%)`}}),Xe=H(()=>{switch(ne.value){case"one":return{one:!0,two:!1,three:!1};case"two":return{one:!1,two:!0,three:!1};case"all":return{one:!1,two:!1,three:!0};default:return{one:!0,two:!1,three:!1}}}),Me=P(),K=bl({datestart:"",dateend:"",timestart:"00:00:00",timeend:"23:59:59"}),al=bl({datestart:[{type:"date",required:!0,message:"Выберите дату начала",trigger:"change"}],dateend:[{type:"date",required:!0,message:"Выберите дату окончания",trigger:"change"},{validator:(_,o,h)=>{if(!K.datestart||!K.dateend){h(new Error("Обе даты обязательны"));return}const b=new Date(K.datestart);new Date(K.dateend)<=b?h(new Error("Дата окончания должна быть позже даты начала")):h()},trigger:"change"}]}),sl=async _=>{_&&await _.validate((o,h)=>{o?console.log("submit!"):console.log("error submit!",h)})},ol=(_,o)=>{o.preventDefault(),o.stopPropagation(),le.value=_},nl=(_,o)=>{o.preventDefault(),o.stopPropagation(),ae.value=_},Tl=(_,o)=>{o.preventDefault(),o.stopPropagation(),ne.value=_},Re=(_,o)=>{if(o.preventDefault(),o.stopPropagation(),u.value.length===0){Ve.warning("Сначала выберите локомотивы в таблице");return}v.value=_},$e=(_,o)=>{if(o.preventDefault(),o.stopPropagation(),u.value.length===0){Ve.warning("Сначала выберите локомотивы в таблице");return}y.value=_},rl=(_,o)=>{o.preventDefault(),o.stopPropagation(),M.value=_},il=(_,o)=>{o&&(o.preventDefault(),o.stopPropagation()),E.value=_},Ee=(_,o)=>{if(o.preventDefault(),o.stopPropagation(),u.value.length===0){Ve.warning("Сначала выберите локомотивы в таблице");return}U.value=_};ce(le,_=>{Object.keys(A.value).forEach(o=>{A.value[o]=!1}),A.value[_]=!0}),ce(ae,_=>{Object.keys(D.value).forEach(o=>{D.value[o]=!1}),D.value[_]=!0}),ce(M,_=>{Object.keys(F.value).forEach(o=>{F.value[o]=!1}),F.value[_]=!0}),ce(E,_=>{Object.keys(Ge.value).forEach(o=>{Ge.value[o]=!1}),Ge.value[_]=!0}),ce(le,_=>{Object.keys(A.value).forEach(o=>{A.value[o]=!1}),A.value[_]=!0});const we=P(window.innerWidth),_l=()=>{we.value=window.innerWidth};qe(()=>{window.addEventListener("resize",_l)}),Pl(()=>{window.removeEventListener("resize",_l)});const ie=P(""),Ie=H(()=>{let _=xe.value;return ie.value&&(_=_.filter(o=>{var h,b,f;return((h=o.type)==null?void 0:h.toLowerCase().includes(ie.value.toLowerCase()))||((b=o.number)==null?void 0:b.toLowerCase().includes(ie.value.toLowerCase()))||((f=o.date)==null?void 0:f.toLowerCase().includes(ie.value.toLowerCase()))})),_}),je=P([]),ul=P([]),_e=P(),se=P(""),Ce=P(!0),g=({rowIndex:_})=>_%2===1?"bg_gray":"",Dl=_=>{if(!_){_e.value=void 0,se.value="";return}if(_e.value=_,_&&_.id){se.value=_.id.toString();const o=z.value.indexOf(_.id);o===-1?z.value.push(_.id):z.value.splice(o,1)}else se.value="";z.value.length===0&&(v.value=-1,y.value=-1,U.value=-1)},Sl=()=>{Ce.value=!Ce.value},Ll=_=>{if(!_){_e.value=void 0,z.value=[];return}const o=xe.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});o&&(_e.value=o,z.value=[o.id])},Al=_=>{ie.value=_};ce(se,_=>{if(_){const o=xe.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});o&&(_e.value=o)}else _e.value=void 0}),ce(_e,_=>{_&&_.id?se.value=_.id.toString():se.value=""});const xe=H(()=>je.value.length?je.value.map((o,h)=>{const b=ul.value.find(f=>f.NUMBER_ON_KPD===o.BOARD_NUMBER);return{id:h+1,type:o.LOCO||o.BOARD_NUMBER||"Не указан",number:o.BOARD_NUMBER||"Не указан",date:o.DATE_REC||"Не указана",boardNumber:o.BOARD_NUMBER||"Не указан",nameLoco:(b==null?void 0:b.NAME_LOCO)||o.LOCO||"Не указано"}}):[]),dl=[{value:"dop_reg",label:'Дополнительная регистрация ("П")'},{value:"idle",label:"Простои локомотива"},{value:"tab_change",label:"Смена табельного номера"},{value:"rfid",label:"Прохождение RFID-метки"},{value:"violations",label:"Нарушения эксплуатации"}],Kl=async()=>{try{const _=await kl("post","/api/get-table",{Table:"LOCOMOTIVES"});_.data&&_.data.data&&Array.isArray(_.data.data)?je.value=_.data.data:console.warn("API не вернуло ожидаемые данные:",_.data)}catch(_){Ve({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{Te.value=!1}},Ml=async()=>{try{const _=await kl("post","/api/get-table",{Table:"LOCO"});_.data&&_.data.data&&Array.isArray(_.data.data)?ul.value=_.data.data:console.warn("API LOCO не вернуло ожидаемые данные:",_.data)}catch(_){Ve({message:_.message,type:"error"}),console.error("Ошибка загрузки LOCO:",_)}};return qe(()=>{Kl(),Ml()}),(_,o)=>{const h=I("el-icon"),b=I("el-table-column"),f=I("el-table"),Pe=I("el-button"),Oe=I("el-input"),Fe=I("el-date-picker"),Ne=I("el-time-picker"),Ue=I("el-form-item"),cl=I("el-form"),ue=I("el-option"),de=I("el-select"),vl=I("el-pagination"),T=I("el-checkbox"),ge=I("el-checkbox-group");return i(),d(k,null,[n(Bl),Te.value?(i(),L(zl,{key:0})):(i(),d("section",wt,[e("div",Ct,[e("div",xt,[e("div",Pt,[we.value>=1280?(i(),d("div",Vt,[e("div",Tt,[e("div",Dt,[e("div",St,[e("div",Lt,[e("div",{class:"segmented__indicator",style:B(We.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":le.value===t.value}]),onClick:C(c=>ol(t.value,c),["prevent"]),onMousedown:o[0]||(o[0]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":le.value===t.value},[e("div",Kt,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,At)),64))])])]),Q(e("div",{class:p(["history__left_table",{active:A.value.info}])},[e("div",Mt,[n(f,{ref:"oneTableRef",data:Ie.value,"highlight-current-row":"","row-class-name":g,onCurrentChange:Dl,style:B({maxHeight:Ce.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",It,s(a(l)("table.noData")),1)]),default:r(()=>[n(b,{"header-align":"center"},{header:r(()=>[e("span",{class:p(["el-table_top",{active:Ce.value}]),onClick:Sl},[e("span",Rt,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",$t,s(Ie.value.length),1)]),e("span",Et,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],2)]),default:r(()=>[n(b,{property:"type",sortable:"",label:a(l)("table.type")},null,8,["label"]),n(b,{property:"number",sortable:"",label:a(l)("table.number")},null,8,["label"]),n(b,{property:"date",sortable:"",label:a(l)("table.date")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),Ce.value?(i(),d("div",Ot,[e("div",Ft,[e("div",Nt,[n(Oe,{modelValue:ie.value,"onUpdate:modelValue":o[1]||(o[1]=t=>ie.value=t),placeholder:a(l)("sort.search")},{prepend:r(()=>[n(Pe,{icon:a(Rl),title:a(l)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):m("",!0)]),e("div",Ut,[n(cl,{ref_key:"addStatusFormRef",ref:Me,model:K,rules:al,"label-position":"top","label-width":"auto"},{default:r(()=>[n(Ue,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",Bt,[n(Fe,{modelValue:K.datestart,"onUpdate:modelValue":o[2]||(o[2]=t=>K.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),n(Ne,{modelValue:K.timestart,"onUpdate:modelValue":o[3]||(o[3]=t=>K.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),n(Ue,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",Yt,[n(Fe,{modelValue:K.dateend,"onUpdate:modelValue":o[4]||(o[4]=t=>K.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),n(Ne,{modelValue:K.timeend,"onUpdate:modelValue":o[5]||(o[5]=t=>K.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:o[6]||(o[6]=t=>sl(Me.value))},[e("span",Ht,[n(h,null,{default:r(()=>[(i(),L(N(a(hl))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",Gt,[e("span",zt,[n(h,null,{default:r(()=>[(i(),L(N(a(pl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:ee},[e("span",Xt,[n(h,null,{default:r(()=>[(i(),L(N(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",jt,[e("span",qt,[n(h,null,{default:r(()=>[(i(),L(N(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[Z,A.value.info]]),Q(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",Wt,[e("div",{class:"segmented__indicator",style:B(Qe.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:o[7]||(o[7]=C(t=>Re(-1,t),["prevent"])),onMousedown:o[8]||(o[8]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",Qt,[e("span",Zt,s(a(l)("button.all")),1)])],42,Jt),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(J=>Re(c,J),["prevent"]),onMousedown:o[9]||(o[9]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",la,[e("span",ta,s(t.number),1)])],42,ea))),128))])):m("",!0),u.value.length===0?(i(),d("div",aa,[e("p",sa,s(a(l)("table.noLocomotivesSelected")),1),o[49]||(o[49]=e("p",{class:"text_four"},"Выберите локомотивы в таблице выше",-1))])):(i(),d("div",oa,[e("div",na,[e("div",{class:"segmented__indicator",style:B(Je.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":ae.value===t.value}]),onClick:C(c=>nl(t.value,c),["prevent"]),onMousedown:o[10]||(o[10]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":ae.value===t.value},[e("div",ia,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,ra)),64))]),e("div",_a,[v.value===-1?(i(),d("div",ua,[D.value.locomotive?(i(),d("div",da,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"locomotive"))}]),onClick:c=>X(x(t.id,"locomotive"),c)},[e("p",va,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",ba,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,ca),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"locomotive"))}])},[n(f,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",ha,s(c.row.label),1),e("span",pa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.information?(i(),d("div",ma,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"information"))}]),onClick:c=>X(x(t.id,"information"),c)},[e("p",ya,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",ga,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,fa),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"information"))}])},[n(f,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",ka,s(c.row.label),1),e("span",wa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.location?(i(),d("div",Ca,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"location"))}]),onClick:c=>X(x(t.id,"location"),c)},[e("p",Pa,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",Va,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,xa),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"location"))}])},[n(f,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Ta,s(c.row.label),1),e("span",Da,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.fuel?(i(),d("div",Sa,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"fuel"))}]),onClick:c=>X(x(t.id,"fuel"),c)},[e("p",Aa,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",Ka,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,La),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"fuel"))}])},[n(f,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Ma,s(c.row.label),1),e("span",Ra,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.energy?(i(),d("div",$a,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"energy"))}]),onClick:c=>X(x(t.id,"energy"),c)},[e("p",Ia,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",Oa,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Ea),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"energy"))}])},[n(f,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Fa,s(c.row.label),1),e("span",Na,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.krpd?(i(),d("div",Ua,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"krpd"))}]),onClick:c=>X(x(t.id,"krpd"),c)},[e("p",Ya,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",Ha,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Ba),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"krpd"))}])},[n(f,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Ga,s(c.row.label),1),e("span",za,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0)])):u.value[v.value]?(i(),d("div",Xa,[D.value.locomotive?(i(),d("div",ja,[e("div",qa,[e("p",Wa,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",Ja,[n(f,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Qa,s(t.row.label),1),e("span",Za,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.information?(i(),d("div",es,[e("div",ls,[e("p",ts,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",as,[n(f,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",ss,s(t.row.label),1),e("span",os,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.location?(i(),d("div",ns,[e("div",rs,[e("p",is,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",_s,[n(f,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",us,s(t.row.label),1),e("span",ds,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.fuel?(i(),d("div",cs,[e("div",vs,[e("p",bs,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",hs,[n(f,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",ps,s(t.row.label),1),e("span",ms,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.energy?(i(),d("div",fs,[e("div",ys,[e("p",gs,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",ks,[n(f,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",ws,s(t.row.label),1),e("span",Cs,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.krpd?(i(),d("div",xs,[e("div",Ps,[e("p",Vs,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",Ts,[n(f,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Ds,s(t.row.label),1),e("span",Ss,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0)])):m("",!0)])]))],2),[[Z,A.value.message]]),Q(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",Ls,[e("div",{class:"segmented__indicator",style:B(Ze.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:o[11]||(o[11]=C(t=>$e(-1,t),["prevent"])),onMousedown:o[12]||(o[12]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",Ks,[e("span",Ms,s(a(l)("button.all")),1)])],42,As),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(J=>$e(c,J),["prevent"]),onMousedown:o[13]||(o[13]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",$s,[e("span",Es,s(t.number),1)])],42,Rs))),128))])):m("",!0),u.value.length===0?(i(),d("div",Is,[e("p",Os,s(a(l)("table.noLocomotivesSelected")),1),o[50]||(o[50]=e("p",{class:"text_four"},"Выберите локомотивы в таблице выше",-1))])):(i(),d("div",Fs,[e("div",Ns,[e("div",{class:"segmented__indicator",style:B(el.value)},null,4),(i(),d(k,null,w(Ke,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":M.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:o[14]||(o[14]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":M.value===t.value},[e("div",Bs,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Us)),64))]),e("div",Ys,[y.value===-1?(i(),d("div",Hs,[F.value.route?(i(),d("div",Gs,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",Xs,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",js,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,zs),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",qs,s(c.row.label),1),e("span",Ws,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),F.value.fuel?(i(),d("div",Js,[e("div",Qs,[n(de,{modelValue:W.value,"onUpdate:modelValue":o[15]||(o[15]=t=>W.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(De,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",eo,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",lo,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Zs),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:Se(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",to,s(c.row.label),1),e("span",ao,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),F.value.electricity?(i(),d("div",so,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",no,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",ro,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,oo),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",io,s(c.row.label),1),e("span",_o,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0)])):u.value[y.value]?(i(),d("div",uo,[F.value.route?(i(),d("div",co,[e("div",vo,[e("div",bo,[e("p",ho,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",po,[n(f,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",mo,s(t.row.label),1),e("span",fo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0),F.value.fuel?(i(),d("div",yo,[e("div",go,[n(de,{modelValue:W.value,"onUpdate:modelValue":o[16]||(o[16]=t=>W.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(De,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",ko,[e("div",wo,[e("p",Co,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",xo,[n(f,{data:Se(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Po,s(t.row.label),1),e("span",Vo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0),F.value.electricity?(i(),d("div",To,[e("div",Do,[e("div",So,[e("p",Lo,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Ao,[n(f,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Ko,s(t.row.label),1),e("span",Mo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0)])):m("",!0)])]))],2),[[Z,A.value.total]]),Q(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",Ro,[e("div",{class:"segmented__indicator",style:B(tl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":U.value===-1}]),onClick:o[17]||(o[17]=C(t=>Ee(-1,t),["prevent"])),onMousedown:o[18]||(o[18]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":U.value===-1},[e("div",Eo,[e("span",Io,s(a(l)("button.all")),1)])],42,$o),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":U.value===c}]),onClick:C(J=>Ee(c,J),["prevent"]),onMousedown:o[19]||(o[19]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":U.value===c},[e("div",Fo,[e("span",No,s(t.number),1)])],42,Oo))),128))])):m("",!0),u.value.length===0?(i(),d("div",Uo,[e("p",Bo,s(a(l)("table.noLocomotivesSelected")),1),o[51]||(o[51]=e("p",{class:"text_four"},"Выберите локомотивы в таблице выше",-1))])):(i(),d("div",Yo,[e("div",Ho,[n(de,{modelValue:E.value,"onUpdate:modelValue":o[20]||(o[20]=t=>E.value=t),placeholder:a(l)("button.select"),onChange:il,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(dl,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Go,[n(f,{data:ye.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",zo,s(a(l)("table.noData")),1)]),default:r(()=>[n(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),n(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),n(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),n(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"]),E.value==="dop_reg"?(i(),L(b,{key:0,prop:"additionalInfo",label:a(l)("table.additionalInfo"),"min-width":"200"},null,8,["label"])):m("",!0),E.value==="idle"?(i(),L(b,{key:1,prop:"idleDuration",label:a(l)("table.idleDuration"),width:"120"},null,8,["label"])):m("",!0),E.value==="rfid"?(i(),L(b,{key:2,prop:"rfidCode",label:a(l)("table.rfidCode"),width:"150"},null,8,["label"])):m("",!0),E.value==="violations"?(i(),L(b,{key:3,prop:"violationType",label:a(l)("table.violationType"),width:"180"},null,8,["label"])):m("",!0)]),_:1},8,["data"]),ye.value.length>10?(i(),d("div",Xo,[n(vl,{"page-size":10,layout:"prev, pager, next",total:ye.value.length,small:""},null,8,["total"])])):m("",!0)])]))],2),[[Z,A.value.events]])])])):m("",!0),e("div",jo,[we.value<=1279?(i(),d("div",qo,[e("p",Wo,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",Jo,s(Ie.value.length),1),z.value.length>0?(i(),d("span",Qo," (Выбрано: "+s(z.value.length)+") ",1)):m("",!0)]),n(de,{modelValue:se.value,"onUpdate:modelValue":o[21]||(o[21]=t=>se.value=t),filterable:"",placeholder:a(l)("button.select"),onChange:Ll,"filter-method":Al,class:"segmented__select"},{empty:r(()=>[e("div",en,s(a(l)("table.noData")),1)]),default:r(()=>[(i(!0),d(k,null,w(Ie.value,t=>{var c;return i(),L(ue,{key:t.id,label:`${t.type} - ${t.number}`,value:((c=t.id)==null?void 0:c.toString())||""},{default:r(()=>[e("div",Zo,[e("span",null,s(t.type),1),e("span",null,s(t.number),1),e("span",null,s(t.date),1)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):m("",!0),e("div",ln,[n(Hl)]),e("div",tn,[e("div",an,[n(Pe,{class:"history__charts_button",type:"primary",icon:a($l)},null,8,["icon"]),n(Pe,{class:"history__charts_button",type:"primary",icon:a(El)},null,8,["icon"]),n(Pe,{class:"history__charts_button",type:"primary",icon:a(yl)},null,8,["icon"]),e("div",sn,[e("div",{class:"segmented__indicator",style:B(Vl.value)},null,4),(i(),d(k,null,w(ze,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":ne.value===t.value}]),onClick:C(c=>Tl(t.value,c),["prevent"]),onMousedown:o[22]||(o[22]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":ne.value===t.value},[e("div",nn,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two",title:t.label},null,8,["title"]))])],42,on)),64))]),n(_t)]),Q(e("div",rn,[e("div",{ref_key:"chartContainer",ref:me},null,512)],512),[[Z,Xe.value.one]]),Q(e("div",_n,o[52]||(o[52]=[e("div",null,"График 2 - скоро будет реализован",-1)]),512),[[Z,Xe.value.two]]),Q(e("div",un,o[53]||(o[53]=[e("div",null,"График 3 - скоро будет реализован",-1)]),512),[[Z,Xe.value.three]])]),we.value<=1279?(i(),d("div",dn,[we.value<=1279?(i(),d("div",cn,[e("div",{class:"segmented__indicator",style:B(We.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":le.value===t.value}]),onClick:C(c=>ol(t.value,c),["prevent"]),onMousedown:o[23]||(o[23]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":le.value===t.value},[e("div",bn,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,vn)),64))])):m("",!0),Q(e("div",{class:p(["history__table",{active:A.value.info}])},[e("div",hn,[n(cl,{ref_key:"addStatusFormRef",ref:Me,model:K,rules:al,"label-position":"top","label-width":"auto"},{default:r(()=>[n(Ue,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",pn,[n(Fe,{modelValue:K.datestart,"onUpdate:modelValue":o[24]||(o[24]=t=>K.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),n(Ne,{modelValue:K.timestart,"onUpdate:modelValue":o[25]||(o[25]=t=>K.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),n(Ue,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",mn,[n(Fe,{modelValue:K.dateend,"onUpdate:modelValue":o[26]||(o[26]=t=>K.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),n(Ne,{modelValue:K.timeend,"onUpdate:modelValue":o[27]||(o[27]=t=>K.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:o[28]||(o[28]=t=>sl(Me.value))},[e("span",fn,[n(h,null,{default:r(()=>[(i(),L(N(a(hl))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",yn,[e("span",gn,[n(h,null,{default:r(()=>[(i(),L(N(a(pl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:ee},[e("span",kn,[n(h,null,{default:r(()=>[(i(),L(N(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",wn,[e("span",Cn,[n(h,null,{default:r(()=>[(i(),L(N(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[Z,A.value.info]]),Q(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",xn,[e("div",{class:"segmented__indicator",style:B(Qe.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:o[29]||(o[29]=C(t=>Re(-1,t),["prevent"])),onMousedown:o[30]||(o[30]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",Vn,[e("span",Tn,s(a(l)("button.all")),1)])],42,Pn),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(J=>Re(c,J),["prevent"]),onMousedown:o[31]||(o[31]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",Sn,[e("span",Ln,s(t.number),1)])],42,Dn))),128))])):m("",!0),u.value.length===0?(i(),d("div",An,[e("p",Kn,s(a(l)("table.noLocomotivesSelected")),1),o[54]||(o[54]=e("p",{class:"text_four"},"Выберите локомотивы в селекте выше",-1))])):(i(),d("div",Mn,[e("div",Rn,[e("div",{class:"segmented__indicator",style:B(Je.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":ae.value===t.value}]),onClick:C(c=>nl(t.value,c),["prevent"]),onMousedown:o[32]||(o[32]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":ae.value===t.value},[e("div",En,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,$n)),64))]),e("div",In,[v.value===-1?(i(),d("div",On,[D.value.locomotive?(i(),d("div",Fn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"locomotive"))}]),onClick:c=>X(x(t.id,"locomotive"),c)},[e("p",Un,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Bn,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Nn),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"locomotive"))}])},[n(f,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Yn,s(c.row.label),1),e("span",Hn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.information?(i(),d("div",Gn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"information"))}]),onClick:c=>X(x(t.id,"information"),c)},[e("p",Xn,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",jn,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,zn),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"information"))}])},[n(f,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",qn,s(c.row.label),1),e("span",Wn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.location?(i(),d("div",Jn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"location"))}]),onClick:c=>X(x(t.id,"location"),c)},[e("p",Zn,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",er,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Qn),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"location"))}])},[n(f,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",lr,s(c.row.label),1),e("span",tr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.fuel?(i(),d("div",ar,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"fuel"))}]),onClick:c=>X(x(t.id,"fuel"),c)},[e("p",or,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",nr,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,sr),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"fuel"))}])},[n(f,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",rr,s(c.row.label),1),e("span",ir,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.energy?(i(),d("div",_r,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"energy"))}]),onClick:c=>X(x(t.id,"energy"),c)},[e("p",dr,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",cr,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,ur),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"energy"))}])},[n(f,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",vr,s(c.row.label),1),e("span",br,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),D.value.krpd?(i(),d("div",hr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!S(x(t.id,"krpd"))}]),onClick:c=>X(x(t.id,"krpd"),c)},[e("p",mr,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",fr,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,pr),e("div",{class:p(["history__tab_container",{collapsed:S(x(t.id,"krpd"))}])},[n(f,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",yr,s(c.row.label),1),e("span",gr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0)])):u.value[v.value]?(i(),d("div",kr,[D.value.locomotive?(i(),d("div",wr,[e("div",Cr,[e("p",xr,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",Pr,[n(f,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Vr,s(t.row.label),1),e("span",Tr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.information?(i(),d("div",Dr,[e("div",Sr,[e("p",Lr,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",Ar,[n(f,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Kr,s(t.row.label),1),e("span",Mr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.location?(i(),d("div",Rr,[e("div",$r,[e("p",Er,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",Ir,[n(f,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Or,s(t.row.label),1),e("span",Fr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.fuel?(i(),d("div",Nr,[e("div",Ur,[e("p",Br,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",Yr,[n(f,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Hr,s(t.row.label),1),e("span",Gr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.energy?(i(),d("div",zr,[e("div",Xr,[e("p",jr,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",qr,[n(f,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Wr,s(t.row.label),1),e("span",Jr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0),D.value.krpd?(i(),d("div",Qr,[e("div",Zr,[e("p",ei,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",li,[n(f,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",ti,s(t.row.label),1),e("span",ai,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):m("",!0)])):m("",!0)])]))],2),[[Z,A.value.message]]),Q(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",si,[e("div",{class:"segmented__indicator",style:B(Ze.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:o[33]||(o[33]=C(t=>$e(-1,t),["prevent"])),onMousedown:o[34]||(o[34]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",ni,[e("span",ri,s(a(l)("button.all")),1)])],42,oi),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(J=>$e(c,J),["prevent"]),onMousedown:o[35]||(o[35]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",_i,[e("span",ui,s(t.number),1)])],42,ii))),128))])):m("",!0),u.value.length===0?(i(),d("div",di,[e("p",ci,s(a(l)("table.noLocomotivesSelected")),1),o[55]||(o[55]=e("p",{class:"text_four"},"Выберите локомотивы в селекте выше",-1))])):(i(),d("div",vi,[e("div",bi,[e("div",{class:"segmented__indicator",style:B(el.value)},null,4),(i(),d(k,null,w(Ke,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":M.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:o[36]||(o[36]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":M.value===t.value},[e("div",pi,[(i(),L(N(t.iconComponent),{class:"segmented__icon text_two"}))])],42,hi)),64))]),e("div",mi,[y.value===-1?(i(),d("div",fi,[F.value.route?(i(),d("div",yi,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",ki,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",wi,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,gi),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Ci,s(c.row.label),1),e("span",xi,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),F.value.fuel?(i(),d("div",Pi,[e("div",Vi,[n(de,{modelValue:W.value,"onUpdate:modelValue":o[37]||(o[37]=t=>W.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(De,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",Di,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Si,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Ti),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:Se(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Li,s(c.row.label),1),e("span",Ai,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0),F.value.electricity?(i(),d("div",Ki,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!j($(t.id))}]),onClick:c=>fe($(t.id),c)},[e("p",Ri,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",$i,[n(h,null,{default:r(()=>[n(a(R))]),_:1})])],10,Mi),e("div",{class:p(["history__tab_container",{collapsed:j($(t.id))}])},[n(f,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(c=>[e("span",Ei,s(c.row.label),1),e("span",Ii,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):m("",!0)])):u.value[y.value]?(i(),d("div",Oi,[F.value.route?(i(),d("div",Fi,[e("div",Ni,[e("div",Ui,[e("p",Bi,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Yi,[n(f,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Hi,s(t.row.label),1),e("span",Gi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0),F.value.fuel?(i(),d("div",zi,[e("div",Xi,[n(de,{modelValue:W.value,"onUpdate:modelValue":o[38]||(o[38]=t=>W.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(De,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",ji,[e("div",qi,[e("p",Wi,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Ji,[n(f,{data:Se(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",Qi,s(t.row.label),1),e("span",Zi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0),F.value.electricity?(i(),d("div",e_,[e("div",l_,[e("div",t_,[e("p",a_,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",s_,[n(f,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[n(b,null,{default:r(t=>[e("span",o_,s(t.row.label),1),e("span",n_,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):m("",!0)])):m("",!0)])]))],2),[[Z,A.value.total]]),Q(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",r_,[e("div",{class:"segmented__indicator",style:B(tl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":U.value===-1}]),onClick:o[39]||(o[39]=C(t=>Ee(-1,t),["prevent"])),onMousedown:o[40]||(o[40]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":U.value===-1},[e("div",__,[e("span",u_,s(a(l)("button.all")),1)])],42,i_),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":U.value===c}]),onClick:C(J=>Ee(c,J),["prevent"]),onMousedown:o[41]||(o[41]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":U.value===c},[e("div",c_,[e("span",v_,s(t.number),1)])],42,d_))),128))])):m("",!0),u.value.length===0?(i(),d("div",b_,[e("p",h_,s(a(l)("table.noLocomotivesSelected")),1),o[56]||(o[56]=e("p",{class:"text_four"},"Выберите локомотивы в селекте выше",-1))])):(i(),d("div",p_,[e("div",m_,[n(de,{modelValue:E.value,"onUpdate:modelValue":o[42]||(o[42]=t=>E.value=t),placeholder:a(l)("button.selectEventType"),onChange:il,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(dl,t=>n(ue,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",f_,[n(f,{data:ye.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",y_,s(a(l)("table.noData")),1)]),default:r(()=>[n(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),n(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),n(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),n(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"])]),_:1},8,["data"]),ye.value.length>10?(i(),d("div",g_,[n(vl,{"page-size":10,layout:"prev, pager, next",total:ye.value.length,small:""},null,8,["total"])])):m("",!0)])]))],2),[[Z,A.value.events]])])):m("",!0)])])])])])),e("div",{class:p(["overlay_full",{active:G.value}]),onClick:q},null,2),e("div",{class:p(["history_popup popup",{active:te.value}])},[e("div",k_,[e("div",w_,[e("button",{class:"history_popup__close popup__close",onClick:ee},[n(h,null,{default:r(()=>[n(a(Il))]),_:1})]),e("h4",C_,s(a(l)("history.selectingParameters")),1),e("ul",x_,[e("li",P_,[e("h5",V_,s(a(l)("history.main")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[43]||(o[43]=t=>O.value=t)},{default:r(()=>[e("div",T_,[n(T,{label:"speedKmh",name:"speedKmh"},{default:r(()=>[V(s(a(l)("history.speedKmh")),1)]),_:1})]),e("div",D_,[n(T,{label:"brakePipePressureKgfCm2",name:"brakePipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakePipePressureKgfCm2")),1)]),_:1})]),e("div",S_,[n(T,{label:"brakeCylinderPressureKgfCm2",name:"brakeCylinderPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakeCylinderPressureKgfCm2")),1)]),_:1})]),e("div",L_,[n(T,{label:"feedPipePressureKgfCm2",name:"feedPipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.feedPipePressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",A_,[e("h5",K_,s(a(l)("history.fuelParameters")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[44]||(o[44]=t=>O.value=t)},{default:r(()=>[e("div",M_,[n(T,{label:"fuelVolumeL",name:"fuelVolumeL"},{default:r(()=>[V(s(a(l)("history.fuelVolumeL")),1)]),_:1})]),e("div",R_,[n(T,{label:"fuelVolume20C",name:"fuelVolume20C"},{default:r(()=>[V(s(a(l)("history.fuelVolume20C")),1)]),_:1})]),e("div",$_,[n(T,{label:"fuelMassKg",name:"fuelMassKg"},{default:r(()=>[V(s(a(l)("history.fuelMassKg")),1)]),_:1})]),e("div",E_,[n(T,{label:"filterFuelReadings",name:"filterFuelReadings"},{default:r(()=>[V(s(a(l)("history.filterFuelReadings")),1)]),_:1})]),e("div",I_,[n(T,{label:"fuelTemperatureC",name:"fuelTemperatureC"},{default:r(()=>[V(s(a(l)("history.fuelTemperatureC")),1)]),_:1})]),e("div",O_,[n(T,{label:"fuelDensityKgM3",name:"fuelDensityKgM3"},{default:r(()=>[V(s(a(l)("history.fuelDensityKgM3")),1)]),_:1})]),e("div",F_,[n(T,{label:"movingAverage",name:"movingAverage"},{default:r(()=>[V(s(a(l)("history.movingAverage")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",N_,[e("h5",U_,s(a(l)("history.dieselParameters")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[45]||(o[45]=t=>O.value=t)},{default:r(()=>[e("div",B_,[n(T,{label:"tractionGeneratorCurrentA",name:"tractionGeneratorCurrentA"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorCurrentA")),1)]),_:1})]),e("div",Y_,[n(T,{label:"tractionGeneratorVoltageV",name:"tractionGeneratorVoltageV"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorVoltageV")),1)]),_:1})]),e("div",H_,[n(T,{label:"tractionGeneratorPowerKw",name:"tractionGeneratorPowerKw"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorPowerKw")),1)]),_:1})]),e("div",G_,[n(T,{label:"dieselEngineRpm",name:"dieselEngineRpm"},{default:r(()=>[V(s(a(l)("history.dieselEngineRpm")),1)]),_:1})]),e("div",z_,[n(T,{label:"waterTemperatureC",name:"waterTemperatureC"},{default:r(()=>[V(s(a(l)("history.waterTemperatureC")),1)]),_:1})]),e("div",X_,[n(T,{label:"oilTemperatureC",name:"oilTemperatureC"},{default:r(()=>[V(s(a(l)("history.oilTemperatureC")),1)]),_:1})]),e("div",j_,[n(T,{label:"oilPressureKgfCm2",name:"oilPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.oilPressureKgfCm2")),1)]),_:1})]),e("div",q_,[n(T,{label:"fuelPressureKgfCm2",name:"fuelPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.fuelPressureKgfCm2")),1)]),_:1})]),e("div",W_,[n(T,{label:"boostAirPressureKgfCm2",name:"boostAirPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.boostAirPressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",J_,[e("h5",Q_,s(a(l)("history.electricityParameters")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[46]||(o[46]=t=>O.value=t)},{default:r(()=>[e("div",Z_,[n(T,{label:"instantaneousActivePowerKw",name:"instantaneousActivePowerKw"},{default:r(()=>[V(s(a(l)("history.instantaneousActivePowerKw")),1)]),_:1})]),e("div",eu,[n(T,{label:"instantaneousReactivePowerKvar",name:"instantaneousReactivePowerKvar"},{default:r(()=>[V(s(a(l)("history.instantaneousReactivePowerKvar")),1)]),_:1})]),e("div",lu,[n(T,{label:"instantaneousApparentPowerKva",name:"instantaneousApparentPowerKva"},{default:r(()=>[V(s(a(l)("history.instantaneousApparentPowerKva")),1)]),_:1})]),e("div",tu,[n(T,{label:"voltageV",name:"voltageV"},{default:r(()=>[V(s(a(l)("history.voltageV")),1)]),_:1})]),e("div",au,[n(T,{label:"currentA",name:"currentA"},{default:r(()=>[V(s(a(l)("history.currentA")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",su,[e("h5",ou,s(a(l)("history.meteredElectricity")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[47]||(o[47]=t=>O.value=t)},{default:r(()=>[e("div",nu,[n(T,{label:"activeEnergyForwardKwh",name:"activeEnergyForwardKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyForwardKwh")),1)]),_:1})]),e("div",ru,[n(T,{label:"activeEnergyReverseKwh",name:"activeEnergyReverseKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyReverseKwh")),1)]),_:1})]),e("div",iu,[n(T,{label:"reactiveEnergyForwardKvarh",name:"reactiveEnergyForwardKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyForwardKvarh")),1)]),_:1})]),e("div",_u,[n(T,{label:"reactiveEnergyReverseKvarh",name:"reactiveEnergyReverseKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyReverseKvarh")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",uu,[e("h5",du,s(a(l)("history.additionalParameters")),1),n(ge,{class:"history_popup__flex",modelValue:O.value,"onUpdate:modelValue":o[48]||(o[48]=t=>O.value=t)},{default:r(()=>[e("div",cu,[n(T,{label:"driverControllerPosition",name:"driverControllerPosition"},{default:r(()=>[V(s(a(l)("history.driverControllerPosition")),1)]),_:1})]),e("div",vu,[n(T,{label:"als",name:"als"},{default:r(()=>[V(s(a(l)("history.als")),1)]),_:1})])]),_:1},8,["modelValue"])])])])]),e("div",bu,[e("button",{class:"popup__button button__second button",onClick:ee},[e("span",null,s(a(l)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:pe},[e("span",null,s(a(l)("button.save")),1)])])],2),n(Xl)],64)}}}),nd=ve(hu,[["__scopeId","data-v-c3025f86"]]);export{nd as default};
