import{d as il,b as g,e as p,f as De,m as Fe,U as ul,c as T,R as t,a as l,u as e,E as Q,Q as q,a4 as X,M as B,I as C,D as k,al as K,o as _,J as s,K as M,S as P,O as Ee,P as c,n as Dl,W as F,L as Z}from"./vendor-@vue-Bz_wJ882.js";import{B as al}from"./api-Cj-Fovd5.js";import{U as Ll,V as Vl,W as Sl,X as Ml,Y as Pl,Z as Rl,k as El,i as Ie,B as Il,A as $l,P as Fl,M as xe,_ as Ke,n as re,a as Ne,$ as Be,c as He,t as tl,a0 as ol,a1 as $e,a2 as Gl,a3 as Al,O as Ol,a4 as zl,a5 as sl}from"./vendor-@element-plus-CjGJe9ZW.js";import{H as Ul,L as We}from"./Header-R4nQ0FL2.js";import{O as ql}from"./OpenLayers-CvtRao0I.js";import{F as Kl}from"./Footer-Bgq-OY75.js";import{P as Bl}from"./Preloader-DXHygThh.js";import{E as Le}from"./vendor-element-plus-Cew9W0b1.js";import{u as Xe}from"./vendor-vue-i18n-DztdJ-Qd.js";import{_ as rl}from"./LogoSVG-DXGFwqtY.js";import{F as Hl,E as Wl,K as Xl}from"./krpdSVG-BUHFKTvo.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-router-0eOeNsIj.js";import"./index-Q0a9Y4WO.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-XbcaMJLe.js";import"./VideoPlayer-BqE5MUbI.js";import"./GoBack-SbBRVT5M.js";const jl={class:"voice"},Jl={class:"voice__controls"},Ql={class:"voice__controls_left"},Yl={key:0,class:"voice__membrane"},Zl={class:"voice__waves"},ea={class:"voice__controls_right"},la=il({__name:"VoicePlayer",props:{externalText:{}},emits:["toggleHelp","send"],setup(je,{emit:o}){const{locale:Ge}=Xe(),{t:w}=Xe(),ee=je,f={micDenied:g(()=>w("voice.microphoneDenied")),micNotFound:g(()=>w("voice.microphoneNotFound")),browserNoMic:g(()=>w("voice.browserNoMicrophone")),micError:g(()=>w("voice.microphoneError")),browserNoMedia:g(()=>w("voice.browserNoMedia")),allowMic:g(()=>w("voice.allowMicrophone")),micConnected:g(()=>w("voice.microphoneConnected")),browserNoSpeech:g(()=>w("voice.browserNoSpeech")),speechNotSupported:g(()=>w("voice.speechNotSupported")),recognitionInterrupted:g(()=>w("voice.recognitionInterrupted")),speechNotDetected:g(()=>w("voice.speechNotDetected")),recordingStarted:g(()=>w("voice.recordingStarted")),recordingStopped:g(()=>w("voice.recordingStopped")),startRecordError:g(()=>w("voice.startRecordingError")),stopRecordError:g(()=>w("voice.stopRecordingError")),networkIssues:g(()=>w("voice.networkIssues")),error:g(()=>w("voice.error")),textCleared:g(()=>w("voice.textCleared")),messagePlaceholder:g(()=>w("voice.messagePlaceholder"))},R=p(""),y=p(!1),S=p(!1),O=p(!1),E=p(!1),ce=p(!1),L=p(null),de=p(""),le=p(null),j=p(null),_e=p(null),ne=p(0),ge=p(!1),ve=p(null);De(()=>ee.externalText,m=>{m!=null&&(R.value=m,de.value=m)},{immediate:!0});const Ve=async m=>{try{ve.value=m,le.value=new AudioContext,j.value=le.value.createAnalyser();const b=le.value.createMediaStreamSource(m);j.value.fftSize=256,j.value.smoothingTimeConstant=.8,b.connect(j.value),ae()}catch(b){console.error("Error initializing audio analyzer:",b)}},ae=()=>{ge.value=!0;const m=()=>{if(!j.value||!ge.value)return;const b=new Uint8Array(j.value.frequencyBinCount);j.value.getByteFrequencyData(b);let z=0;for(let G=0;G<b.length;G++)z+=b[G];const N=z/b.length;ne.value=Math.min(N/100,1),_e.value=requestAnimationFrame(m)};m()},we=()=>{ge.value=!1,ne.value=0,_e.value&&(cancelAnimationFrame(_e.value),_e.value=null),ve.value&&(ve.value.getTracks().forEach(m=>m.stop()),ve.value=null),le.value&&(le.value.close(),le.value=null),j.value=null},H=()=>{const m=window.SpeechRecognition||window.webkitSpeechRecognition;return O.value=!!m,!!m},x=m=>{Le.error(m)},J=m=>{Le.info(m)},pe=m=>{Le.success(m)},ie=async()=>{var m;if(!((m=navigator.mediaDevices)!=null&&m.getUserMedia))return x(f.browserNoMedia.value),!1;ce.value=!0;try{const b=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});return await Ve(b),E.value=!1,Se(),pe(f.micConnected.value),!0}catch(b){return E.value=!0,b instanceof Error?b.name==="NotAllowedError"?x(f.micDenied.value):b.name==="NotFoundError"?x(f.micNotFound.value):b.name==="NotSupportedError"?x(f.browserNoMic.value):x(f.micError.value):x(f.micError.value),!1}finally{ce.value=!1}},Se=()=>{if(!H()){x(f.browserNoSpeech.value);return}const m=window.SpeechRecognition||window.webkitSpeechRecognition;if(!m){x(f.speechNotSupported.value);return}L.value=new m,L.value.continuous=!0,L.value.interimResults=!0,L.value.lang=Ge.value,L.value.onstart=()=>{y.value=!0,J(f.recordingStarted.value)},L.value.onresult=b=>{let z="";for(let N=b.resultIndex;N<b.results.length;N++){const G=b.results[N],te=G[0].transcript;G.isFinal?de.value+=te+" ":z+=te}R.value=de.value+z},L.value.onerror=b=>{switch(b.error){case"not-allowed":case"service-not-allowed":E.value=!0,x(f.micDenied.value);break;case"audio-capture":x(f.micNotFound.value);break;case"aborted":x(f.recognitionInterrupted.value);break;case"network":x(f.networkIssues.value);break;case"no-speech":J(f.speechNotDetected.value);break;default:x(`${f.error.value}: ${b.error}`)}ue()},L.value.onend=()=>{y.value&&!S.value&&L.value?setTimeout(()=>{if(y.value&&L.value)try{L.value.start()}catch{ue()}},100):(y.value=!1,J(f.recordingStopped.value))}},me=async()=>{O.value&&(E.value&&!await ie()||(y.value?ue():ye()))},ye=()=>{if(L.value)try{L.value.start(),J(f.recordingStarted.value)}catch(m){m instanceof Error&&(m.message.includes("permission")||m.name==="NotAllowedError")?(E.value=!0,we(),x(f.allowMic.value)):x(f.startRecordError.value)}},ue=()=>{if(L.value)try{L.value.stop(),y.value=!1,S.value=!1,we()}catch{x(f.stopRecordError.value)}},be=()=>{R.value="",de.value="",J(f.textCleared.value)},Me=async()=>{var m;try{if(!((m=navigator.mediaDevices)!=null&&m.enumerateDevices)){E.value=!0;return}const z=(await navigator.mediaDevices.enumerateDevices()).some(N=>N.kind==="audioinput"&&N.label!=="");E.value=!z}catch{E.value=!0}};Fe(async()=>{await Me(),Se()}),ul(()=>{we()});const Je=o,Ae=()=>{Je("toggleHelp")};return(m,b)=>{const z=K("el-input"),N=K("el-button");return _(),T("div",jl,[t(z,{modelValue:R.value,"onUpdate:modelValue":b[0]||(b[0]=G=>R.value=G),type:"textarea",placeholder:f.messagePlaceholder.value,rows:6,resize:"none",class:"voice__textarea"},null,8,["modelValue","placeholder"]),l("div",Jl,[l("div",Ql,[t(N,{type:"success",onClick:b[1]||(b[1]=G=>m.$emit("send",R.value)),class:"voice__btn voice__btn_help",disabled:!R.value,icon:e(Ll),circle:""},null,8,["disabled","icon"]),t(N,{type:"primary",onClick:Ae,class:"voice__btn voice__btn_send",icon:e(Vl),circle:""},null,8,["icon"])]),y.value&&!E.value?(_(),T("div",Yl,[l("div",{class:"voice__visualizer",style:Q({transform:`scale(${.8+ne.value*.4})`,opacity:.7+ne.value*.3})},[l("div",Zl,[(_(),T(q,null,X(3,G=>l("div",{key:G,class:"voice__wave",style:Q({animationDelay:`${G*.2}s`,transform:`scale(${1+ne.value*G*.3})`})},null,4)),64))])],4)])):B("",!0),l("div",ea,[E.value&&O.value?(_(),C(N,{key:0,type:"warning",onClick:ie,class:"voice__btn voice__btn_permission",icon:e(Sl),circle:""},null,8,["icon"])):B("",!0),!E.value&&O.value&&y.value?(_(),C(N,{key:1,type:"primary",onClick:me,class:k(["voice__btn",{voice__btn_recording:y.value,voice__btn_disabled:!O.value}]),disabled:!O.value,icon:e(Ml),circle:""},null,8,["class","disabled","icon"])):B("",!0),!E.value&&O.value?(_(),C(N,{key:2,type:"danger",onClick:me,class:k(["voice__btn",{voice__btn_recording:y.value,voice__btn_disabled:!O.value}]),disabled:!O.value,icon:e(Pl),circle:""},null,8,["class","disabled","icon"])):B("",!0),t(N,{type:"danger",onClick:be,class:"voice__btn voice__btn_clear",disabled:!R.value,icon:e(Rl),circle:""},null,8,["disabled","icon"])])])])}}}),nl=rl(la,[["__scopeId","data-v-360f4995"]]),aa={key:1,class:"map"},ta={class:"map__container container"},oa={class:"map__block"},sa={class:"map__flex list_flex"},na={key:0,class:"map__left list_left"},ia={class:"map__left_tables list_scroll"},ua={class:"map__top"},ra={class:"map__top_flex"},ca={class:"segmented__group",role:"radiogroup"},da=["onClick","aria-checked"],_a={class:"segmented__label"},va={class:"map__shadow"},pa={class:"el-table_title"},ma={class:"el-table_count text_four"},ba={class:"el-table_arrow"},fa={class:"table_empty"},ha={key:0,class:"map__bottom"},ga={class:"el-table_bottom_left"},wa={class:"el-table_search"},ya={class:"segmented__group segmented__group_info",role:"radiogroup"},Ca=["onClick","aria-checked"],ka={class:"segmented__label"},Ta={class:"map__information"},xa={class:"map__tab"},Na={class:"info-label"},Da={class:"info-value"},La={class:"map__tab"},Va={class:"info-label"},Sa={class:"info-value"},Ma={class:"map__tab"},Pa={class:"info-label"},Ra={class:"info-value"},Ea={class:"map__tab"},Ia={class:"info-label"},$a={class:"info-value"},Fa={class:"map__tab"},Ga={class:"info-label"},Aa={class:"info-value"},Oa={class:"map__tab"},za={class:"info-label"},Ua={class:"info-value"},qa={class:"segmented__group segmented__group_message",role:"radiogroup"},Ka=["onClick","aria-checked"],Ba={class:"segmented__label"},Ha={class:"map__shadow"},Wa={class:"table_empty"},Xa={class:"map__bottom"},ja={class:"el-table_bottom_left"},Ja={class:"el-table_search"},Qa={class:"segmented__group segmented__group_notification",role:"radiogroup"},Ya=["onClick","aria-checked"],Za={class:"segmented__label"},et={class:"map__shadow"},lt={class:"table_empty"},at={class:"map__bottom"},tt={class:"el-table_bottom_left"},ot={class:"el-table_search"},st={class:"map__right list_map"},nt={key:0,class:"list_select"},it={class:"el-select_title"},ut={class:"el-table_count text_four"},rt={class:"el-select_option"},ct={class:"el-select_empty"},dt={class:"map__openlayers"},_t={key:1,class:"map__tables"},vt={key:0,class:"segmented__group",role:"radiogroup"},pt=["onClick","aria-checked"],mt={class:"segmented__label"},bt={class:"segmented__group segmented__group_info",role:"radiogroup"},ft=["onClick","aria-checked"],ht={class:"segmented__label"},gt={class:"map__information"},wt={class:"map__tab"},yt={class:"info-label"},Ct={class:"info-value"},kt={class:"map__tab"},Tt={class:"info-label"},xt={class:"info-value"},Nt={class:"map__tab"},Dt={class:"info-label"},Lt={class:"info-value"},Vt={class:"map__tab"},St={class:"info-label"},Mt={class:"info-value"},Pt={class:"map__tab"},Rt={class:"info-label"},Et={class:"info-value"},It={class:"map__tab"},$t={class:"info-label"},Ft={class:"info-value"},Gt={class:"segmented__group segmented__group_message",role:"radiogroup"},At=["onClick","aria-checked"],Ot={class:"segmented__label"},zt={class:"map__shadow"},Ut={class:"table_empty"},qt={class:"map__bottom"},Kt={class:"el-table_bottom_left"},Bt={class:"el-table_search"},Ht={class:"segmented__group segmented__group_notification",role:"radiogroup"},Wt=["onClick","aria-checked"],Xt={class:"segmented__label"},jt={class:"map__shadow"},Jt={class:"table_empty"},Qt={class:"map__bottom"},Yt={class:"el-table_bottom_left"},Zt={class:"el-table_search"},eo={class:"map_add__scroll popup__scroll_buttons"},lo={class:"map_add__block popup__block"},ao={class:"map_add__head popup__head"},to={class:"transfer__option text_three transfer__option_three_four"},oo={class:"transfer__switch"},so={class:"transfer__footer text_three transfer__footer_three"},no={class:"transfer__footer text_three transfer__footer_four"},io={class:"popup__buttons"},uo={class:"map_disband__scroll popup__scroll_buttons"},ro={class:"map_disband__block popup__block"},co={class:"map_disband__head popup__head"},_o={class:"popup__buttons"},vo={class:"map_delete__scroll popup__scroll_buttons"},po={class:"map_delete__block popup__block"},mo={class:"map_delete__head popup__head"},bo={class:"popup__buttons"},fo={class:"map_voice__scroll popup__scroll_buttons"},ho={class:"map_voice__block popup__block"},go={class:"map_voice__head popup__head"},wo={key:0,class:"map_voice__preview"},yo={class:"map_voice__preview_text"},Co={class:"map_voice__form"},ko={class:"map_voice__flex"},To={class:"map_voice__flex"},xo={key:0,class:"map_voice__flex"},No={class:"map_voice__label text_two"},Do={class:"popup__buttons"},Lo=il({__name:"Map",setup(je){const{t:o}=Xe(),Ge=p(!1),w=p("info"),ee=p("locomotive"),f=p("all"),R=p("all"),y=p({info:!0,message:!1,notification:!1}),S=p({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),O=[{iconComponent:Gl,value:"info",label:"Info"},{iconComponent:Ke,value:"message",label:"Message"},{iconComponent:Al,value:"notification",label:"Notification"}],E=[{iconComponent:We,value:"locomotive",label:"Locomotive"},{iconComponent:Ol,value:"information",label:"Information"},{iconComponent:zl,value:"location",label:"Location"},{iconComponent:Hl,value:"fuel",label:"Fuel"},{iconComponent:Wl,value:"energy",label:"Energy"},{iconComponent:Xl,value:"krpd",label:"Krpd"}],ce=[{iconComponent:sl,value:"all",label:"all"},{iconComponent:We,value:"selected",label:"selected"}],L=[{iconComponent:sl,value:"all",label:"all"},{iconComponent:We,value:"selected",label:"selected"}],de=g(()=>{const i=O.findIndex(r=>r.value===w.value);return{width:`${100/O.length}%`,transform:`translateX(${i*100}%)`}}),le=g(()=>{const i=E.findIndex(r=>r.value===ee.value);return{width:`${100/E.length}%`,transform:`translateX(${i*100}%)`}}),j=g(()=>{const i=ce.findIndex(r=>r.value===f.value);return{width:`${100/ce.length}%`,transform:`translateX(${i*100}%)`}}),_e=g(()=>{const i=L.findIndex(r=>r.value===R.value);return{width:`${100/L.length}%`,transform:`translateX(${i*100}%)`}}),ne=(i,n)=>{n.preventDefault(),n.stopPropagation(),w.value=i},ge=(i,n)=>{n.preventDefault(),n.stopPropagation(),ee.value=i},ve=(i,n)=>{n.preventDefault(),n.stopPropagation(),f.value=i},Ve=(i,n)=>{n.preventDefault(),n.stopPropagation(),R.value=i};De(w,i=>{Object.keys(y.value).forEach(n=>{y.value[n]=!1}),y.value[i]=!0}),De(ee,i=>{Object.keys(S.value).forEach(n=>{S.value[n]=!1}),S.value[i]=!0});const ae=p(window.innerWidth),we=()=>{ae.value=window.innerWidth};Fe(()=>{window.addEventListener("resize",we)}),ul(()=>{window.removeEventListener("resize",we)});const H=p(!1),x=p(!1),J=p(!1),pe=p(!1),ie=p(!1),Se=()=>{x.value=!1,J.value=!1,pe.value=!1,ie.value=!1,H.value=!1,document.documentElement.classList.remove("noscroll")},me=()=>{x.value=!x.value,H.value=!H.value,x.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},ye=()=>{J.value=!J.value,H.value=!H.value,J.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},ue=()=>{pe.value=!pe.value,H.value=!H.value,pe.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},be=()=>{ie.value=!ie.value,H.value=!H.value,ie.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},Me=p([]),Ae=p((()=>{const i=[],n=["0001","0002","0003","0004","0005"],r=["Серия А","Серия Б","Серия В","Серия Г","Серия Д"],d=["Сцепка 1","Сцепка 2","Сцепка 3","Сцепка 4","Сцепка 5"];return n.forEach((v,h)=>{i.push({label:v,key:h,initial:r[h],number:v,series:r[h],coupling:d[h],nudge:!1})}),i})()),m=(i,n)=>{var d,v,h,$;const r=i.toLowerCase();return((d=n.number)==null?void 0:d.toLowerCase().includes(r))||((v=n.series)==null?void 0:v.toLowerCase().includes(r))||((h=n.initial)==null?void 0:h.toLowerCase().includes(r))||(($=n.label)==null?void 0:$.toLowerCase().includes(r))},b=p(""),z=g(()=>{let i=Ce;return b.value&&(i=i.filter(n=>{var r,d,v;return((r=n.type)==null?void 0:r.toLowerCase().includes(b.value.toLowerCase()))||((d=n.number)==null?void 0:d.toLowerCase().includes(b.value.toLowerCase()))||((v=n.status)==null?void 0:v.toLowerCase().includes(b.value.toLowerCase()))})),i}),N=p(""),G=g(()=>{if(f.value==="selected"&&!D.value)return[];let i=gl.value;if(f.value==="selected"&&D.value&&(i=i.filter(n=>{var r;return n.number===((r=D.value)==null?void 0:r.number)})),N.value){const n=N.value.toLowerCase();i=i.filter(r=>{var d,v,h,$;return((d=r.dateTime)==null?void 0:d.toLowerCase().includes(n))||((v=r.series)==null?void 0:v.toLowerCase().includes(n))||((h=r.number)==null?void 0:h.toLowerCase().includes(n))||(($=r.notification.tooltip)==null?void 0:$.toLowerCase().includes(n))})}return i}),te=p(""),Qe=g(()=>{if(R.value==="selected"&&!D.value)return[];let i=wl.value;if(R.value==="selected"&&D.value&&(i=i.filter(n=>{var r;return n.number===((r=D.value)==null?void 0:r.number)})),te.value){const n=te.value.toLowerCase();i=i.filter(r=>{var d,v,h,$,Re,se;return((d=r.messageText)==null?void 0:d.toLowerCase().includes(n))||((v=r.created)==null?void 0:v.toLowerCase().includes(n))||((h=r.delivered)==null?void 0:h.toLowerCase().includes(n))||(($=r.read)==null?void 0:$.toLowerCase().includes(n))||((Re=r.series)==null?void 0:Re.toLowerCase().includes(n))||((se=r.number)==null?void 0:se.toLowerCase().includes(n))})}return i}),fe=p(null),D=p(),he=p(""),ke=p(!0),U=p(null),I=({rowIndex:i})=>i%2===1?"bg_gray":"",cl=i=>{var n;((n=D.value)==null?void 0:n.id)===i.id?U.value&&U.value.moveToLocomotive&&U.value.moveToLocomotive(i):(D.value=i,fe.value&&fe.value.setCurrentRow(i))},dl=i=>{var n;(i==null?void 0:i.id)!==((n=D.value)==null?void 0:n.id)&&(D.value=i)},_l=i=>{if(i&&i.id){const n=Ce.find(r=>r.id===i.id);n&&(D.value=n,he.value=n.id.toString(),U.value&&U.value.moveToLocomotive&&U.value.moveToLocomotive(n),ae.value>=1280&&fe.value&&fe.value.setCurrentRow(n))}else D.value=void 0,he.value="",ae.value>=1280&&fe.value&&fe.value.setCurrentRow()},vl=()=>{ke.value=!ke.value},pl=i=>{var r;if(!i){D.value=void 0;return}const n=Ce.find(d=>{var v;return((v=d.id)==null?void 0:v.toString())===i});if(n){if(n.id===((r=D.value)==null?void 0:r.id)){U.value&&U.value.moveToLocomotive&&U.value.moveToLocomotive(n);return}D.value=n,U.value&&U.value.moveToLocomotive&&U.value.moveToLocomotive(n)}},ml=i=>{b.value=i};De(he,i=>{if(i){const n=Ce.find(r=>{var d;return((d=r.id)==null?void 0:d.toString())===i});n&&(D.value=n)}else D.value=void 0}),De(D,i=>{i&&i.id?he.value=i.id.toString():he.value=""});const u=g(()=>D.value?Ce.find(n=>{var r;return n.id===((r=D.value)==null?void 0:r.id)})||{}:{}),Ye=i=>({warning:Be,info:Ie,error:He,success:Ne})[i]||Ie,Te=p("permissive"),oe=p("Название станции"),A=p(""),Y=p(!0),Pe=p(""),W=p("follow_to_station"),Oe=g(()=>Te.value?Cl[Te.value]||[]:[]),bl=()=>{ze()},fl=()=>{Oe.value.length>0&&(W.value=Oe.value[0].value,ze())},ze=()=>{switch(W.value){case"follow_to_station":oe.value="Название станции",Y.value=!0;break;case"pass_red_signal":oe.value="Номер светофора",Y.value=!0;break;case"enter_station":oe.value="Номер пути",Y.value=!0;break;case"stop_at_signal":oe.value="Номер светофора",Y.value=!0;break;case"dont_depart":Y.value=!1,A.value="";break;case"speed_limit_40":oe.value="Название перегона",Y.value=!0;break;case"track_works":oe.value="Номер пути",Y.value=!0;break;case"check_brakes":Y.value=!1,A.value="";break;default:oe.value="Название станции",Y.value=!0}},Ze=()=>W.value==="follow_to_station"&&A.value?`Следовать до станции ${A.value} по главному пути`:W.value==="pass_red_signal"&&A.value?`Проехать запрещающий сигнал ${A.value} с уменьшенной скоростью`:W.value==="enter_station"&&A.value?`Въезд на станцию разрешаю по пути ${A.value}`:W.value==="stop_at_signal"&&A.value?`Остановиться у сигнала ${A.value}, ожидать указаний`:W.value==="dont_depart"?"Не отправляться со станции до получения разрешения":W.value==="speed_limit_40"&&A.value?`Ограничение скорости: не более 40 км/ч на перегоне ${A.value}`:W.value==="track_works"&&A.value?`Работы на пути ${A.value}, снизить скорость до 25 км/ч`:W.value==="check_brakes"?"Проверить работоспособность тормозов":"",hl=async()=>{const i=Ze();i&&(Pe.value="",await Dl(),Pe.value=i,be())},el=g(()=>Ze());Fe(()=>{ze()});const ll=i=>{console.log("Отправка голосового сообщения:",i)},Ce=[{id:1,type:"110001",number:"0001",status:"Эксплуатация",series:"Серия А",tabNumber:"12345",workType:"Эксплуатация",weight:"120 т",carNumber:"15",axisNumber:"6",cargoType:"Уголь",carCount:"50",cargoMass:"3000 т",bortDate:"2024-01-15",bortTime:"14:30:25",speed:"80 км/ч",stopTime:"5 мин",pressure:"8.5 бар",LSlight:"Зеленый",latitude:"53.1950",longitude:"45.0183",geozone:"Пензенская",rfid:"RFID-12345",path:"Путь №3",fuelVolume:"5000 л",fuelTemp:"+20°C",fuelDensity:"0.85 г/см³",fuelMass:"4250 кг",instantPowerActive:"1500 кВт",instantPowerReactive:"300 кВар",instantPowerFull:"1530 кВА",voltage:"3000 В",current:"500 А",voltageTG:"2800 В",currentTG:"480 А",powerTG:"1344 кВт",oilPressure:"4.2 бар",oilTemp:"75°C",waterTemp:"85°C",pressureNV:"7.8 бар",frequency:"50 Гц",positionKM:"125.3 км"},{id:2,type:"0002",number:"0002",status:"В ремонте",series:"Серия Б",tabNumber:"23456",workType:"Ремонт",weight:"115 т",carNumber:"12",axisNumber:"6",cargoType:"Руда",carCount:"40",cargoMass:"2800 т",bortDate:"2024-01-14",bortTime:"10:15:30",speed:"0 км/ч",stopTime:"120 мин",pressure:"7.8 бар",LSlight:"Красный",latitude:"53.2000",longitude:"45.0250",geozone:"Пензенская",rfid:"RFID-23456",path:"Путь №1",fuelVolume:"4500 л",fuelTemp:"+18°C",fuelDensity:"0.86 г/см³",fuelMass:"3870 кг",instantPowerActive:"0 кВт",instantPowerReactive:"0 кВар",instantPowerFull:"0 кВА",voltage:"0 В",current:"0 А",voltageTG:"0 В",currentTG:"0 А",powerTG:"0 кВт",oilPressure:"3.8 бар",oilTemp:"65°C",waterTemp:"70°C",pressureNV:"7.2 бар",frequency:"0 Гц",positionKM:"130.5 км"},{id:3,type:"0003",number:"0003",status:"Резерв",series:"Серия В",tabNumber:"34567",workType:"Резерв",weight:"125 т",carNumber:"18",axisNumber:"6",cargoType:"Нефтепродукты",carCount:"35",cargoMass:"2500 т",bortDate:"2024-01-15",bortTime:"08:45:15",speed:"0 км/ч",stopTime:"60 мин",pressure:"8.0 бар",LSlight:"Желтый",latitude:"53.1900",longitude:"45.0100",geozone:"Пензенская",rfid:"RFID-34567",path:"Путь №5",fuelVolume:"5200 л",fuelTemp:"+22°C",fuelDensity:"0.84 г/см³",fuelMass:"4368 кг",instantPowerActive:"200 кВт",instantPowerReactive:"50 кВар",instantPowerFull:"206 кВА",voltage:"2800 В",current:"70 А",voltageTG:"2700 В",currentTG:"75 А",powerTG:"202 кВт",oilPressure:"4.0 бар",oilTemp:"70°C",waterTemp:"75°C",pressureNV:"7.5 бар",frequency:"48 Гц",positionKM:"128.1 км"},{id:4,type:"0004",number:"0004",status:"Эксплуатация",series:"Серия Г",tabNumber:"45678",workType:"Эксплуатация",weight:"118 т",carNumber:"20",axisNumber:"6",cargoType:"Контейнеры",carCount:"30",cargoMass:"1800 т",bortDate:"2024-01-15",bortTime:"16:20:45",speed:"95 км/ч",stopTime:"2 мин",pressure:"8.8 бар",LSlight:"Зеленый",latitude:"53.1850",longitude:"45.0150",geozone:"Пензенская",rfid:"RFID-45678",path:"Путь №2",fuelVolume:"4800 л",fuelTemp:"+25°C",fuelDensity:"0.83 г/см³",fuelMass:"3984 кг",instantPowerActive:"1800 кВт",instantPowerReactive:"350 кВар",instantPowerFull:"1834 кВА",voltage:"3100 В",current:"580 А",voltageTG:"2950 В",currentTG:"610 А",powerTG:"1800 кВт",oilPressure:"4.5 бар",oilTemp:"80°C",waterTemp:"90°C",pressureNV:"8.2 бар",frequency:"52 Гц",positionKM:"122.7 км"},{id:5,type:"0005",number:"0005",status:"Эксплуатация",series:"Серия Д",tabNumber:"56789",workType:"Эксплуатация",weight:"130 т",carNumber:"25",axisNumber:"8",cargoType:"Лес",carCount:"45",cargoMass:"3200 т",bortDate:"2024-01-15",bortTime:"12:10:20",speed:"75 км/ч",stopTime:"10 мин",pressure:"8.2 бар",LSlight:"Зеленый",latitude:"53.2050",longitude:"45.0300",geozone:"Пензенская",rfid:"RFID-56789",path:"Путь №4",fuelVolume:"5500 л",fuelTemp:"+19°C",fuelDensity:"0.87 г/см³",fuelMass:"4785 кг",instantPowerActive:"1600 кВт",instantPowerReactive:"280 кВар",instantPowerFull:"1624 кВА",voltage:"2900 В",current:"550 А",voltageTG:"2750 В",currentTG:"520 А",powerTG:"1430 кВт",oilPressure:"4.3 бар",oilTemp:"78°C",waterTemp:"88°C",pressureNV:"8.0 бар",frequency:"51 Гц",positionKM:"126.8 км"}],gl=p([{id:1,dateTime:"2024-01-15 14:30:25",series:"Серия А",number:"0001",notification:{icon:"warning",tooltip:"Превышение скорости"}},{id:2,dateTime:"2024-01-15 12:15:10",series:"Серия Б",number:"0002",notification:{icon:"info",tooltip:"Низкий уровень топлива"}},{id:3,dateTime:"2024-01-15 10:05:45",series:"Серия В",number:"0003",notification:{icon:"error",tooltip:"Неисправность двигателя"}},{id:4,dateTime:"2024-01-15 08:20:30",series:"Серия Г",number:"0004",notification:{icon:"success",tooltip:"Система в норме"}}]),wl=p([{id:1,messageText:"Проверка системы",created:"2024-01-15 14:30:25",delivered:"2024-01-15 14:31:00",read:"2024-01-15 14:32:15",series:"Серия А",number:"0001"},{id:2,messageText:"Обновление прошивки",created:"2024-01-15 12:15:10",delivered:"2024-01-15 12:16:05",read:"2024-01-15 12:20:30",series:"Серия Б",number:"0002"},{id:3,messageText:"Техническое обслуживание",created:"2024-01-15 10:05:45",delivered:"2024-01-15 10:06:20",read:"",series:"Серия А",number:"0001"},{id:4,messageText:"Системное уведомление",created:"2024-01-15 08:20:30",delivered:"2024-01-15 08:21:00",read:"2024-01-15 08:25:45",series:"Серия В",number:"0003"}]),yl=[{value:"permissive",label:"Разрешающие команды"},{value:"restrictive",label:"Ограничивающие и запрещающие команды"},{value:"notifications",label:"Оповещения/Предупреждения"}],Cl={permissive:[{value:"follow_to_station",label:"Следовать до станции по главному пути"},{value:"pass_red_signal",label:"Проехать запрещающий сигнал с уменьшенной скоростью"},{value:"enter_station",label:"Въезд на станцию разрешаю"}],restrictive:[{value:"stop_at_signal",label:"Остановиться у сигнала, ожидать указаний"},{value:"dont_depart",label:"Не отправляться со станции до получения разрешения"},{value:"speed_limit_40",label:"Ограничение скорости: не более 40 км/ч на перегоне"}],notifications:[{value:"track_works",label:"Работы на пути, снизить скорость до 25 км/ч"},{value:"check_brakes",label:"Проверить работоспособность тормозов"}]},kl=async()=>{try{const i=await al("post","/api/get-table",{Table:"LOCOMOTIVES"});console.log(i.data)}catch(i){Le({message:i.message,type:"error"}),console.log(i)}},Tl=async()=>{try{const i=await al("post","/api/get-table",{Table:"LOCO"});console.log(i.data)}catch(i){Le({message:i.message,type:"error"}),console.log(i)}};return Fe(()=>{kl(),Tl()}),(i,n)=>{const r=K("el-icon"),d=K("el-table-column"),v=K("el-tooltip"),h=K("el-table"),$=K("el-button"),Re=K("el-button-group"),se=K("el-input"),Ue=K("el-option"),qe=K("el-select"),xl=K("el-switch"),Nl=K("el-transfer");return _(),T(q,null,[t(Ul),Ge.value?(_(),C(Bl,{key:0})):(_(),T("section",aa,[l("div",ta,[l("div",oa,[l("div",sa,[ae.value>=1280?(_(),T("div",na,[l("div",ia,[l("div",ua,[l("div",ra,[l("div",ca,[l("div",{class:"segmented__indicator",style:Q(de.value)},null,4),(_(),T(q,null,X(O,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":w.value===a.value}]),onClick:F(V=>ne(a.value,V),["prevent"]),onMousedown:n[0]||(n[0]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":w.value===a.value},[l("div",_a,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two"}))])],42,da)),64))])])]),l("div",va,[t(h,{ref_key:"oneTableRef",ref:fe,data:z.value,"highlight-current-row":"","row-class-name":I,onCurrentChange:dl,onRowClick:cl,style:Q({maxHeight:ke.value?"240px":"25px"}),"max-height":"240",border:""},{empty:s(()=>[l("div",fa,c(e(o)("table.noData")),1)]),default:s(()=>[t(d,{"header-align":"center"},{header:s(()=>[l("span",{class:k(["el-table_top",{active:ke.value}]),onClick:vl},[l("span",pa,[Ee(c(e(o)("table.listLoco"))+" - ",1),l("span",ma,c(z.value.length),1)]),l("span",ba,[t(r,null,{default:s(()=>[t(e(El))]),_:1})])],2)]),default:s(()=>[t(d,{property:"type",sortable:"",label:e(o)("table.type")},null,8,["label"]),t(d,{property:"number",sortable:"",label:e(o)("table.number")},null,8,["label"]),t(d,{property:"status",label:e(o)("table.status"),width:"75px"},{default:s(a=>[a.row.status?(_(),C(v,{key:0,content:a.row.status,placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon"},{default:s(()=>[t(e(Ie))]),_:1})]),_:2},1032,["content"])):B("",!0)]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),ke.value?(_(),T("div",ha,[l("div",ga,[t(Re,{class:"el-table_buttons"},{default:s(()=>[t($,{type:"primary",class:"el-table_button",icon:e(Il),title:e(o)("button.addComposition"),onClick:me},null,8,["icon","title"]),t($,{type:"primary",class:"el-table_button",icon:e($l),title:e(o)("button.disbandComposition"),onClick:ye},null,8,["icon","title"]),t($,{type:"danger",class:"el-table_button",icon:e(Fl),title:e(o)("button.deleteComposition"),onClick:ue},null,8,["icon","title"])]),_:1}),l("div",wa,[t(se,{modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=a=>b.value=a),placeholder:e(o)("sort.search")},{prepend:s(()=>[t($,{icon:e(xe),title:e(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):B("",!0)]),M(l("div",{class:k(["map__left_table",{active:y.value.info}])},[l("div",ya,[l("div",{class:"segmented__indicator",style:Q(le.value)},null,4),(_(),T(q,null,X(E,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":ee.value===a.value}]),onClick:F(V=>ge(a.value,V),["prevent"]),onMousedown:n[2]||(n[2]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":ee.value===a.value},[l("div",ka,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two"}))])],42,Ca)),64))]),l("div",Ta,[M(l("div",xa,[t(h,{data:[{label:e(o)("table.series"),value:u.value.series},{label:e(o)("table.number"),value:u.value.number},{label:e(o)("table.tabNumber"),value:u.value.tabNumber},{label:e(o)("table.workType"),value:u.value.workType},{label:e(o)("table.weight"),value:u.value.weight},{label:e(o)("table.carNumber"),value:u.value.carNumber},{label:e(o)("table.axisNumber"),value:u.value.axisNumber},{label:e(o)("table.cargoType"),value:u.value.cargoType},{label:e(o)("table.carCount"),value:u.value.carCount},{label:e(o)("table.cargoMass"),value:u.value.cargoMass}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Na,c(a.row.label),1),l("span",Da,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.locomotive]]),M(l("div",La,[t(h,{data:[{label:e(o)("table.bortDate"),value:u.value.bortDate},{label:e(o)("table.bortTime"),value:u.value.bortTime},{label:e(o)("table.speed"),value:u.value.speed},{label:e(o)("table.stopTime"),value:u.value.stopTime},{label:e(o)("table.pressure"),value:u.value.pressure},{label:e(o)("table.LSlight"),value:u.value.LSlight}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Va,c(a.row.label),1),l("span",Sa,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.information]]),M(l("div",Ma,[t(h,{data:[{label:e(o)("table.latitude"),value:u.value.latitude},{label:e(o)("table.longitude"),value:u.value.longitude},{label:e(o)("table.geozone"),value:u.value.geozone},{label:"RFID",value:u.value.rfid},{label:e(o)("table.path"),value:u.value.path}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Pa,c(a.row.label),1),l("span",Ra,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.location]]),M(l("div",Ea,[t(h,{data:[{label:e(o)("table.volume"),value:u.value.fuelVolume},{label:e(o)("table.temp"),value:u.value.fuelTemp},{label:e(o)("table.density"),value:u.value.fuelDensity},{label:e(o)("table.mass"),value:u.value.fuelMass}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Ia,c(a.row.label),1),l("span",$a,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.fuel]]),M(l("div",Fa,[t(h,{data:[{label:e(o)("table.instantPowerActive"),value:u.value.instantPowerActive},{label:e(o)("table.instantPowerReactive"),value:u.value.instantPowerReactive},{label:e(o)("table.instantPowerFull"),value:u.value.instantPowerFull},{label:e(o)("table.voltage"),value:u.value.voltage},{label:e(o)("table.current"),value:u.value.current}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Ga,c(a.row.label),1),l("span",Aa,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.energy]]),M(l("div",Oa,[t(h,{data:[{label:e(o)("table.voltageTG"),value:u.value.voltageTG},{label:e(o)("table.currentTG"),value:u.value.currentTG},{label:e(o)("table.powerTG"),value:u.value.powerTG},{label:e(o)("table.oilPressure"),value:u.value.oilPressure},{label:e(o)("table.oilTemp"),value:u.value.oilTemp},{label:e(o)("table.waterTemp"),value:u.value.waterTemp},{label:e(o)("table.pressureNV"),value:u.value.pressureNV},{label:e(o)("table.frequency"),value:u.value.frequency},{label:e(o)("table.positionKM"),value:u.value.positionKM}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",za,c(a.row.label),1),l("span",Ua,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.krpd]])])],2),[[P,y.value.info]]),M(l("div",{class:k(["map__left_table",{active:y.value.message}])},[t(nl,{onToggleHelp:be,"external-text":Pe.value,onSend:ll},null,8,["external-text"]),l("div",qa,[l("div",{class:"segmented__indicator",style:Q(_e.value)},null,4),(_(),T(q,null,X(L,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":R.value===a.value}]),onClick:F(V=>Ve(a.value,V),["prevent"]),onMousedown:n[3]||(n[3]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":R.value===a.value},[l("div",Ba,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two",title:a.label},null,8,["title"]))])],42,Ka)),64))]),l("div",Ha,[t(h,{data:Qe.value,border:"","row-class-name":I,"max-height":"400"},{empty:s(()=>[l("div",Wa,c(e(o)("table.noData")),1)]),default:s(()=>[t(d,{prop:"messageText",sortable:"","min-width":"120"},{header:s(()=>[t(v,{content:e(o)("table.message"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(Ke))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"created",sortable:"","min-width":"95"},{header:s(()=>[t(v,{content:e(o)("table.created"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[l("span",null,c(a.row.created),1)]),_:1}),t(d,{prop:"delivered",width:"43"},{header:s(()=>[t(v,{content:e(o)("table.delivered"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[a.row.delivered?(_(),C(v,{key:0,content:a.row.delivered,placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-success"},{default:s(()=>[t(e(Ne))]),_:1})]),_:2},1032,["content"])):(_(),C(v,{key:1,content:e(o)("table.notDelivered"),placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-warning"},{default:s(()=>[t(e(Be))]),_:1})]),_:1},8,["content"]))]),_:1}),t(d,{prop:"read",width:"43"},{header:s(()=>[t(v,{content:e(o)("table.read"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[a.row.read?(_(),C(v,{key:0,content:a.row.read,placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-success"},{default:s(()=>[t(e(Ne))]),_:1})]),_:2},1032,["content"])):(_(),C(v,{key:1,content:e(o)("table.notRead"),placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-error"},{default:s(()=>[t(e(He))]),_:1})]),_:1},8,["content"]))]),_:1})]),_:1},8,["data"]),l("div",Xa,[l("div",ja,[l("div",Ja,[t(se,{modelValue:te.value,"onUpdate:modelValue":n[4]||(n[4]=a=>te.value=a),placeholder:e(o)("sort.search")},{prepend:s(()=>[t($,{icon:e(xe),title:e(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])])],2),[[P,y.value.message]]),M(l("div",{class:k(["map__left_table",{active:y.value.notification}])},[l("div",Qa,[l("div",{class:"segmented__indicator",style:Q(j.value)},null,4),(_(),T(q,null,X(ce,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":f.value===a.value}]),onClick:F(V=>ve(a.value,V),["prevent"]),onMousedown:n[5]||(n[5]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===a.value},[l("div",Za,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two",title:a.label},null,8,["title"]))])],42,Ya)),64))]),l("div",et,[t(h,{data:G.value,border:"","row-class-name":I,"max-height":"400"},{empty:s(()=>[l("div",lt,c(e(o)("table.noData")),1)]),default:s(()=>[t(d,{prop:"dateTime",sortable:"","min-width":"100"},{header:s(()=>[t(v,{content:e(o)("table.dateNumber"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"series",sortable:"","min-width":"80"},{header:s(()=>[t(v,{content:e(o)("table.series"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(tl))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"number",sortable:"","min-width":"60"},{header:s(()=>[t(v,{content:e(o)("table.number"),placement:"top"},{default:s(()=>n[19]||(n[19]=[Ee(" № ")])),_:1},8,["content"])]),_:1}),t(d,{width:"43",align:"center"},{header:s(()=>[t(v,{content:e(o)("table.notification"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(ol))]),_:1})]),_:1},8,["content"])]),default:s(a=>[t(v,{content:a.row.notification.tooltip,placement:"top"},{default:s(()=>[t(r,{class:k(["el-table_icon",`notification__${a.row.notification.icon}`])},{default:s(()=>[(_(),C(Z(Ye(a.row.notification.icon))))]),_:2},1032,["class"])]),_:2},1032,["content"])]),_:1})]),_:1},8,["data"]),l("div",at,[l("div",tt,[l("div",ot,[t(se,{modelValue:N.value,"onUpdate:modelValue":n[6]||(n[6]=a=>N.value=a),placeholder:e(o)("sort.search")},{prepend:s(()=>[t($,{icon:e(xe),title:e(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])])],2),[[P,y.value.notification]])])])):B("",!0),l("div",st,[ae.value<=1279?(_(),T("div",nt,[l("p",it,[Ee(c(e(o)("table.listLoco"))+" - ",1),l("span",ut,c(z.value.length),1)]),t(qe,{modelValue:he.value,"onUpdate:modelValue":n[7]||(n[7]=a=>he.value=a),filterable:"",placeholder:e(o)("button.select"),onChange:pl,"filter-method":ml,class:"segmented__select"},{empty:s(()=>[l("div",ct,c(e(o)("table.noData")),1)]),default:s(()=>[(_(!0),T(q,null,X(z.value,a=>{var V;return _(),C(Ue,{key:a.id,label:`${a.type} - ${a.number}`,value:((V=a.id)==null?void 0:V.toString())||""},{default:s(()=>[l("div",rt,[l("span",null,c(a.type),1),l("span",null,c(a.number),1),a.status?(_(),C(v,{key:0,content:a.status,placement:"top"},{default:s(()=>[t(r,{class:"el-select_option_right"},{default:s(()=>[t(e(Ie))]),_:1})]),_:2},1032,["content"])):B("",!0)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):B("",!0),l("div",dt,[t(ql,{ref_key:"mapComponent",ref:U,"locomotive-data":Ce,"selected-locomotive":D.value,onLocomotiveClick:_l},null,8,["selected-locomotive"])]),ae.value<=1279?(_(),T("div",_t,[ae.value<=1279?(_(),T("div",vt,[l("div",{class:"segmented__indicator",style:Q(de.value)},null,4),(_(),T(q,null,X(O,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":w.value===a.value}]),onClick:F(V=>ne(a.value,V),["prevent"]),onMousedown:n[8]||(n[8]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":w.value===a.value},[l("div",mt,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two"}))])],42,pt)),64))])):B("",!0),M(l("div",{class:k(["map__table",{active:y.value.info}])},[l("div",bt,[l("div",{class:"segmented__indicator",style:Q(le.value)},null,4),(_(),T(q,null,X(E,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":ee.value===a.value}]),onClick:F(V=>ge(a.value,V),["prevent"]),onMousedown:n[9]||(n[9]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":ee.value===a.value},[l("div",ht,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two"}))])],42,ft)),64))]),l("div",gt,[M(l("div",wt,[t(h,{data:[{label:e(o)("table.series"),value:u.value.series},{label:e(o)("table.number"),value:u.value.number},{label:e(o)("table.tabNumber"),value:u.value.tabNumber},{label:e(o)("table.workType"),value:u.value.workType},{label:e(o)("table.weight"),value:u.value.weight},{label:e(o)("table.carNumber"),value:u.value.carNumber},{label:e(o)("table.axisNumber"),value:u.value.axisNumber},{label:e(o)("table.cargoType"),value:u.value.cargoType},{label:e(o)("table.carCount"),value:u.value.carCount},{label:e(o)("table.cargoMass"),value:u.value.cargoMass}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",yt,c(a.row.label),1),l("span",Ct,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.locomotive]]),M(l("div",kt,[t(h,{data:[{label:e(o)("table.bortDate"),value:u.value.bortDate},{label:e(o)("table.bortTime"),value:u.value.bortTime},{label:e(o)("table.speed"),value:u.value.speed},{label:e(o)("table.stopTime"),value:u.value.stopTime},{label:e(o)("table.pressure"),value:u.value.pressure},{label:e(o)("table.LSlight"),value:u.value.LSlight}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Tt,c(a.row.label),1),l("span",xt,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.information]]),M(l("div",Nt,[t(h,{data:[{label:e(o)("table.latitude"),value:u.value.latitude},{label:e(o)("table.longitude"),value:u.value.longitude},{label:e(o)("table.geozone"),value:u.value.geozone},{label:"RFID",value:u.value.rfid},{label:e(o)("table.path"),value:u.value.path}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Dt,c(a.row.label),1),l("span",Lt,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.location]]),M(l("div",Vt,[t(h,{data:[{label:e(o)("table.volume"),value:u.value.fuelVolume},{label:e(o)("table.temp"),value:u.value.fuelTemp},{label:e(o)("table.density"),value:u.value.fuelDensity},{label:e(o)("table.mass"),value:u.value.fuelMass}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",St,c(a.row.label),1),l("span",Mt,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.fuel]]),M(l("div",Pt,[t(h,{data:[{label:e(o)("table.instantPowerActive"),value:u.value.instantPowerActive},{label:e(o)("table.instantPowerReactive"),value:u.value.instantPowerReactive},{label:e(o)("table.instantPowerFull"),value:u.value.instantPowerFull},{label:e(o)("table.voltage"),value:u.value.voltage},{label:e(o)("table.current"),value:u.value.current}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",Rt,c(a.row.label),1),l("span",Et,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.energy]]),M(l("div",It,[t(h,{data:[{label:e(o)("table.voltageTG"),value:u.value.voltageTG},{label:e(o)("table.currentTG"),value:u.value.currentTG},{label:e(o)("table.powerTG"),value:u.value.powerTG},{label:e(o)("table.oilPressure"),value:u.value.oilPressure},{label:e(o)("table.oilTemp"),value:u.value.oilTemp},{label:e(o)("table.waterTemp"),value:u.value.waterTemp},{label:e(o)("table.pressureNV"),value:u.value.pressureNV},{label:e(o)("table.frequency"),value:u.value.frequency},{label:e(o)("table.positionKM"),value:u.value.positionKM}],border:"","show-header":!1,"row-class-name":I},{default:s(()=>[t(d,null,{default:s(a=>[l("span",$t,c(a.row.label),1),l("span",Ft,c(a.row.value),1)]),_:1})]),_:1},8,["data"])],512),[[P,S.value.krpd]])])],2),[[P,y.value.info]]),M(l("div",{class:k(["map__table",{active:y.value.message}])},[t(nl,{onToggleHelp:be,"external-text":Pe.value,onSend:ll},null,8,["external-text"]),l("div",Gt,[l("div",{class:"segmented__indicator",style:Q(_e.value)},null,4),(_(),T(q,null,X(L,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":R.value===a.value}]),onClick:F(V=>Ve(a.value,V),["prevent"]),onMousedown:n[10]||(n[10]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":R.value===a.value},[l("div",Ot,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two",title:a.label},null,8,["title"]))])],42,At)),64))]),l("div",zt,[t(h,{data:Qe.value,border:"","row-class-name":I,"max-height":"400"},{empty:s(()=>[l("div",Ut,c(e(o)("table.noData")),1)]),default:s(()=>[t(d,{prop:"messageText",sortable:"","min-width":"120"},{header:s(()=>[t(v,{content:e(o)("table.message"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(Ke))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"created",sortable:"","min-width":"95"},{header:s(()=>[t(v,{content:e(o)("table.created"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[l("span",null,c(a.row.created),1)]),_:1}),t(d,{prop:"delivered",width:"43"},{header:s(()=>[t(v,{content:e(o)("table.delivered"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[a.row.delivered?(_(),C(v,{key:0,content:a.row.delivered,placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-success"},{default:s(()=>[t(e(Ne))]),_:1})]),_:2},1032,["content"])):(_(),C(v,{key:1,content:e(o)("table.notDelivered"),placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-warning"},{default:s(()=>[t(e(Be))]),_:1})]),_:1},8,["content"]))]),_:1}),t(d,{prop:"read",width:"43"},{header:s(()=>[t(v,{content:e(o)("table.read"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),default:s(a=>[a.row.read?(_(),C(v,{key:0,content:a.row.read,placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-success"},{default:s(()=>[t(e(Ne))]),_:1})]),_:2},1032,["content"])):(_(),C(v,{key:1,content:e(o)("table.notRead"),placement:"top"},{default:s(()=>[t(r,{class:"el-table_icon el-error"},{default:s(()=>[t(e(He))]),_:1})]),_:1},8,["content"]))]),_:1})]),_:1},8,["data"]),l("div",qt,[l("div",Kt,[l("div",Bt,[t(se,{modelValue:te.value,"onUpdate:modelValue":n[11]||(n[11]=a=>te.value=a),placeholder:e(o)("sort.search")},{prepend:s(()=>[t($,{icon:e(xe),title:e(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])])],2),[[P,y.value.message]]),M(l("div",{class:k(["map__table",{active:y.value.notification}])},[l("div",Ht,[l("div",{class:"segmented__indicator",style:Q(j.value)},null,4),(_(),T(q,null,X(ce,a=>l("button",{key:a.value,class:k(["segmented__item",{"is-selected":f.value===a.value}]),onClick:F(V=>ve(a.value,V),["prevent"]),onMousedown:n[12]||(n[12]=F(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":f.value===a.value},[l("div",Xt,[(_(),C(Z(a.iconComponent),{class:"segmented__icon text_two",title:a.label},null,8,["title"]))])],42,Wt)),64))]),l("div",jt,[t(h,{data:G.value,border:"","row-class-name":I,"max-height":"400"},{empty:s(()=>[l("div",Jt,c(e(o)("table.noData")),1)]),default:s(()=>[t(d,{prop:"dateTime",sortable:"","min-width":"100"},{header:s(()=>[t(v,{content:e(o)("table.dateNumber"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(re))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"series",sortable:"","min-width":"80"},{header:s(()=>[t(v,{content:e(o)("table.series"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(tl))]),_:1})]),_:1},8,["content"])]),_:1}),t(d,{prop:"number",sortable:"","min-width":"60"},{header:s(()=>[t(v,{content:e(o)("table.number"),placement:"top"},{default:s(()=>n[20]||(n[20]=[Ee(" № ")])),_:1},8,["content"])]),_:1}),t(d,{width:"43",align:"center"},{header:s(()=>[t(v,{content:e(o)("table.notification"),placement:"top"},{default:s(()=>[t(r,null,{default:s(()=>[t(e(ol))]),_:1})]),_:1},8,["content"])]),default:s(a=>[t(v,{content:a.row.notification.tooltip,placement:"top"},{default:s(()=>[t(r,{class:k(["el-table_icon",`notification__${a.row.notification.icon}`])},{default:s(()=>[(_(),C(Z(Ye(a.row.notification.icon))))]),_:2},1032,["class"])]),_:2},1032,["content"])]),_:1})]),_:1},8,["data"]),l("div",Qt,[l("div",Yt,[l("div",Zt,[t(se,{modelValue:N.value,"onUpdate:modelValue":n[13]||(n[13]=a=>N.value=a),placeholder:e(o)("sort.search")},{prepend:s(()=>[t($,{icon:e(xe),title:e(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])])],2),[[P,y.value.notification]])])):B("",!0)])])])])])),l("div",{class:k(["overlay_full",{active:H.value}]),onClick:Se},null,2),l("div",{class:k(["map_add popup",{active:x.value}])},[l("div",eo,[l("div",lo,[l("button",{class:"map_add__close popup__close",onClick:me},[t(r,null,{default:s(()=>[t(e($e))]),_:1})]),l("h4",ao,c(e(o)("table.enteringCoupling")),1),t(Nl,{modelValue:Me.value,"onUpdate:modelValue":n[15]||(n[15]=a=>Me.value=a),filterable:"","filter-method":m,"filter-placeholder":e(o)("sort.search"),data:Ae.value,"max-height":"240",titles:[e(o)("table.listLoco"),e(o)("table.listLocoCoupling")]},{default:s(({option:a})=>[l("div",to,[l("span",null,c(a.number||a.label),1),l("span",null,c(a.series||a.initial),1),l("span",null,c(a.coupling||""),1),l("span",oo,[t(xl,{modelValue:a.nudge,"onUpdate:modelValue":V=>a.nudge=V,title:e(o)("table.nudge"),onClick:n[14]||(n[14]=F(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","title"])])])]),"left-footer":s(()=>[l("div",so,[l("span",null,c(e(o)("table.number")),1),l("span",null,c(e(o)("table.series")),1),l("span",null,c(e(o)("table.coupling")),1)])]),"right-footer":s(()=>[l("div",no,[l("span",null,c(e(o)("table.number")),1),l("span",null,c(e(o)("table.series")),1),l("span",null,c(e(o)("table.coupling")),1),l("span",null,c(e(o)("table.nudge")),1)])]),_:1},8,["modelValue","filter-placeholder","data","titles"])])]),l("div",io,[l("button",{class:"popup__button button__second button",onClick:me},[l("span",null,c(e(o)("button.cancel")),1)]),l("button",{class:"popup__button button__primary button",onClick:me},[l("span",null,c(e(o)("button.save")),1)])])],2),l("div",{class:k(["map_disband popup",{active:J.value}])},[l("div",uo,[l("div",ro,[l("button",{class:"map_disband__close popup__close",onClick:ye},[t(r,null,{default:s(()=>[t(e($e))]),_:1})]),l("h4",co,c(e(o)("table.enteringCoupling")),1)])]),l("div",_o,[l("button",{class:"popup__button button__second button",onClick:ye},[l("span",null,c(e(o)("button.cancel")),1)]),l("button",{class:"popup__button button__red button",onClick:ye},[l("span",null,c(e(o)("button.disband")),1)])])],2),l("div",{class:k(["map_delete popup",{active:pe.value}])},[l("div",vo,[l("div",po,[l("button",{class:"map_delete__close popup__close",onClick:ue},[t(r,null,{default:s(()=>[t(e($e))]),_:1})]),l("h4",mo,c(e(o)("table.enteringCoupling")),1)])]),l("div",bo,[l("button",{class:"popup__button button__second button",onClick:ue},[l("span",null,c(e(o)("button.cancel")),1)]),l("button",{class:"popup__button button__red button",onClick:ue},[l("span",null,c(e(o)("button.delete")),1)])])],2),l("div",{class:k(["map_voice popup popup__small",{active:ie.value}])},[l("div",fo,[l("div",ho,[l("button",{class:"map_voice__close popup__close",onClick:be},[t(r,null,{default:s(()=>[t(e($e))]),_:1})]),l("h4",go,c(e(o)("voice.formingDriver")),1),el.value?(_(),T("div",wo,[n[21]||(n[21]=l("label",{class:"map_voice__label text_two"},"Предпросмотр команды:",-1)),l("div",yo,c(el.value),1)])):B("",!0),l("div",Co,[l("div",ko,[n[22]||(n[22]=l("label",{class:"map_voice__label text_two"},"Тип команды",-1)),t(qe,{modelValue:Te.value,"onUpdate:modelValue":n[16]||(n[16]=a=>Te.value=a),placeholder:e(o)("button.select"),class:"map_voice__select",onChange:fl},{default:s(()=>[(_(),T(q,null,X(yl,a=>t(Ue,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),l("div",To,[n[23]||(n[23]=l("label",{class:"map_voice__label text_two"},"Название команды",-1)),t(qe,{modelValue:W.value,"onUpdate:modelValue":n[17]||(n[17]=a=>W.value=a),placeholder:e(o)("button.select"),class:"map_voice__select",disabled:!Te.value,onChange:bl},{default:s(()=>[(_(!0),T(q,null,X(Oe.value,a=>(_(),C(Ue,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),Y.value?(_(),T("div",xo,[l("label",No,c(oe.value),1),t(se,{modelValue:A.value,"onUpdate:modelValue":n[18]||(n[18]=a=>A.value=a),placeholder:`Введите ${oe.value.toLowerCase()}`,class:"map_voice__input"},null,8,["modelValue","placeholder"])])):B("",!0)])])]),l("div",Do,[l("button",{class:"popup__button button__second button",onClick:be},[l("span",null,c(e(o)("button.cancel")),1)]),l("button",{class:"popup__button button__primary button",onClick:hl},[l("span",null,c(e(o)("button.form")),1)])])],2),t(Kl)],64)}}}),fs=rl(Lo,[["__scopeId","data-v-4f0ea747"]]);export{fs as default};
