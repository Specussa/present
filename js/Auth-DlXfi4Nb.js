var wt=Object.defineProperty;var yt=(p,s,v)=>s in p?wt(p,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):p[s]=v;var r=(p,s,v)=>yt(p,typeof s!="symbol"?s+"":s,v);import{s as bt,a as Ct}from"./api-DFSG_ReX.js";import{u as Mt}from"./vendor-vue-router-0eOeNsIj.js";import{S as kt,T as ut}from"./vendor-@element-plus-CUZI0sh3.js";import{g as St,o as Tt,A as _t}from"./index-DXSbV-yW.js";import{d as ft,e as x,m as rt,U as ht,f as At,o as B,c as X,M as tt,b as Q,a as t,D as Z,R as n,P as l,u as _,O as S,I as lt,J as g,Q as zt,al as E}from"./vendor-@vue-Bz_wJ882.js";import{_ as pt,L as Dt,a as Et,T as $t}from"./LogoSVG-DAmI5ROW.js";import{E as dt}from"./vendor-element-plus-bkQyxvUe.js";import{u as Lt}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";const Rt="/present/assets/authbg-wCZxChGB.webp",nt=p=>{if(!p)return"";try{const s=Math.random().toString(36).substring(2,10),v=Math.floor(Math.random()*15)+1,U=p.split("").map(u=>{const z=u.charCodeAt(0);return String.fromCharCode(z^v)}).join("");return`${btoa(encodeURIComponent(U))}|${s}|${v}`}catch(s){return console.error("Encryption error:",s),""}},It=p=>{if(!p||!p.includes("|"))return p;try{const s=p.split("|");if(s.length!==3)return p;const[v,U,y]=s,u=parseInt(y);return isNaN(u)?p:decodeURIComponent(atob(v)).split("").map($=>{const w=$.charCodeAt(0);return String.fromCharCode(w^u)}).join("")}catch(s){return console.error("Decryption error:",s),p}},Ft=ft({__name:"Lava",props:{enabled:{type:Boolean,default:!0}},setup(p){const s=p;let v=null,U=null,y=null,u=null,z=0,$=30,w,O=1e3/$,V;class D{constructor(a,o){r(this,"x");r(this,"y");r(this,"magnitude");r(this,"computed");r(this,"force");this.x=a,this.y=o,this.magnitude=a*a+o*o,this.computed=0,this.force=0}add(a){return new D(this.x+a.x,this.y+a.y)}}class et{constructor(a,o,h,c){r(this,"vel");r(this,"pos");r(this,"size");r(this,"width");r(this,"height");this.vel=new D((Math.random()>.5?1:-1)*(h+.25*Math.random()),(Math.random()>.5?1:-1)*(c+Math.random())),this.pos=new D(.2*a+Math.random()*a*.6,.2*o+Math.random()*o*.6),this.size=Math.min(a,o)/11+(1.4*Math.random()+.1)*(Math.min(a,o)/11),this.width=a,this.height=o}move(){this.pos.x>=this.width-this.size?(this.vel.x>0&&(this.vel.x=-this.vel.x),this.pos.x=this.width-this.size):this.pos.x<=this.size&&(this.vel.x<0&&(this.vel.x=-this.vel.x),this.pos.x=this.size),this.pos.y>=this.height-this.size?(this.vel.y>0&&(this.vel.y=-this.vel.y),this.pos.y=this.height-this.size):this.pos.y<=this.size&&(this.vel.y<0&&(this.vel.y=-this.vel.y),this.pos.y=this.size),this.pos=this.pos.add(this.vel)}}class R{constructor(a,o,h,c,C){r(this,"width");r(this,"height");r(this,"wh");r(this,"step");r(this,"sx");r(this,"sy");r(this,"paint");r(this,"plx");r(this,"ply");r(this,"mscases");r(this,"ix");r(this,"grid");r(this,"balls");r(this,"iter");r(this,"sign");r(this,"metaFill",null);r(this,"originalMinColor");r(this,"originalMaxColor");r(this,"hSpeed",.5);r(this,"vSpeed",.5);this.width=a,this.height=o,this.wh=Math.min(a,o),this.step=5,this.sx=Math.floor(this.width/this.step),this.sy=Math.floor(this.height/this.step),this.paint=!1,this.plx=[0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,0],this.ply=[0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1],this.mscases=[0,3,0,3,1,3,0,3,2,2,0,2,1,1,0],this.ix=[1,0,-1,0,0,1,0,-1,-1,0,1,0,0,1,1,0,0,0,1,1],this.grid=[],this.balls=[],this.iter=0,this.sign=1,this.originalMinColor=c,this.originalMaxColor=C;for(let f=0;f<(this.sx+2)*(this.sy+2);f++)this.grid[f]=new D(f%(this.sx+2)*this.step,Math.floor(f/(this.sx+2))*this.step);for(let f=0;f<h;f++)this.balls[f]=new et(a,o,this.hSpeed,this.vSpeed)}computeForce(a,o,h){const c=h||a+o*(this.sx+2);if(a===0||o===0||a===this.sx||o===this.sy)return this.grid[c].force=.6*this.sign,.6*this.sign;let C=0;const f=this.grid[c];for(let d=0;d<this.balls.length;d++){const A=this.balls[d];C+=A.size*A.size/(-2*f.x*A.pos.x-2*f.y*A.pos.y+A.pos.magnitude+f.magnitude)}return C*=this.sign,this.grid[c].force=C,C}marchingSquares(a){const o=a[0],h=a[1],c=a[2],C=o+h*(this.sx+2);if(this.grid[C].computed===this.iter)return!1;let f=0;for(let I=0;I<4;I++){const j=o+this.ix[I+12],W=h+this.ix[I+16],ot=j+W*(this.sx+2);let K=this.grid[ot].force;(K>0&&this.sign<0||K<0&&this.sign>0||!K)&&(K=this.computeForce(j,W,ot)),Math.abs(K)>1&&(f+=Math.pow(2,I))}if(f===15)return[o,h-1,0];let d;f===5?d=c===2?3:1:f===10?d=c===3?0:2:(d=this.mscases[f],this.grid[C].computed=this.iter);const A=this.step/(Math.abs(Math.abs(this.grid[o+this.plx[4*d+2]+(h+this.ply[4*d+2])*(this.sx+2)].force)-1)/Math.abs(Math.abs(this.grid[o+this.plx[4*d+3]+(h+this.ply[4*d+3])*(this.sx+2)].force)-1)+1);return u&&u.lineTo(this.grid[o+this.plx[4*d]+(h+this.ply[4*d])*(this.sx+2)].x+this.ix[d]*A,this.grid[o+this.plx[4*d+1]+(h+this.ply[4*d+1])*(this.sx+2)].y+this.ix[d+4]*A),this.paint=!0,[o+this.ix[d+4],h+this.ix[d+8],d]}getCurrentColors(){const a=Date.now()*.001,o=Math.sin(a*.5)*15,h=(210+o)%360,c=(240+o)%360;return{minColor:`hsla(${h}, 70%, 50%, 0.2)`,maxColor:`hsla(${c}, 80%, 45%, 0.7)`}}renderMetaballs(){if(!u)return;const a=this.getCurrentColors();if(!this.metaFill||a.minColor!==this.originalMinColor||a.maxColor!==this.originalMaxColor){const o=u.createRadialGradient(this.width/2,this.height/2,0,this.width/2,this.height/2,this.width/2);o.addColorStop(0,a.minColor),o.addColorStop(1,a.maxColor),this.metaFill=o,this.originalMinColor=a.minColor,this.originalMaxColor=a.maxColor}for(let o=0;o<this.balls.length;o++)this.balls[o].move();this.iter++,this.sign=-this.sign,this.paint=!1,this.metaFill&&(u.fillStyle=this.metaFill),u.beginPath();for(let o=0;o<this.balls.length;o++){const h=this.balls[o];let c=[Math.round(h.pos.x/this.step),Math.round(h.pos.y/this.step),0];for(;c;){const C=this.marchingSquares(c);if(Array.isArray(C))c=C;else break}this.paint&&u&&(u.fill(),u.closePath(),u.beginPath(),this.paint=!1)}}}const T=x(null),at=(b,a)=>({elem:b,callback:null,ctx:null,width:0,height:0,left:0,top:0,init:function(h,c){return this.callback=h||null,this.elem.tagName==="CANVAS"&&(this.ctx=this.elem.getContext("2d")),window.addEventListener("resize",this.resize.bind(this),!1),this.elem.onselectstart=()=>!1,this.elem.ondrag=()=>!1,c&&this.resize(),this},resize:function(){const h=this.elem;this.width=h.offsetWidth,this.height=h.offsetHeight,this.left=0,this.top=0;let c=h;for(;c;)this.left+=c.offsetLeft,this.top+=c.offsetTop,c=c.offsetParent;this.ctx&&this.elem instanceof HTMLCanvasElement&&(this.elem.width=this.width,this.elem.height=this.height),this.callback&&this.callback()}}),G=()=>{if(!T.value||!s.enabled)return;const b=T.value,a=at(b);if(a.init(void 0,!0),y=a,u=a.ctx,!u)return;const o={minColor:"hsla(210, 70%, 50%, 0.2)",maxColor:"hsla(240, 80%, 45%, 0.7)"};U=new R(y.width,y.height,4,o.minColor,o.maxColor);const h=()=>{if(!s.enabled||!T.value||!u){N();return}w=Date.now(),V=w-z,V>O&&(z=w-V%O,u&&y&&(u.clearRect(0,0,y.width,y.height),U.renderMetaballs())),s.enabled&&(v=requestAnimationFrame(h))};v=requestAnimationFrame(h)},N=()=>{if(v&&(cancelAnimationFrame(v),v=null),T.value&&u){const b=T.value.getContext("2d");b&&b.clearRect(0,0,T.value.width,T.value.height)}},st=()=>{s.enabled&&(N(),setTimeout(()=>{s.enabled&&G()},100))};return rt(()=>{s.enabled&&setTimeout(()=>{G()},100),window.addEventListener("resize",st)}),ht(()=>{N(),window.removeEventListener("resize",st)}),At(()=>s.enabled,b=>{b?setTimeout(()=>{G()},100):N()},{immediate:!0}),(b,a)=>b.enabled?(B(),X("canvas",{key:0,ref_key:"canvasRef",ref:T,id:"lava",width:"100%",height:"100%"},null,512)):tt("",!0)}}),Pt=pt(Ft,[["__scopeId","data-v-9a3cae0a"]]),Bt={class:"header_auth"},Ut={class:"container header_auth_container"},Vt={class:"header_auth_block"},Nt={class:"header_auth_flex"},Kt={class:"header_auth_logo"},qt={class:"header_auth_logo_image"},Ht={class:"header_auth_logo_info"},Ot={class:"header_auth_logo_head"},Gt={class:"header_auth_logo_desc text_four"},jt={class:"header_auth_right"},Wt={class:"auth"},Yt={class:"lava__flex"},Jt={class:"lava"},Qt={class:"container auth__container"},Zt={class:"auth__block"},Xt={class:"auth__left"},te={class:"auth__information"},ee={class:"auth__heading"},se={class:"auth__description"},oe={class:"auth__right"},ie={class:"auth__info"},ae={class:"auth__label"},le={class:"auth__label_name"},ne={key:0,class:"auth__error error"},re={class:"auth__label"},he={class:"auth__label_name"},ce={key:0,class:"auth__error error"},ue={class:"auth__policy_flex"},_e={class:"auth__text"},de={class:"footer"},fe={class:"container footer__container"},pe={class:"footer__block"},me={class:"footer__info"},ve={class:"footer__description text_three"},ge={class:"footer__rules_scroll popup__scroll"},xe={class:"footer__rules_block popup__block"},we={class:"footer__rules_head popup__head"},ye={class:"footer__rules_list"},be={class:"footer__rules_item"},Ce={class:"footer__rules_title"},Me={class:"footer__rules_flex"},ke={class:"footer__rules_info"},Se={class:"footer__rules_desc text_four"},Te={class:"footer__rules_flex"},Ae={class:"footer__rules_info"},ze={class:"footer__rules_desc text_four"},De={class:"footer__rules_item"},Ee={class:"footer__rules_title"},$e={class:"footer__rules_flex"},Le={class:"footer__rules_info"},Re={class:"footer__rules_desc text_four"},Ie={class:"footer__rules_flex"},Fe={class:"footer__rules_info"},Pe={class:"footer__rules_desc text_four"},Be={class:"footer__rules_item"},Ue={class:"footer__rules_title"},Ve={class:"footer__rules_flex"},Ne={class:"footer__rules_info"},Ke={class:"footer__rules_link text_one"},qe={class:"footer__rules_desc text_four"},He={class:"footer__rules_flex"},Oe={class:"footer__rules_info"},Ge={key:0},je={class:"footer__rules_desc text_four"},We=ft({__name:"Auth",setup(p){const{t:s}=Lt(),v=Mt(),U=x(new Date().getFullYear()),y=x(!1),u=x(!1),z=x(""),$=x(""),w=x(""),O=x(""),V=x(!1),D=x(!1),et=x(""),R=x(new Date);let T;const at=Q(()=>{const i=R.value.getHours(),e=R.value.getDay();return e>=1&&e<=5&&(i>=8&&i<12||i>=13&&i<17)}),G=Q(()=>{const i=R.value.getHours(),e=R.value.getDay();return e>=1&&e<=5&&i>=12&&i<13}),N=()=>{const i=new Date,e=3*60,k=new Date(i.getTime()+(e+i.getTimezoneOffset())*6e4),m=k.getHours().toString().padStart(2,"0"),L=k.getMinutes().toString().padStart(2,"0"),q=k.getSeconds().toString().padStart(2,"0");et.value=`${m}:${L}:${q}`,R.value=k};rt(async()=>{N(),T=window.setInterval(N,1e3),gt()}),ht(()=>{clearInterval(T)});const st=i=>{const e=i.length-w.value.length;e>0?w.value+="x".repeat(e):e<0&&(w.value=w.value.slice(0,i.length)),O.value="*".repeat(i.length),$.value=nt(w.value)},b=i=>{i.key.length===1&&!i.ctrlKey&&!i.altKey&&!i.metaKey&&setTimeout(()=>{if(w.value.length>0){const e=w.value.slice(0,-1)+i.key;w.value=e,$.value=nt(e)}},10)},a=i=>{var k;i.preventDefault();const e=((k=i.clipboardData)==null?void 0:k.getData("text"))||"";w.value=e,O.value="*".repeat(e.length),$.value=nt(w.value)},o=i=>{const e=i.target;e.selectionStart===e.selectionEnd&&setTimeout(()=>{e.setSelectionRange(e.value.length,e.value.length)},0)},h=i=>{const e=i.target;["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(i.key)&&setTimeout(()=>{e.selectionStart===e.selectionEnd&&e.setSelectionRange(e.value.length,e.value.length)},0)},c=()=>{D.value=!D.value,V.value=!V.value,D.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},C=Q(()=>!z.value.trim()||!$.value.trim()),f=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=()=>{f()},A=x("00"),I=x("00"),j=x(!1),W=x(0),ot=i=>{j.value=!0;var e=new Date;e.setSeconds(e.getSeconds()+i);var k;const m=(L,q,Y,J)=>{var M=e-new Date,it=M%1e3;M=Math.floor(M/1e3);var F=M%60;F<10&&(F="0"+F),M=Math.floor(M/60);var P=M%60;P<10&&(P="0"+P),M=Math.floor(M/60);var H=M%24;H<10&&(H="0"+H);var xt=Math.floor(M/24);if(L=+xt,q=+H,Y=+P,J=+F,A.value=("0"+Y).slice(-2),I.value=("0"+J).slice(-2),k=L*86400+q*3600+Y*60+J,k<=0){j.value=!1,y.value=!1,u.value=!1;return}window.clearTimeout(W.value),W.value=window.setTimeout(m,it)};window.setTimeout(m,0)},K=async()=>{y.value=!1,u.value=!1;const i=It($.value);await bt("post","/api/v1/verify-code/",{login:z.value,password:i}).then(e=>(dt({message:mt.value,type:"success"}),Ct(e.data.access,e.data.refresh),v.push({name:"map"}),e)).catch(e=>{ot(5),dt({message:vt.value+" - "+e,type:"error"}),y.value=!0,u.value=!0})},mt=Q(()=>`${s("elmessage.authSuccess")}`),vt=Q(()=>`${s("elmessage.authError")}`),gt=async()=>{},ct=x(St(_t.LAVA,!1));return rt(()=>{const i=Tt(e=>{ct.value=e},_t.LAVA);ht(()=>{i()})}),(i,e)=>{const k=E("User"),m=E("el-icon"),L=E("el-button"),q=E("el-input"),Y=E("ArrowUpBold"),J=E("CloseBold"),M=E("ChatDotRound"),it=E("Phone"),F=E("Message"),P=E("Clock");return B(),X(zt,null,[t("div",{class:Z(["overlay_full",{active:V.value}]),onClick:c},null,2),t("header",Bt,[t("div",Ut,[t("div",Vt,[t("div",Nt,[t("div",Kt,[t("div",qt,[n(Dt)]),t("div",Ht,[t("p",Ot,[t("span",null,l(_(s)("header.em")),1),S("-"+l(_(s)("header.dispatcher")),1)]),t("p",Gt,l(_(s)("header.smt")),1)])]),t("div",jt,[n(Et),n($t)])])])])]),e[9]||(e[9]=t("section",{class:"top"},null,-1)),t("section",Wt,[t("div",Yt,[t("div",Jt,[e[2]||(e[2]=t("div",{class:"lava__image"},[t("img",{src:Rt,alt:""})],-1)),ct.value?(B(),lt(Pt,{key:0})):tt("",!0)]),t("div",Qt,[t("div",Zt,[t("div",Xt,[t("div",te,[t("h3",ee,[t("span",null,l(_(s)("header.em")),1),S("-"+l(_(s)("header.dispatcher")),1)]),t("h4",se,l(i.$t("auth.auth")),1)])]),t("div",oe,[t("div",ie,[t("div",ae,[t("p",le,[n(m,null,{default:g(()=>[n(k)]),_:1}),S(l(i.$t("auth.login")),1)]),t("div",{class:Z(["auth__input",{error:y.value}])},[n(q,{modelValue:z.value,"onUpdate:modelValue":e[0]||(e[0]=H=>z.value=H),type:"text",size:"large",placeholder:i.$t("auth.loginEnter")},{prepend:g(()=>[n(L,{class:"auth__icon",icon:_(kt)},null,8,["icon"])]),_:1},8,["modelValue","placeholder"]),u.value===!0?(B(),X("small",ne,l(i.$t("error.login")),1)):tt("",!0)],2)]),t("div",re,[t("p",he,[n(m,null,{default:g(()=>[n(_(ut))]),_:1}),S(l(_(s)("auth.pass")),1)]),t("div",{class:Z(["auth__input",{error:y.value}])},[n(q,{"model-value":O.value,onInput:st,onKeydown:b,onPaste:a,onMouseup:o,onKeyup:h,size:"large",type:"password",placeholder:i.$t("auth.passEnter")},{prepend:g(()=>[n(L,{class:"auth__icon",icon:_(ut)},null,8,["icon"])]),_:1},8,["model-value","placeholder"]),u.value?(B(),X("small",ce,l(_(s)("error.pass")),1)):tt("",!0)],2)])]),t("div",ue,[j.value===!0?(B(),lt(L,{key:0,class:"auth__timecode",type:"primary",disabled:""},{default:g(()=>[t("span",_e,l(i.$t("button.wait")),1),e[3]||(e[3]=S()),t("span",null,l(A.value)+":"+l(I.value),1)]),_:1})):(B(),lt(L,{key:1,class:"auth__button",disabled:C.value,type:"primary",onClick:e[1]||(e[1]=H=>K())},{default:g(()=>[S(l(i.$t("button.enter")),1)]),_:1},8,["disabled"]))])])])])])]),t("footer",de,[t("div",fe,[t("div",pe,[t("div",me,[t("p",ve,l(_(s)("footer.copy"))+l(U.value)+"Ð³.",1),t("div",{class:"footer__description_link text_three",onClick:c},l(_(s)("footer.contacts")),1),t("button",{class:"footer__up button",onClick:d},[t("span",null,[n(m,null,{default:g(()=>[n(Y)]),_:1})]),S(" "+l(_(s)("footer.up")),1)])])])])]),t("div",{class:Z(["footer__rules popup",{active:D.value}])},[t("div",ge,[t("div",xe,[t("button",{class:"footer__rules_close popup__close",onClick:c},[n(m,null,{default:g(()=>[n(J)]),_:1})]),t("h3",we,l(_(s)("footer.contacts")),1),t("ul",ye,[t("li",be,[t("h4",Ce,[n(m,null,{default:g(()=>[n(M)]),_:1}),S(" "+l(_(s)("footer.support")),1)]),t("div",Me,[n(m,null,{default:g(()=>[n(it)]),_:1}),t("div",ke,[e[4]||(e[4]=t("a",{href:"tel:88007009802",class:"footer__rules_link text_one"},"8 800 700 98 02",-1)),t("span",Se,l(_(s)("footer.multichannel")),1)])]),t("div",Te,[n(m,null,{default:g(()=>[n(it)]),_:1}),t("div",Ae,[e[5]||(e[5]=t("a",{href:"tel:+78412209000",class:"footer__rules_link text_one"},"+7 (8412) 209-000",-1)),t("span",ze,l(_(s)("footer.mainnumber")),1)])])]),t("li",De,[t("h4",Ee,[n(m,null,{default:g(()=>[n(F)]),_:1}),S(" "+l(_(s)("footer.email")),1)]),t("div",$e,[n(m,null,{default:g(()=>[n(F)]),_:1}),t("div",Le,[e[6]||(e[6]=t("a",{href:"mailto:info@elmeh.ru",class:"footer__rules_link text_one"},"info@elmeh.ru",-1)),t("span",Re,l(_(s)("footer.questions")),1)])]),t("div",Ie,[n(m,null,{default:g(()=>[n(F)]),_:1}),t("div",Fe,[e[7]||(e[7]=t("a",{href:"mailto:smt@elmeh.ru",class:"footer__rules_link text_one"},"smt@elmeh.ru",-1)),t("span",Pe,l(_(s)("footer.technical")),1)])])]),t("li",Be,[t("h4",Ue,[n(m,null,{default:g(()=>[n(P)]),_:1}),S(" "+l(_(s)("footer.working")),1)]),t("div",Ve,[n(m,null,{default:g(()=>[n(P)]),_:1}),t("div",Ne,[t("span",Ke,l(_(s)("footer.mon-fri")),1),t("span",qe,l(_(s)("footer.msk"))+" "+l(_(s)("footer.utc")),1)])]),t("div",He,[n(m,null,{default:g(()=>[n(P)]),_:1}),t("div",Oe,[t("span",{class:Z(["footer__rules_date text_one",{error:!at.value||G.value}])},[S(l(et.value)+" - ",1),t("span",null,l(i.$d(R.value,"weekday")),1),e[8]||(e[8]=S()),G.value?(B(),X("span",Ge,"("+l(_(s)("footer.lunch"))+")",1)):tt("",!0)],2),t("span",je,l(_(s)("footer.current"))+" "+l(_(s)("footer.utc")),1)])])])])])])],2)],64)}}}),Ms=pt(We,[["__scopeId","data-v-afe75571"]]);export{Ms as default};
