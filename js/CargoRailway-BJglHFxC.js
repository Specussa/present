import{d as fe,e as b,b as P,m as we,U as Ce,c as m,R as l,I as $,a as e,J as s,u as t,E as j,M as G,O as L,P as a,D as x,Q as R,al as d,o as _,a4 as S,W as ye}from"./vendor-@vue-Bz_wJ882.js";import{B as ke,A as Le,P as xe,M as Te}from"./vendor-@element-plus-CjGJe9ZW.js";import{g as De,o as Ve,A as X,T as Z}from"./index-B1OW0bLG.js";import{H as Ae}from"./Header-BeDEvoTn.js";import{F as Be}from"./Footer-C_jnp8KX.js";import{B as Ee}from"./Back-D0M08hYx.js";import{P as Re}from"./Preloader-CB2GV1Rf.js";import{C as ee}from"./CargoList-dZlJwhbg.js";import{C as Oe}from"./CargoFaq-RTHx24zA.js";import{_ as Fe}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-BBlSWj7M.js";import{u as Ne}from"./vendor-vue-i18n-DztdJ-Qd.js";import{_ as Me}from"./LogoSVG-DZlOckXV.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-router-0eOeNsIj.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-element-plus-Cew9W0b1.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-@intlify-CQT3u4ju.js";import"./VideoPlayer-PAPHiNxs.js";import"./GoBack-D2sDyfdX.js";const Ue={key:1,class:"cargo"},Ie={class:"cargo__container container"},Se={class:"cargo__block"},He={class:"cargo__flex list_flex"},Pe={class:"cargo__left list_left"},We={class:"cargo__list list_scroll"},qe={class:"cargo__right list_right"},Ke={class:"breadcrumbs"},Qe={class:"breadcrumbs__list"},ze={class:"breadcrumbs__item"},Je={class:"breadcrumbs__item"},Ye=["title"],$e={class:"faq__icon"},je={class:"cargo__select","is-mobile":!0},Ge={class:"cargo__tables"},Xe={class:"cargo__table cargo__one"},Ze={class:"el-table_title"},et={class:"el-table_count text_four"},tt={class:"el-table_arrow"},lt={class:"table_empty"},ot={key:0,class:"el-table_bottom"},at={class:"el-table_bottom_left"},st={class:"el-table_search"},nt={key:0,class:"cargo__table cargo__two"},rt={class:"el-table_title"},ct={class:"el-table_number"},ut={class:"el-table_count text_four"},it={class:"el-table_arrow"},_t={class:"table_empty"},dt={key:1,class:"el-table__empty"},pt={class:"el-table__empty_text text_two"},bt={key:2,class:"el-table__empty"},mt={class:"el-table__empty_text text_two"},gt={class:"ipopup__scroll popup__scroll"},vt={class:"ipopup__block popup__block"},ht={class:"cargo_add__scroll popup__scroll_buttons"},ft={class:"cargo_add__block popup__block"},wt={class:"cargo_add__head popup__head"},Ct={class:"transfer__option text_three transfer__option_three_four"},yt={class:"transfer__switch"},kt={class:"transfer__footer text_three transfer__footer_three"},Lt={class:"transfer__footer text_three transfer__footer_four"},xt={class:"popup__buttons"},Tt={class:"cargo_disband__scroll popup__scroll_buttons"},Dt={class:"cargo_disband__block popup__block"},Vt={class:"cargo_disband__head popup__head"},At={class:"popup__buttons"},Bt={class:"cargo_delete__scroll popup__scroll_buttons"},Et={class:"cargo_delete__block popup__block"},Rt={class:"cargo_delete__head popup__head"},Ot={class:"popup__buttons"},Ft=fe({__name:"CargoRailway",setup(Nt){const{t:o}=Ne(),te=b(!1),w=b(""),W=P(()=>w.value?z.filter(n=>{var r,i,f,u,g;return((r=n.number)==null?void 0:r.toLowerCase().includes(w.value.toLowerCase()))||((i=n.date)==null?void 0:i.toLowerCase().includes(w.value.toLowerCase()))||((f=n.count)==null?void 0:f.toLowerCase().includes(w.value.toLowerCase()))||((u=n.massa)==null?void 0:u.toLowerCase().includes(w.value.toLowerCase()))||((g=n.wagons)==null?void 0:g.toLowerCase().includes(w.value.toLowerCase()))}):z),h=b(!1),T=b(!1),D=b(!1),V=b(!1),A=b(!1),le=()=>{T.value=!1,D.value=!1,V.value=!1,A.value=!1,h.value=!1,document.documentElement.classList.remove("noscroll")},q=()=>{T.value=!T.value,h.value=!h.value,T.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},O=()=>{D.value=!D.value,h.value=!h.value,D.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},F=()=>{V.value=!V.value,h.value=!h.value,V.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},N=()=>{A.value=!A.value,h.value=!h.value,A.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},K=b([]),oe=b((()=>{const n=[],r=["0001","0002","0003","0004","0005"],i=["Серия А","Серия Б","Серия В","Серия Г","Серия Д"],f=["Сцепка 1","Сцепка 2","Сцепка 3","Сцепка 4","Сцепка 5"];return r.forEach((u,g)=>{n.push({label:u,key:g,initial:i[g],number:u,series:i[g],coupling:f[g],nudge:!1})}),n})()),ae=(n,r)=>{var f,u,g,E;const i=n.toLowerCase();return((f=r.number)==null?void 0:f.toLowerCase().includes(i))||((u=r.series)==null?void 0:u.toLowerCase().includes(i))||((g=r.initial)==null?void 0:g.toLowerCase().includes(i))||((E=r.label)==null?void 0:E.toLowerCase().includes(i))},C=b(),se=b(),B=b(!0),M=b(!0),H=P(()=>{var n;return(n=C.value)!=null&&n.number?de.filter(r=>{var i;return(i=r.number)==null?void 0:i.includes(C.value.number)}):[]}),Q=P(()=>H.value.length>0),ne=n=>{C.value=n},re=n=>{se.value=n},ce=({rowIndex:n})=>n%2===1?"bg_gray":"",ue=({rowIndex:n})=>n%2===1?"bg_gray":"",ie=()=>{B.value=!B.value},_e=()=>{M.value=!M.value},z=[{id:1,number:"0001",date:"2016-05-03",count:"1",massa:"6",wagons:"3"},{id:2,number:"0002",date:"2016-05-03",count:"1",massa:"6",wagons:"1"},{id:3,number:"0003",date:"2016-05-03",count:"1",massa:"6",wagons:"0"},{id:4,number:"0004",date:"2016-05-03",count:"1",massa:"6",wagons:"7"}],de=[{id:[1,2],number:["0001","0002"],series:["2016-05-03","2016-05-04"],coupling:["1","2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"},{id:[3],number:["0003"],series:["2016-05-04"],coupling:["2"],nudge:"6",wagons:"3",netweight:"3",grossweight:"3",additionalmass:"3",axles:"3",tara:"3"}],J=b(De(X.BACK,!1));return we(()=>{const n=Ve(r=>{J.value=r},X.BACK);Ce(()=>{n()})}),(n,r)=>{const i=d("RouterLink"),f=d("QuestionFilled"),u=d("el-icon"),g=d("router-view"),E=d("ArrowDown"),c=d("el-table-column"),Y=d("el-table"),U=d("el-button"),pe=d("el-button-group"),be=d("el-input"),me=d("FolderOpened"),ge=d("Top"),I=d("CloseBold"),ve=d("el-switch"),he=d("el-transfer");return _(),m(R,null,[l(Ae),te.value?(_(),$(Re,{key:0})):(_(),m("section",Ue,[e("div",Ie,[e("div",Se,[e("div",He,[e("div",Pe,[e("ul",We,[l(ee,{"is-mobile":!1})])]),e("div",qe,[e("div",Ke,[e("ul",Qe,[l(Fe),e("li",ze,[l(i,{class:"breadcrumbs__link text_four",to:t(Z).i18nRoute({name:"cargo"})},{default:s(()=>[L(a(t(o)("header.cargo")),1)]),_:1},8,["to"])]),e("li",Je,[l(i,{class:"breadcrumbs__link text_four",to:t(Z).i18nRoute({name:"cargorailway"})},{default:s(()=>[L(a(t(o)("header.cargorailway")),1)]),_:1},8,["to"])])]),e("button",{class:"breadcrumbs__instructions title_three",title:t(o)("header.instructions"),onClick:q},[e("span",$e,[l(u,null,{default:s(()=>[l(f)]),_:1})])],8,Ye)]),e("div",je,[l(ee,{"is-mobile":!0}),l(g)]),e("div",Ge,[e("div",Xe,[l(Y,{ref:"oneTableRef",data:W.value,"highlight-current-row":"",style:j([{width:"100%"},{maxHeight:B.value?"240px":"25px"}]),"row-class-name":ce,onCurrentChange:ne,"max-height":"240",border:""},{empty:s(()=>[e("div",lt,a(t(o)("table.noData")),1)]),default:s(()=>[l(c,{"header-align":"center"},{header:s(()=>[e("span",{class:x(["el-table_top",{active:B.value}]),onClick:ie},[e("span",Ze,[L(a(t(o)("table.railwayTrains"))+" - ",1),e("span",et,a(W.value.length),1)]),e("span",tt,[l(u,null,{default:s(()=>[l(E)]),_:1})])],2)]),default:s(()=>[l(c,{property:"id",sortable:"",label:t(o)("table.id"),width:"65"},null,8,["label"]),l(c,{property:"number",sortable:"",label:t(o)("table.number"),width:"110"},null,8,["label"]),l(c,{property:"date",sortable:"",label:t(o)("table.dateNumber")},null,8,["label"]),l(c,{property:"count",sortable:"",label:t(o)("table.locomotivesCount")},null,8,["label"]),l(c,{property:"massa",sortable:"",label:t(o)("table.cargoMass")},null,8,["label"]),l(c,{property:"wagons",sortable:"",label:t(o)("table.carNumber")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),B.value?(_(),m("div",ot,[e("div",at,[l(pe,{class:"el-table_buttons"},{default:s(()=>[l(U,{type:"primary",class:"el-table_button",icon:t(ke),title:t(o)("button.addComposition"),onClick:O},null,8,["icon","title"]),l(U,{type:"primary",class:"el-table_button",icon:t(Le),title:t(o)("button.disbandComposition"),onClick:F},null,8,["icon","title"]),l(U,{type:"danger",class:"el-table_button",icon:t(xe),title:t(o)("button.deleteComposition"),onClick:N},null,8,["icon","title"])]),_:1}),e("div",st,[l(be,{modelValue:w.value,"onUpdate:modelValue":r[0]||(r[0]=p=>w.value=p),placeholder:t(o)("sort.search")},{prepend:s(()=>[l(U,{icon:t(Te),title:t(o)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):G("",!0)]),C.value&&Q.value?(_(),m("div",nt,[l(Y,{ref:"twoTableRef",data:H.value,"highlight-current-row":"",style:j([{width:"100%"},{maxHeight:M.value?"240px":"25px"}]),"row-class-name":ue,onCurrentChange:re,"max-height":"240",border:""},{empty:s(()=>[e("div",_t,a(t(o)("table.noData")),1)]),default:s(()=>{var p;return[l(c,{"header-align":"center"},{header:s(()=>{var v;return[e("span",{class:x(["el-table_top",{active:M.value}]),onClick:_e},[e("span",rt,[L(a(t(o)("table.listLocomotives"))+" ",1),e("span",ct,a((v=C.value)==null?void 0:v.number),1),r[3]||(r[3]=L(" - ")),e("span",ut,a(H.value.length),1)]),e("span",it,[l(u,null,{default:s(()=>[l(E)]),_:1})])],2)]}),default:s(()=>[l(c,{label:t(o)("table.id"),width:"65",align:"center"},{default:s(v=>[(_(!0),m(R,null,S(v.row.id,(y,k)=>(_(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),l(c,{label:t(o)("table.number"),width:"110",align:"center"},{default:s(v=>[(_(!0),m(R,null,S(v.row.number,(y,k)=>(_(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),l(c,{label:t(o)("table.series"),align:"center"},{default:s(v=>[(_(!0),m(R,null,S(v.row.series,(y,k)=>(_(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"]),l(c,{label:t(o)("table.coupling"),align:"center"},{default:s(v=>[(_(!0),m(R,null,S(v.row.coupling,(y,k)=>(_(),m("div",{key:k,class:"multi-value-cell"},a(y),1))),128))]),_:1},8,["label"])]),_:1}),l(c,{label:t(o)("table.cargoTrain",{number:((p=C.value)==null?void 0:p.number)||""}),"header-align":"center"},{default:s(()=>[l(c,{property:"nudge",label:t(o)("table.signNudge"),align:"center"},null,8,["label"]),l(c,{property:"wagons",label:t(o)("table.numberWagons"),align:"center"},null,8,["label"]),l(c,{property:"netweight",label:t(o)("table.netWeight"),align:"center"},null,8,["label"]),l(c,{property:"grossweight",label:t(o)("table.grossWeight"),align:"center"},null,8,["label"]),l(c,{property:"additionalmass",label:t(o)("table.additionalMass"),align:"center"},null,8,["label"]),l(c,{property:"axles",label:t(o)("table.numberAxles"),align:"center"},null,8,["label"]),l(c,{property:"tara",label:t(o)("table.tara"),align:"center"},null,8,["label"])]),_:1},8,["label"])]}),_:1},8,["data","style"])])):C.value&&!Q.value?(_(),m("div",dt,[e("p",pt,[l(u,null,{default:s(()=>[l(me)]),_:1}),L(" "+a(t(o)("table.empty")),1)])])):(_(),m("div",bt,[e("p",mt,[l(u,null,{default:s(()=>[l(ge)]),_:1}),L(" "+a(t(o)("table.emptyTop")),1)])]))]),J.value?(_(),$(Ee,{key:0})):G("",!0)])])])])])),e("div",{class:x(["overlay_full",{active:h.value}]),onClick:le},null,2),e("div",{class:x(["ipopup popup",{active:T.value}])},[e("div",gt,[e("div",vt,[e("button",{class:"ipopup__close popup__close",onClick:q},[l(u,null,{default:s(()=>[l(I)]),_:1})]),l(Oe)])])],2),e("div",{class:x(["cargo_add popup",{active:D.value}])},[e("div",ht,[e("div",ft,[e("button",{class:"cargo_add__close popup__close",onClick:O},[l(u,null,{default:s(()=>[l(I)]),_:1})]),e("h4",wt,a(t(o)("table.enteringCoupling")),1),l(he,{modelValue:K.value,"onUpdate:modelValue":r[2]||(r[2]=p=>K.value=p),filterable:"","filter-method":ae,"filter-placeholder":t(o)("sort.search"),data:oe.value,"max-height":"240",titles:[t(o)("table.listLoco"),t(o)("table.listLocoCoupling")]},{default:s(({option:p})=>[e("div",Ct,[e("span",null,a(p.number||p.label),1),e("span",null,a(p.series||p.initial),1),e("span",null,a(p.coupling||""),1),e("span",yt,[l(ve,{modelValue:p.nudge,"onUpdate:modelValue":v=>p.nudge=v,title:t(o)("table.nudge"),onClick:r[1]||(r[1]=ye(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","title"])])])]),"left-footer":s(()=>[e("div",kt,[e("span",null,a(t(o)("table.number")),1),e("span",null,a(t(o)("table.series")),1),e("span",null,a(t(o)("table.coupling")),1)])]),"right-footer":s(()=>[e("div",Lt,[e("span",null,a(t(o)("table.number")),1),e("span",null,a(t(o)("table.series")),1),e("span",null,a(t(o)("table.coupling")),1),e("span",null,a(t(o)("table.nudge")),1)])]),_:1},8,["modelValue","filter-placeholder","data","titles"])])]),e("div",xt,[e("button",{class:"popup__button button__second button",onClick:O},[e("span",null,a(t(o)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:O},[e("span",null,a(t(o)("button.save")),1)])])],2),e("div",{class:x(["cargo_disband popup",{active:V.value}])},[e("div",Tt,[e("div",Dt,[e("button",{class:"cargo_disband__close popup__close",onClick:F},[l(u,null,{default:s(()=>[l(I)]),_:1})]),e("h4",Vt,a(t(o)("table.enteringCoupling")),1)])]),e("div",At,[e("button",{class:"popup__button button__second button",onClick:F},[e("span",null,a(t(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:F},[e("span",null,a(t(o)("button.disband")),1)])])],2),e("div",{class:x(["cargo_delete popup",{active:A.value}])},[e("div",Bt,[e("div",Et,[e("button",{class:"cargo_delete__close popup__close",onClick:N},[l(u,null,{default:s(()=>[l(I)]),_:1})]),e("h4",Rt,a(t(o)("table.enteringCoupling")),1)])]),e("div",Ot,[e("button",{class:"popup__button button__second button",onClick:N},[e("span",null,a(t(o)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:N},[e("span",null,a(t(o)("button.delete")),1)])])],2),l(Be)],64)}}}),fl=Me(Ft,[["__scopeId","data-v-247af59a"]]);export{fl as default};
