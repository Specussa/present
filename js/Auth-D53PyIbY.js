import{s as pt,a as mt}from"./api-DFSG_ReX.js";import{u as vt}from"./vendor-vue-router-0eOeNsIj.js";import{R as gt,S as at}from"./vendor-@element-plus-DBVaehOC.js";import{d as rt,o as F,c as Q,e as m,b as W,m as wt,U as yt,a as t,D as J,R as l,P as n,u as h,O as k,J as d,M as st,I as lt,Q as xt,al as T}from"./vendor-@vue-Bz_wJ882.js";import{_ as ht}from"./index-DtGRqvgB.js";import{L as bt,a as kt,T as Ct}from"./LogoSVG-DG1jVpry.js";import{E as nt}from"./vendor-element-plus-Dx0wd8qm.js";import{u as Mt}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";const St="/present/assets/authbg-wCZxChGB.webp",ot=y=>{if(!y)return"";try{const i=Math.random().toString(36).substring(2,10),z=Math.floor(Math.random()*15)+1,A=y.split("").map(x=>{const $=x.charCodeAt(0);return String.fromCharCode($^z)}).join("");return`${btoa(encodeURIComponent(A))}|${i}|${z}`}catch(i){return console.error("Encryption error:",i),""}},Tt=y=>{if(!y||!y.includes("|"))return y;try{const i=y.split("|");if(i.length!==3)return y;const[z,A,C]=i,x=parseInt(C);return isNaN(x)?y:decodeURIComponent(atob(z)).split("").map(E=>{const p=E.charCodeAt(0);return String.fromCharCode(p^x)}).join("")}catch(i){return console.error("Decryption error:",i),y}},Dt={id:"lava",width:"100%",height:"100%"},zt=rt({__name:"Lava",setup(y){function i(){var A=11,C=.5,x=.5,$=210,E=240;function p(){var s=Date.now()*.001,a=Math.sin(s*.5)*15,c=($+a)%360,_=(E+a)%360;return{minColor:`hsla(${c}, 70%, 50%, 0.2)`,maxColor:`hsla(${_}, 80%, 45%, 0.7)`}}var V,q={screen:{elem:null,callback:null,ctx:null,width:0,height:0,left:0,top:0,init:function(s,a){return this.elem=document.getElementById("lava"),this.callback=s||null,this.elem.tagName=="CANVAS"&&(this.ctx=this.elem.getContext("2d")),window.addEventListener("resize",(function(){this.resize()}).bind(this),!1),this.elem.onselectstart=function(){return!1},this.elem.ondrag=function(){return!1},a&&this.resize(),this},resize:function(){var s=this.elem;for(this.width=s.offsetWidth,this.height=s.offsetHeight,this.left=0,this.top=0;s!=null;s=s.offsetParent)this.left+=s.offsetLeft,this.top+=s.offsetTop;var a=this.elem;this.ctx&&(a.width=this.width,a.height=this.height),this.callback}}},D=function(s,a){this.x=s,this.y=a,this.magnitude=s*s+a*a,this.computed=0,this.force=0};D.prototype.add=function(s){return new D(this.x+s.x,this.y+s.y)};var G=function(s){this.vel=new D((Math.random()>.5?1:-1)*(C+.25*Math.random()),(Math.random()>.5?1:-1)*(x+Math.random())),this.pos=new D(.2*s.width+Math.random()*s.width*.6,.2*s.height+Math.random()*s.height*.6),this.size=s.wh/A+(1.4*Math.random()+.1)*(s.wh/A),this.width=s.width,this.height=s.height};G.prototype.move=function(){this.pos.x>=this.width-this.size?(this.vel.x>0&&(this.vel.x=-this.vel.x),this.pos.x=this.width-this.size):this.pos.x<=this.size&&(this.vel.x<0&&(this.vel.x=-this.vel.x),this.pos.x=this.size),this.pos.y>=this.height-this.size?(this.vel.y>0&&(this.vel.y=-this.vel.y),this.pos.y=this.height-this.size):this.pos.y<=this.size&&(this.vel.y<0&&(this.vel.y=-this.vel.y),this.pos.y=this.size),this.pos=this.pos.add(this.vel)};var M=function(s,a,c,_,v){this.step=5,this.width=s,this.height=a,this.wh=Math.min(s,a),this.sx=Math.floor(this.width/this.step),this.sy=Math.floor(this.height/this.step),this.paint=!1,this.plx=[0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,0],this.ply=[0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1],this.mscases=[0,3,0,3,1,3,0,3,2,2,0,2,1,1,0],this.ix=[1,0,-1,0,0,1,0,-1,-1,0,1,0,0,1,1,0,0,0,1,1],this.grid=[],this.balls=[],this.iter=0,this.sign=1;for(var r=0;r<(this.sx+2)*(this.sy+2);r++)this.grid[r]=new D(r%(this.sx+2)*this.step,Math.floor(r/(this.sx+2))*this.step);for(var g=0;g<c;g++)this.balls[g]=new G(this);this.originalMinColor=_,this.originalMaxColor=v};M.prototype.computeForce=function(s,a,c){var _,v=c||s+a*(this.sx+2);if(s===0||a===0||s===this.sx||a===this.sy)_=.6*this.sign;else{_=0;for(var r=this.grid[v],g=0,f;f=this.balls[g++];)_+=f.size*f.size/(-2*r.x*f.pos.x-2*r.y*f.pos.y+f.pos.magnitude+r.magnitude);_*=this.sign}return this.grid[v].force=_,_},M.prototype.marchingSquares=function(s){var a=s[0],c=s[1],_=s[2],v=a+c*(this.sx+2);if(this.grid[v].computed===this.iter)return!1;for(var r,g=0,f=0;f<4;f++){var O=a+this.ix[f+12]+(c+this.ix[f+16])*(this.sx+2),I=this.grid[O].force;(I>0&&this.sign<0||I<0&&this.sign>0||!I)&&(I=this.computeForce(a+this.ix[f+12],c+this.ix[f+16],O)),Math.abs(I)>1&&(g+=Math.pow(2,f))}if(g===15)return[a,c-1,!1];g===5?r=_===2?3:1:g===10?r=_===3?0:2:(r=this.mscases[g],this.grid[v].computed=this.iter);var N=this.step/(Math.abs(Math.abs(this.grid[a+this.plx[4*r+2]+(c+this.ply[4*r+2])*(this.sx+2)].force)-1)/Math.abs(Math.abs(this.grid[a+this.plx[4*r+3]+(c+this.ply[4*r+3])*(this.sx+2)].force)-1)+1);return S.lineTo(this.grid[a+this.plx[4*r]+(c+this.ply[4*r])*(this.sx+2)].x+this.ix[r]*N,this.grid[a+this.plx[4*r+1]+(c+this.ply[4*r+1])*(this.sx+2)].y+this.ix[r+4]*N),this.paint=!0,[a+this.ix[r+4],c+this.ix[r+8],r]},M.prototype.renderMetaballs=function(){var s=p();this.metaFill=Y(this.width,this.height,this.width,s.minColor,s.maxColor);for(var a=0,c;c=this.balls[a++];)c.move();for(this.iter++,this.sign=-this.sign,this.paint=!1,S.fillStyle=this.metaFill,S.beginPath(),a=0;c=this.balls[a++];){var _=[Math.round(c.pos.x/this.step),Math.round(c.pos.y/this.step),!1];do _=this.marchingSquares(_);while(_);this.paint&&(S.fill(),S.closePath(),S.beginPath(),this.paint=!1)}};var Y=function(s,a,c,_,v){var r=S.createRadialGradient(s/2,a/2,0,s/2,a/2,c/2);return r.addColorStop(0,_),r.addColorStop(1,v),r},Z=function(){requestAnimationFrame(Z),S.clearRect(0,0,P.width,P.height),V.renderMetaballs()},P=q.screen.init(null,!0),S=P.ctx,X=p();P.resize(),V=new M(P.width,P.height,4,X.minColor,X.maxColor),Z()}function z(){requestAnimationFrame(z)}return setTimeout(function(){i(),z()},1),(A,C)=>(F(),Q("canvas",Dt))}}),$t=ht(zt,[["__scopeId","data-v-e651e7a4"]]),Et={class:"header_auth"},Pt={class:"container header_auth_container"},Rt={class:"header_auth_block"},At={class:"header_auth_flex"},It={class:"header_auth_logo"},Bt={class:"header_auth_logo_image"},Ut={class:"header_auth_logo_info"},Lt={class:"header_auth_logo_head"},Ft={class:"header_auth_logo_desc text_four"},Vt={class:"header_auth_right"},Nt={class:"auth"},Ht={class:"lava__flex"},Kt={class:"lava"},qt={class:"container auth__container"},Gt={class:"auth__block"},Ot={class:"auth__left"},jt={class:"auth__information"},Wt={class:"auth__heading"},Jt={class:"auth__description"},Qt={class:"auth__right"},Yt={class:"auth__info"},Zt={class:"auth__label"},Xt={class:"auth__label_name"},te={key:0,class:"auth__error error"},ee={class:"auth__label"},se={class:"auth__label_name"},oe={key:0,class:"auth__error error"},ie={class:"auth__policy_flex"},ae={class:"auth__text"},le={class:"footer"},ne={class:"container footer__container"},re={class:"footer__block"},he={class:"footer__info"},ce={class:"footer__description text_three"},_e={class:"footer__rules_scroll popup__scroll"},ue={class:"footer__rules_block popup__block"},de={class:"footer__rules_head popup__head"},fe={class:"footer__rules_list"},pe={class:"footer__rules_item"},me={class:"footer__rules_title"},ve={class:"footer__rules_flex"},ge={class:"footer__rules_info"},we={class:"footer__rules_desc text_four"},ye={class:"footer__rules_flex"},xe={class:"footer__rules_info"},be={class:"footer__rules_desc text_four"},ke={class:"footer__rules_item"},Ce={class:"footer__rules_title"},Me={class:"footer__rules_flex"},Se={class:"footer__rules_info"},Te={class:"footer__rules_desc text_four"},De={class:"footer__rules_flex"},ze={class:"footer__rules_info"},$e={class:"footer__rules_desc text_four"},Ee={class:"footer__rules_item"},Pe={class:"footer__rules_title"},Re={class:"footer__rules_flex"},Ae={class:"footer__rules_info"},Ie={class:"footer__rules_link text_one"},Be={class:"footer__rules_desc text_four"},Ue={class:"footer__rules_flex"},Le={class:"footer__rules_info"},Fe={key:0},Ve={class:"footer__rules_desc text_four"},Ne=rt({__name:"Auth",setup(y){const{t:i}=Mt(),z=vt(),A=m(new Date().getFullYear()),C=m(!1),x=m(!1),$=m(""),E=m(""),p=m(""),V=m(""),q=m(!1),D=m(!1),G=m(""),M=m(new Date);let Y;const Z=W(()=>{const o=M.value.getHours(),e=M.value.getDay();return e>=1&&e<=5&&(o>=8&&o<12||o>=13&&o<17)}),P=W(()=>{const o=M.value.getHours(),e=M.value.getDay();return e>=1&&e<=5&&o>=12&&o<13}),S=()=>{const o=new Date,e=3*60,b=new Date(o.getTime()+(e+o.getTimezoneOffset())*6e4),H=b.getHours().toString().padStart(2,"0"),u=b.getMinutes().toString().padStart(2,"0"),R=b.getSeconds().toString().padStart(2,"0");G.value=`${H}:${u}:${R}`,M.value=b};wt(async()=>{S(),Y=window.setInterval(S,1e3),ft()}),yt(()=>{clearInterval(Y)});const X=o=>{const e=o.length-p.value.length;e>0?p.value+="x".repeat(e):e<0&&(p.value=p.value.slice(0,o.length)),V.value="*".repeat(o.length),E.value=ot(p.value)},s=o=>{o.key.length===1&&!o.ctrlKey&&!o.altKey&&!o.metaKey&&setTimeout(()=>{if(p.value.length>0){const e=p.value.slice(0,-1)+o.key;p.value=e,E.value=ot(e)}},10)},a=o=>{var b;o.preventDefault();const e=((b=o.clipboardData)==null?void 0:b.getData("text"))||"";p.value=e,V.value="*".repeat(e.length),E.value=ot(p.value)},c=o=>{const e=o.target;e.selectionStart===e.selectionEnd&&setTimeout(()=>{e.setSelectionRange(e.value.length,e.value.length)},0)},_=o=>{const e=o.target;["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)&&setTimeout(()=>{e.selectionStart===e.selectionEnd&&e.setSelectionRange(e.value.length,e.value.length)},0)},v=()=>{D.value=!D.value,q.value=!q.value,D.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},r=W(()=>!$.value.trim()||!E.value.trim()),g=()=>{window.scrollTo({top:0,behavior:"smooth"})},f=()=>{g()},O=m("00"),I=m("00"),N=m(!1),it=m(0),ct=o=>{N.value=!0;var e=new Date;e.setSeconds(e.getSeconds()+o);var b;const H=(u,R,K,j)=>{var w=e-new Date,et=w%1e3;w=Math.floor(w/1e3);var L=w%60;L<10&&(L="0"+L),w=Math.floor(w/60);var B=w%60;B<10&&(B="0"+B),w=Math.floor(w/60);var U=w%24;U<10&&(U="0"+U);var tt=Math.floor(w/24);if(u=+tt,R=+U,K=+B,j=+L,O.value=("0"+K).slice(-2),I.value=("0"+j).slice(-2),b=u*86400+R*3600+K*60+j,b<=0){N.value=!1,C.value=!1,x.value=!1;return}window.clearTimeout(it.value),it.value=window.setTimeout(H,et)};window.setTimeout(H,0)},_t=async()=>{C.value=!1,x.value=!1;const o=Tt(E.value);await pt("post","/api/v1/verify-code/",{login:$.value,password:o}).then(e=>(nt({message:ut.value,type:"success"}),mt(e.data.access,e.data.refresh),z.push({name:"map"}),e)).catch(e=>{ct(5),nt({message:dt.value+" - "+e,type:"error"}),C.value=!0,x.value=!0})},ut=W(()=>`${i("elmessage.authSuccess")}`),dt=W(()=>`${i("elmessage.authError")}`),ft=async()=>{};return(o,e)=>{const b=T("Globe"),H=T("User"),u=T("el-icon"),R=T("el-button"),K=T("el-input"),j=T("ArrowUpBold"),w=T("CloseBold"),et=T("ChatDotRound"),L=T("Phone"),B=T("Message"),U=T("Clock");return F(),Q(xt,null,[t("div",{class:J(["overlay_full",{active:q.value}]),onClick:v},null,2),t("header",Et,[t("div",Pt,[t("div",Rt,[t("div",At,[t("div",It,[t("div",Bt,[l(bt)]),t("div",Ut,[t("p",Lt,[t("span",null,n(h(i)("header.em")),1),k("-"+n(h(i)("header.dispatcher")),1)]),t("p",Ft,n(h(i)("header.smt")),1)])]),t("div",Vt,[l(kt),l(Ct)])])])])]),e[9]||(e[9]=t("section",{class:"top"},null,-1)),t("section",Nt,[t("div",Ht,[t("div",Kt,[e[2]||(e[2]=t("div",{class:"lava__image"},[t("img",{src:St,alt:""})],-1)),l($t)]),t("div",qt,[t("div",Gt,[l(b),t("div",Ot,[t("div",jt,[t("h3",Wt,[t("span",null,n(h(i)("header.em")),1),k("-"+n(h(i)("header.dispatcher")),1)]),t("h4",Jt,n(o.$t("auth.auth")),1)])]),t("div",Qt,[t("div",Yt,[t("div",Zt,[t("p",Xt,[l(u,null,{default:d(()=>[l(H)]),_:1}),k(n(o.$t("auth.login")),1)]),t("div",{class:J(["auth__input",{error:C.value}])},[l(K,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=tt=>$.value=tt),type:"text",size:"large",placeholder:o.$t("auth.loginEnter")},{prepend:d(()=>[l(R,{class:"auth__icon",icon:h(gt)},null,8,["icon"])]),_:1},8,["modelValue","placeholder"]),x.value===!0?(F(),Q("small",te,n(o.$t("error.login")),1)):st("",!0)],2)]),t("div",ee,[t("p",se,[l(u,null,{default:d(()=>[l(h(at))]),_:1}),k(n(h(i)("auth.pass")),1)]),t("div",{class:J(["auth__input",{error:C.value}])},[l(K,{"model-value":V.value,onInput:X,onKeydown:s,onPaste:a,onMouseup:c,onKeyup:_,size:"large",type:"password",placeholder:o.$t("auth.passEnter")},{prepend:d(()=>[l(R,{class:"auth__icon",icon:h(at)},null,8,["icon"])]),_:1},8,["model-value","placeholder"]),x.value?(F(),Q("small",oe,n(h(i)("error.pass")),1)):st("",!0)],2)])]),t("div",ie,[N.value===!0?(F(),lt(R,{key:0,class:"auth__timecode",type:"primary",disabled:""},{default:d(()=>[t("span",ae,n(o.$t("button.wait")),1),e[3]||(e[3]=k()),t("span",null,n(O.value)+":"+n(I.value),1)]),_:1})):(F(),lt(R,{key:1,class:"auth__button",disabled:r.value,type:"primary",onClick:e[1]||(e[1]=tt=>_t())},{default:d(()=>[k(n(o.$t("button.enter")),1)]),_:1},8,["disabled"]))])])])])])]),t("footer",le,[t("div",ne,[t("div",re,[t("div",he,[t("p",ce,n(h(i)("footer.copy"))+n(A.value)+"Ð³.",1),t("div",{class:"footer__description_link text_three",onClick:v},n(h(i)("footer.contacts")),1),t("button",{class:"footer__up button",onClick:f},[t("span",null,[l(u,null,{default:d(()=>[l(j)]),_:1})]),k(" "+n(h(i)("footer.up")),1)])])])])]),t("div",{class:J(["footer__rules popup",{active:D.value}])},[t("div",_e,[t("div",ue,[t("button",{class:"footer__rules_close popup__close",onClick:v},[l(u,null,{default:d(()=>[l(w)]),_:1})]),t("h3",de,n(h(i)("footer.contacts")),1),t("ul",fe,[t("li",pe,[t("h4",me,[l(u,null,{default:d(()=>[l(et)]),_:1}),k(" "+n(h(i)("footer.support")),1)]),t("div",ve,[l(u,null,{default:d(()=>[l(L)]),_:1}),t("div",ge,[e[4]||(e[4]=t("a",{href:"tel:88007009802",class:"footer__rules_link text_one"},"8 800 700 98 02",-1)),t("span",we,n(h(i)("footer.multichannel")),1)])]),t("div",ye,[l(u,null,{default:d(()=>[l(L)]),_:1}),t("div",xe,[e[5]||(e[5]=t("a",{href:"tel:+78412209000",class:"footer__rules_link text_one"},"+7 (8412) 209-000",-1)),t("span",be,n(h(i)("footer.mainnumber")),1)])])]),t("li",ke,[t("h4",Ce,[l(u,null,{default:d(()=>[l(B)]),_:1}),k(" "+n(h(i)("footer.email")),1)]),t("div",Me,[l(u,null,{default:d(()=>[l(B)]),_:1}),t("div",Se,[e[6]||(e[6]=t("a",{href:"mailto:info@elmeh.ru",class:"footer__rules_link text_one"},"info@elmeh.ru",-1)),t("span",Te,n(h(i)("footer.questions")),1)])]),t("div",De,[l(u,null,{default:d(()=>[l(B)]),_:1}),t("div",ze,[e[7]||(e[7]=t("a",{href:"mailto:smt@elmeh.ru",class:"footer__rules_link text_one"},"smt@elmeh.ru",-1)),t("span",$e,n(h(i)("footer.technical")),1)])])]),t("li",Ee,[t("h4",Pe,[l(u,null,{default:d(()=>[l(U)]),_:1}),k(" "+n(h(i)("footer.working")),1)]),t("div",Re,[l(u,null,{default:d(()=>[l(U)]),_:1}),t("div",Ae,[t("span",Ie,n(h(i)("footer.mon-fri")),1),t("span",Be,n(h(i)("footer.msk"))+" "+n(h(i)("footer.utc")),1)])]),t("div",Ue,[l(u,null,{default:d(()=>[l(U)]),_:1}),t("div",Le,[t("span",{class:J(["footer__rules_date text_one",{error:!Z.value||P.value}])},[k(n(G.value)+" - ",1),t("span",null,n(o.$d(M.value,"weekday")),1),e[8]||(e[8]=k()),P.value?(F(),Q("span",Fe,"("+n(h(i)("footer.lunch"))+")",1)):st("",!0)],2),t("span",Ve,n(h(i)("footer.current"))+" "+n(h(i)("footer.utc")),1)])])])])])])],2)],64)}}}),ms=ht(Ne,[["__scopeId","data-v-fb8218b5"]]);export{ms as default};
