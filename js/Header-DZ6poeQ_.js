import{u as le}from"./vendor-vue-router-0eOeNsIj.js";import{g as re,A as j,o as de,T as H}from"./index-DhV3zo_x.js";import{_ as B,L as _e,T as ce,a as ue,b as he}from"./LogoSVG-DrEZ8wUC.js";import{o as s,c,a as e,d as pe,e as p,m as N,X as ve,U as ge,al as m,D,R as t,J as i,I as f,P as v,u as l,O as me,Q as M,a4 as U,M as b,L as z,E as fe,n as Ce}from"./vendor-@vue-Bz_wJ882.js";import{u as we}from"./vendor-vue-i18n-DztdJ-Qd.js";const be={},ke={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"};function xe(T,g){return s(),c("svg",ke,g[0]||(g[0]=[e("path",{d:"M7.44298 2.55732C7.26552 2.37984 6.97767 2.37981 6.80016 2.55729C6.62267 2.73481 6.62264 3.0226 6.80016 3.20011L8.14543 4.54544H2.57613C2.3251 4.54544 2.12158 4.74896 2.12158 4.99999C2.12158 5.25102 2.3251 5.45454 2.57613 5.45454H8.14537L6.80016 6.79975C6.62264 6.97726 6.62264 7.26505 6.80016 7.44256C6.88892 7.53132 7.00525 7.57569 7.12158 7.57569C7.23792 7.57569 7.35425 7.53132 7.44298 7.44256L9.56413 5.32141C9.74164 5.14393 9.74164 4.85611 9.56413 4.6786L7.44298 2.55732Z",fill:"currentColor"},null,-1),e("path",{d:"M4.69716 10C4.94819 10 5.15171 9.79648 5.15171 9.54545C5.15171 9.29442 4.94819 9.09091 4.69716 9.09091H1.21231V0.909091H4.69716C4.94819 0.909091 5.15171 0.705576 5.15171 0.454545C5.15171 0.203515 4.94819 0 4.69716 0H0.757768C0.506738 0 0.303223 0.203515 0.303223 0.454545V9.54545C0.303223 9.79648 0.506738 10 0.757768 10H4.69716Z",fill:"currentColor"},null,-1)]))}const ye=B(be,[["render",xe]]),Le={},De={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"};function Se(T,g){return s(),c("svg",De,g[0]||(g[0]=[e("path",{d:"M11.8863 1.74829H6.11615C4.65538 1.74829 3.46692 2.93668 3.46692 4.39756V5.73199C3.46692 7.19266 4.65538 8.38104 6.11615 8.38104H11.8862C13.3471 8.38104 14.5355 7.19262 14.5355 5.73199V4.39756C14.5356 2.93668 13.3471 1.74829 11.8863 1.74829ZM13.4335 5.73199C13.4335 6.58502 12.7394 7.279 11.8863 7.279H6.11615C5.26302 7.279 4.56896 6.58502 4.56896 5.73199V4.39756C4.56896 3.54439 5.26302 2.85033 6.11615 2.85033H11.8862C12.7394 2.85033 13.4335 3.54439 13.4335 4.39756V5.73199H13.4335Z",fill:"currentColor"},null,-1),e("path",{d:"M6.21914 8.92114C5.27146 8.92114 4.50049 9.69205 4.50049 10.6397C4.50049 11.5872 5.27143 12.3581 6.21914 12.3581C7.16677 12.3581 7.93779 11.5872 7.93779 10.6397C7.93779 9.69205 7.16681 8.92114 6.21914 8.92114ZM6.21914 11.2561C5.87914 11.2561 5.60253 10.9796 5.60253 10.6397C5.60253 10.2997 5.87914 10.0232 6.21914 10.0232C6.55913 10.0232 6.83574 10.2998 6.83574 10.6397C6.83574 10.9796 6.55913 11.2561 6.21914 11.2561Z",fill:"currentColor"},null,-1),e("path",{d:"M11.7834 8.92114C10.8357 8.92114 10.0647 9.69205 10.0647 10.6397C10.0647 11.5872 10.8357 12.3581 11.7834 12.3581C12.7309 12.3581 13.5018 11.5872 13.5018 10.6397C13.5018 9.69208 12.7309 8.92114 11.7834 8.92114ZM11.7834 11.2561C11.4433 11.2561 11.1667 10.9796 11.1667 10.6398C11.1667 10.2998 11.4433 10.0233 11.7834 10.0233C12.1232 10.0233 12.3997 10.2998 12.3997 10.6398C12.3998 10.9796 12.1232 11.2561 11.7834 11.2561Z",fill:"currentColor"},null,-1),e("path",{d:"M16.2548 17.0593L14.8223 15.6267C14.8222 15.6267 14.8221 15.6266 14.8221 15.6266L13.4671 14.2716C15.1133 13.6353 16.2841 12.0358 16.2841 10.1679V4.39759C16.2841 1.97276 14.3112 0 11.8863 0H6.11618C3.69117 0 1.71831 1.97276 1.71831 4.39762V10.1679C1.71831 12.0359 2.88912 13.6354 4.53534 14.2716L1.7477 17.0593C1.53251 17.2745 1.53251 17.6234 1.7477 17.8386C1.85528 17.9462 1.99632 18 2.1373 18C2.27831 18 2.41936 17.9462 2.5269 17.8386L3.79819 16.5673H14.2043L15.4756 17.8385C15.5832 17.9462 15.7242 18 15.8652 18C16.0062 18 16.1473 17.9461 16.2548 17.8385C16.47 17.6234 16.47 17.2745 16.2548 17.0593ZM2.82035 10.1679V4.39762C2.82035 2.5804 4.29885 1.10204 6.11618 1.10204H11.8863C13.7036 1.10204 15.1821 2.5804 15.1821 4.39762V10.1679C15.1821 11.9852 13.7036 13.4637 11.8863 13.4637H6.11618C4.29885 13.4637 2.82035 11.9852 2.82035 10.1679ZM4.90019 15.4653L5.81056 14.5549C5.91157 14.5619 6.01342 14.5657 6.11618 14.5657H11.8863C11.989 14.5657 12.0908 14.5619 12.1919 14.5549L13.1023 15.4653H4.90019Z",fill:"currentColor"},null,-1)]))}const He=B(Le,[["render",Se]]),Me={class:"header"},Ee={class:"container header__container"},Ve={class:"header__block"},Pe={class:"header__flex"},Re={class:"header__logo_image"},Ne={class:"header__logo_info"},Ue={class:"header__logo_head"},ze={class:"header__logo_desc text_four"},Be={class:"header__nav_list"},Te=["onClick","title"],Ze={key:0,class:"header__nav_click"},Ae={class:"header__nav_button"},$e={class:"header__icon"},Fe={class:"header__name text_small"},Ge={key:0,class:"header__plus"},Oe={class:"header__nav_container container"},Ie={class:"header__nav_popup_block"},je={class:"header__nav_popup_flex"},Qe={class:"header__nav_lists"},We={class:"header__subnav_list"},qe={class:"header__sublink_icon"},Je={class:"header__sublink_name"},Ke={key:1,class:"header__subsubnav_list"},Xe={class:"header__subsublink_icon"},Ye={class:"header__sublink_name"},eo={class:"header__right"},oo={class:"header__language"},to={class:"header__theme"},no={class:"header__login_button"},so={class:"header__login_button"},ao={class:"header__login_button"},io={class:"header__login_button"},lo={class:"header__login_button"},ro=pe({__name:"Header",setup(T){const g=le(),{t:r}=we(),Z=p(!1),E=p(!1),x=p(!1),k=p(null),h=p(!1),y=p(!1);let A;const V=p(new Set),$=p([{index:0,name:"auth",title:"header.map",icon:"HomeFilled",route:"auth",hasDropdown:!1},{index:1,name:"map",title:"header.map",icon:"MapLocation",route:"map",hasDropdown:!1},{index:2,name:"history",title:"header.history",icon:"Notebook",route:"history",hasDropdown:!1},{index:3,name:"analytics",title:"header.analytics",icon:"PieChart",route:"analytics",hasDropdown:!1},{index:4,name:"cargo",title:"header.cargo",icon:"Van",route:"cargo",hasDropdown:!0,dropdownItems:[{title:"header.instructions",route:"icargo",icon:"QuestionFilled",subItems:[{title:"header.cargorailway",route:"cargorailway",icon:"Switch"},{title:"header.cargocouplings",route:"cargocouplings",icon:"Connection"}]}]},{index:5,name:"repair",title:"header.repair",icon:"WindPower",route:"repair",hasDropdown:!1},{index:6,name:"reports",title:"header.reports",icon:"Files",route:"reports",hasDropdown:!1},{index:7,name:"journal",title:"header.journal",icon:"Reading",route:"journal",hasDropdown:!1},{index:8,name:"service",title:"header.service",icon:"Service",route:"service",hasDropdown:!0,dropdownItems:[{title:"header.instructions",route:"iservice",icon:"QuestionFilled",subItems:[{title:"header.objectEditor",route:"objectEditor",icon:"Edit"},{title:"header.normalization",route:"normalization",icon:"Finished"},{title:"header.workModes",route:"workModes",icon:"Operation"},{title:"header.dataExport",route:"dataExport",icon:"Download"},{title:"header.importData",route:"importData",icon:"Upload"},{title:"header.repairService",route:"repairService",icon:"WindPower"},{title:"header.driverController",route:"driverController",icon:"User"},{title:"header.routeList",route:"routeList",icon:"Postcard"},{title:"header.personnel",route:"personnel",icon:"UserFilled"},{title:"header.interRepairMileage",route:"interRepairMileage",icon:"SetUp"},{title:"header.repairPlan",route:"repairPlan",icon:"Memo"},{title:"header.enterprises",route:"enterprises",icon:"Shop"},{title:"header.locomotives",route:"locomotives",icon:"LocomotiveSVG"},{title:"header.notificationSettings",route:"notificationSettings",icon:"Notification"}]}]},{index:9,name:"help",title:"header.help",icon:"Help",route:"help",hasDropdown:!0,dropdownItems:[{title:"header.instructions",route:"instructions",icon:"QuestionFilled",subItems:[{title:"header.news",route:"news",icon:"Promotion"},{title:"header.documentation",route:"documentation",icon:"Document"},{title:"header.support",route:"support",icon:"ChatDotRound"}]}]}]),Q=()=>{g.push({name:"profile"}),h.value=!1},W=()=>{g.push({name:"notifications"}),h.value=!1},q=()=>{g.push({name:"users"}),h.value=!1},J=()=>{g.push({name:"custom"}),h.value=!1},K=()=>{console.log("Logout clicked"),h.value=!1},F=()=>{x.value=!x.value,E.value=!E.value,Z.value=!Z.value,x.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},X=(a,o)=>{a.target.closest("a")||(a.stopPropagation(),V.value.has(o)&&(k.value=k.value===o?null:o))},Y=()=>{k.value=null},ee=()=>{Ce(()=>{const a=new Set;$.value.forEach(o=>{o.hasDropdown&&a.add(o.index)}),V.value=a})};N(()=>{document.addEventListener("click",a=>{a.target.closest(".header__nav_item")||Y()}),document.addEventListener("click",a=>{const o=a.target;!o.closest(".header__login")&&!o.closest(".el-dropdown")&&(h.value=!1)})});const S=p({}),L=p(!1),oe=a=>{var C;const o=`.header__nav_item:nth-child(${a+1}) .header__nav_popup`,u=document.querySelector(o);if(!u)return 300;const d=u.cloneNode(!0),P=u.style.display;u.style.display="none",(C=u.parentNode)==null||C.insertBefore(d,u.nextSibling),d.style.cssText=`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: block;
    visibility: visible;
    opacity: 1;
    max-height: none;
    z-index: -1000;
    pointer-events: none;
  `;const R=d.scrollHeight;return d.remove(),u.style.display=P,R||300},G=()=>{requestAnimationFrame(()=>{if(L.value=window.innerWidth<=1279,L.value){const a={};V.value.forEach(o=>{a[o]=oe(o)}),S.value=a}else S.value={}})},O=()=>{const a=window.innerWidth<=1279;a!==L.value&&(y.value=!0,clearTimeout(A),A=window.setTimeout(()=>{y.value=!1,G()},250)),L.value=a};N(()=>{ee(),G(),window.addEventListener("resize",O)}),ve(()=>{window.removeEventListener("resize",O)});const I=p(re(j.LOGO,!1));return N(()=>{const a=de(o=>{I.value=o},j.LOGO);ge(()=>{a()})}),(a,o)=>{const u=m("RouterLink"),d=m("el-icon"),P=m("Plus"),R=m("Avatar"),C=m("ElDropdownItem"),te=m("Bell"),ne=m("User"),se=m("Setting"),ae=m("ElDropdownMenu"),ie=m("ElDropdown");return s(),c(M,null,[e("div",{class:D(["overlay",{active:E.value}]),onClick:F},null,2),e("header",Me,[e("div",Ee,[e("div",Ve,[e("div",Pe,[t(u,{class:"header__logo",to:l(H).i18nRoute({name:"map"})},{default:i(()=>[e("div",Re,[I.value?(s(),f(ue,{key:0})):(s(),f(he,{key:1}))]),e("div",Ne,[e("p",Ue,[e("span",null,v(l(r)("header.em")),1),me("-"+v(l(r)("header.dispatcher")),1)]),e("p",ze,v(l(r)("header.smt")),1)])]),_:1},8,["to"]),e("nav",{class:D(["header__nav",{active:x.value&&!y.value,resizing:y.value}])},[e("ul",Be,[(s(!0),c(M,null,U($.value,n=>(s(),c("li",{key:n.index,class:D(["header__nav_item",{active:k.value===n.index}]),onClick:_=>X(_,n.index),title:l(r)(n.title)},[n.hasDropdown?(s(),c("button",Ze)):b("",!0),e("div",Ae,[t(u,{class:"header__link text_one",to:l(H).i18nRoute({name:n.route})},{default:i(()=>[e("span",$e,[t(d,null,{default:i(()=>[(s(),f(z(n.icon)))]),_:2},1024)]),e("span",Fe,v(l(r)(`header.${n.name}`)),1)]),_:2},1032,["to"]),n.hasDropdown?(s(),c("span",Ge,[t(d,null,{default:i(()=>[t(P)]),_:1})])):b("",!0)]),n.hasDropdown&&n.dropdownItems?(s(),c("div",{key:1,class:D(["header__nav_popup",{active:k.value===n.index}]),style:fe(L.value&&!y.value&&n.hasDropdown?{"max-height":k.value===n.index?`${S.value[n.index]||0}px`:"0px","transition-duration":`${(S.value[n.index]||0)/1e3+.1}s`}:{})},[e("div",Oe,[e("div",Ie,[e("div",je,[e("div",Qe,[e("ul",We,[(s(!0),c(M,null,U(n.dropdownItems,_=>(s(),c("li",{key:"title"in _?_.title:"dropdown",class:"header__subnav_item"},["title"in _?(s(),f(u,{key:0,class:"header__sublink text_three",to:l(H).i18nRoute({name:_.route}),title:l(r)(_.title)},{default:i(()=>[e("span",qe,[_.icon?(s(),f(d,{key:0},{default:i(()=>[(s(),f(z(_.icon)))]),_:2},1024)):b("",!0)]),e("span",Je,v(l(r)(_.title)),1)]),_:2},1032,["to","title"])):b("",!0),_.subItems&&_.subItems.length>0?(s(),c("ul",Ke,[(s(!0),c(M,null,U(_.subItems,w=>(s(),c("li",{key:w.route,class:"header__subsubnav_item"},[t(u,{class:"header__subsublink text_two",to:l(H).i18nRoute({name:w.route}),title:l(r)(w.title)},{default:i(()=>[e("span",Xe,[w.icon&&w.icon!=="LocomotiveSVG"?(s(),f(d,{key:0},{default:i(()=>[(s(),f(z(w.icon)))]),_:2},1024)):w.icon==="LocomotiveSVG"?(s(),f(He,{key:1,class:"header__subsublink_svg"})):b("",!0)]),e("span",Ye,v(l(r)(w.title)),1)]),_:2},1032,["to","title"])]))),128))])):b("",!0)]))),128))])])])])])],6)):b("",!0)],10,Te))),128))])],2),e("div",eo,[e("button",{class:D(["header__burger",{active:x.value}]),onClick:F},o[3]||(o[3]=[e("svg",{viewBox:"0 0 100 100",width:"80"},[e("path",{class:"header__burger_line header__burger_top",d:"m 30,33 h 40 c 3.722839,0 7.5,3.126468 7.5,8.578427 0,5.451959 -2.727029,8.421573 -7.5,8.421573 h -20"}),e("path",{class:"header__burger_line header__burger_middle",d:"m 30,50 h 40"}),e("path",{class:"header__burger_line header__burger_bottom",d:"m 70,67 h -40 c 0,0 -7.5,-0.802118 -7.5,-8.365747 0,-7.563629 7.5,-8.634253 7.5,-8.634253 h 20"})],-1)]),2),e("div",oo,[t(_e)]),e("div",to,[t(ce)]),t(ie,{visible:h.value,"onUpdate:visible":o[1]||(o[1]=n=>h.value=n),trigger:"click",placement:"bottom-end",onVisibleChange:o[2]||(o[2]=n=>h.value=n)},{dropdown:i(()=>[t(ae,{class:"header__login_list"},{default:i(()=>[t(C,{class:"header__login_item",onClick:Q},{default:i(()=>[e("div",no,[e("span",null,v(l(r)("header.profile")),1),t(d,{class:"header__login_svg header__login_svg_profile"},{default:i(()=>[t(R)]),_:1})])]),_:1}),t(C,{class:"header__login_item",onClick:W},{default:i(()=>[e("div",so,[e("span",null,v(l(r)("header.notifications")),1),t(d,{class:"header__login_svg header__login_svg_notifications"},{default:i(()=>[t(te)]),_:1})])]),_:1}),t(C,{class:"header__login_item",onClick:q},{default:i(()=>[e("div",ao,[e("span",null,v(l(r)("header.users")),1),t(d,{class:"header__login_svg header__login_svg_users"},{default:i(()=>[t(ne)]),_:1})])]),_:1}),t(C,{class:"header__login_item",onClick:J},{default:i(()=>[e("div",io,[e("span",null,v(l(r)("header.custom")),1),t(d,{class:"header__login_svg header__login_svg_custom"},{default:i(()=>[t(se)]),_:1})])]),_:1}),t(C,{class:"header__login_item",onClick:K},{default:i(()=>[e("div",lo,[e("span",null,v(l(r)("header.logout")),1),t(ye,{class:"header__login_svg header__login_svg_exit"})])]),_:1})]),_:1})]),default:i(()=>[e("div",{class:"header__login",onClick:o[0]||(o[0]=n=>h.value=!h.value)},o[4]||(o[4]=[e("div",{class:"header__login_flex"},[e("div",{class:"header__login_icon"},"a"),e("div",{class:"header__login_name"},"admin")],-1)]))]),_:1},8,["visible"])])])])])]),o[5]||(o[5]=e("section",{class:"top"},null,-1))],64)}}}),vo=B(ro,[["__scopeId","data-v-9e094d74"]]);export{ye as E,vo as H,He as L};
