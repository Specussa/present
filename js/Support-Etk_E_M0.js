import{B as oe,v as lt,P as at,M as pt,X as I,az as ut,ah as we,aA as nt,aw as it,O as xe,aB as ke,a0 as rt}from"./vendor-@element-plus-CUZI0sh3.js";import{F as _t}from"./api-DFSG_ReX.js";import{g as Ce,o as Ve,A as G,T as dt}from"./index-DXSbV-yW.js";import{H as ct}from"./Header-Cx6JCCYp.js";import{F as mt}from"./Footer-DevosRiv.js";import{H as Fe}from"./HelpList-DM3vZbey.js";import{_ as vt}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang--gyZlTwM.js";import{C as ft}from"./Cubes-MTNkVlfV.js";import{B as ht}from"./Back-RmZDmen2.js";import{P as bt}from"./Preloader-B_y6wLNd.js";import{c as gt,E as g}from"./vendor-element-plus-bkQyxvUe.js";import{d as yt,e as f,b as w,k as wt,m as xt,U as kt,c as h,R as o,I as R,a as e,J as _,u as l,P as u,E as Ct,M as x,D as T,Q as J,a4 as le,al as y,o as c,O as Q,L as X}from"./vendor-@vue-Bz_wJ882.js";import{u as Vt}from"./vendor-vue-i18n-DztdJ-Qd.js";import{_ as Ft}from"./LogoSVG-DAmI5ROW.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-router-0eOeNsIj.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./GoBack-BLC9ePn6.js";const zt={key:1,class:"support"},Dt={class:"support__container container"},Lt={class:"support__block"},St={class:"support__flex list_flex"},At={class:"support__left list_left"},Et={class:"support__list list_scroll"},Rt={class:"support__right list_right"},Tt={class:"breadcrumbs"},Bt={class:"breadcrumbs__list"},Ut={class:"breadcrumbs__item"},$t={class:"support__select"},Mt={class:"support__content"},Ot={class:"support__add"},It={class:"button__icon"},Pt={class:"support__table"},jt={class:"el-table_title"},Nt={class:"el-table_count text_four"},qt={class:"el-table_arrow"},Ht={class:"support__actions"},Kt={class:"table_empty"},Gt={key:0,class:"repair__bottom"},Jt={class:"repair__bottom_left"},Qt={class:"repair__search el-table_search_radius"},Xt={class:"support_details__scroll popup__scroll_buttons"},Yt={class:"support_details__block popup__block"},Wt={class:"support_details__head popup__head"},Zt={class:"support_details__info"},es={class:"support_details__row"},ts={class:"support_details__field"},ss={class:"support_details__label text_four"},os={class:"support_details__field"},ls={class:"support_details__label text_four"},as={key:0,class:"support_details__row"},ps={key:0,class:"support_details__field"},us={class:"support_details__label text_four"},ns={key:1,class:"support_details__field"},is={class:"support_details__label text_four"},rs={class:"support_details__field"},_s={class:"support_details__label text_four"},ds={class:"support_details__field"},cs={class:"support_details__label text_four"},ms={key:0,class:"support_details__reply"},vs={class:"support_details__reply_head"},fs={class:"support_details__reply_content"},hs={key:0,class:"support_details__files"},bs={class:"support_details__files_list"},gs={class:"support_details__file_name"},ys={class:"support_details__file_size"},ws={class:"support_details__admin_reply"},xs={class:"support_details__reply_head"},ks={class:"support_details__upload"},Cs={class:"support_popup__area_text"},Vs={class:"support_popup__area_title"},Fs={class:"support_popup__area_subtitle text_four"},zs={class:"support_popup__upload_tip text_four"},Ds={key:0,class:"support_popup__files"},Ls={class:"support_popup__files_header"},Ss={class:"text_four"},As={class:"support_popup__files_list"},Es={class:"support_popup__info"},Rs={class:"support_popup__details"},Ts={class:"support_popup__name text_three"},Bs={class:"support_popup__size text_four"},Us=["onClick"],$s={class:"popup__buttons popup__buttons_one"},Ms={class:"support_delete__scroll popup__scroll_buttons"},Os={class:"support_delete__block popup__block"},Is={class:"support_delete__head popup__head"},Ps={class:"popup__message"},js={class:"support_delete__text text_two"},Ns={class:"popup__buttons"},qs={class:"support_popup__scroll popup__scroll_buttons"},Hs={class:"support_popup__block popup__block"},Ks={class:"support_popup__head popup__head"},Gs={class:"support_popup__upload"},Js={class:"support_popup__area_text"},Qs={class:"support_popup__area_title"},Xs={class:"support_popup__area_subtitle text_four"},Ys={class:"support_popup__upload_tip text_four"},Ws={key:0,class:"support_popup__files"},Zs={class:"support_popup__files_header"},eo={class:"text_four"},to={class:"support_popup__files_list"},so={class:"support_popup__info"},oo={class:"support_popup__details"},lo={class:"support_popup__name text_three"},ao={class:"support_popup__size text_four"},po=["onClick"],uo={class:"support_details__buttons popup__buttons"},no=yt({__name:"Support",setup(io){const{t:s}=Vt(),ze=f(!1),L=f(!1),P=f(!1),j=f([]),N=f(!1),ae=f(),B=f(!1),$=f(!1),C=f(!1),k=f(!1),U=f(""),D=f([]),S=f([]),V=w(()=>[...D.value,...S.value.map(a=>({name:a.name,size:a.size,type:a.type}))]),q=f(!1),De=()=>{L.value=!1,P.value=!1,B.value=!1,$.value=!1,document.documentElement.classList.remove("noscroll")},Le=()=>{L.value=!0,P.value=!0,document.documentElement.classList.add("noscroll")},Y=()=>{L.value=!1,P.value=!1,document.documentElement.classList.remove("noscroll")},W=()=>{B.value=!B.value,L.value=!L.value,setTimeout(()=>{D.value=[...n.value.replyFiles||[]]},1),B.value&&n.value&&(D.value=n.value.replyFiles||[],S.value=[],U.value=n.value.answer||""),B.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},H=()=>{$.value=!$.value,L.value=!L.value,$.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},m=wt({theme:"",message:"",files:[],email:""}),pe=w(()=>[s("support.themes.map"),s("support.themes.history"),s("support.themes.analytics"),s("support.themes.cargo"),s("support.themes.repair"),s("support.themes.reports"),s("support.themes.service"),s("support.themes.help")]),Se=w(()=>`${s("elmessage.formSuccess")}`),Ae=w(()=>`${s("elmessage.formError")}`),Ee=w(()=>`${s("elmessage.requiredError")}`),Re=w(()=>`${s("elmessage.send")}`),K=w(()=>`${s("elmessage.countFiles")}`),ue=w(()=>`${s("elmessage.fileSize")}`),ne=w(()=>`${s("elmessage.fileFormat")}`),ie=w(()=>`${s("elmessage.fileAlready")}`),Te=(a,t)=>{const i=a?pe.value.filter(r=>r.toLowerCase().includes(a.toLowerCase())):pe.value;t(i.map(r=>({value:r})))},re=w(()=>({theme:[{required:!0,message:s("form.themes"),trigger:"change"}],email:[{required:!0,message:s("form.email"),trigger:"blur"},{type:"email",message:s("form.correctEmail"),trigger:"blur"}],message:[{required:!0,message:s("form.message"),trigger:"blur"}]})),_e=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(ue.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(v=>t.type.includes(v)))return g.error(ne.value),!1;if(m.files.some(v=>v.name===t.name&&v.size===t.size))return g.warning(ie.value),!1;const b={name:t.name,size:t.size,type:t.type};m.files.push(b)},de=a=>{const t=m.files.findIndex(i=>i.name===a.name);t!==-1&&m.files.splice(t,1)},Be=a=>{a.preventDefault(),m.files.length<5&&(N.value=!0)},Ue=a=>{a.preventDefault(),N.value=!1},$e=a=>{var i;if(a.preventDefault(),N.value=!1,m.files.length>=5){g.warning(K.value);return}const t=(i=a.dataTransfer)==null?void 0:i.files;t&&Array.from(t).forEach(r=>{if(m.files.length>=5)return;const d={raw:r,name:r.name};_e(d)})},Z=a=>{if(a===0)return"0 Bytes";const t=1024,i=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,r)).toFixed(2))+" "+i[r]},ee=a=>{var A;const t=((A=a.split(".").pop())==null?void 0:A.toLowerCase())||"",i=["jpg","jpeg","png","gif","bmp","webp","svg"],r=["mp4","avi","mov","wmv","flv","webm"],d=["pdf","doc","docx"],b=["zip","rar","7z","tar","gz"],v=["xls","xlsx","csv"];return i.includes(t)?"image":r.includes(t)?"video":d.includes(t)?"document":b.includes(t)?"archive":v.includes(t)?"spreadsheet":t==="txt"?"text":"unknown"},te=a=>{const t={image:nt,video:it,document:xe,archive:ke,spreadsheet:rt,text:xe,unknown:ke};return t[a]||t.unknown},Me=()=>{m.files=[],j.value=[]},Oe=()=>{g.warning(K.value)},Ie=async a=>{if(a)try{await a.validate();const t=gt.service({lock:!0,text:Re.value});try{await _t("post","/api/v1/support/",{}),console.log("Support form data:",m),g({message:Se.value,type:"success"}),a.resetFields(),m.files=[],j.value=[],Y()}catch(i){g({message:i.message||Ae.value,type:"error"})}finally{t.close()}}catch{g.error(Ee.value)}},F=f(""),n=f({}),M=f(!0),ce=w(()=>{let a=Pe;return F.value&&(a=a.filter(t=>{var i,r,d,b,v,A,E;return((i=t.num)==null?void 0:i.toLowerCase().includes(F.value.toLowerCase()))||((r=t.date)==null?void 0:r.toLowerCase().includes(F.value.toLowerCase()))||((d=t.mail)==null?void 0:d.toLowerCase().includes(F.value.toLowerCase()))||((b=t.theme)==null?void 0:b.toLowerCase().includes(F.value.toLowerCase()))||((v=t.message)==null?void 0:v.toLowerCase().includes(F.value.toLowerCase()))||((A=t.answer)==null?void 0:A.toLowerCase().includes(F.value.toLowerCase()))||((E=t.status)==null?void 0:E.toLowerCase().includes(F.value.toLowerCase()))})),a}),Pe=[{id:1,num:"001",date:"2024-01-15 10:30:00",mail:"user1@example.com",theme:"Проблема с картой",message:"Не отображаются маршруты...",answer:"Проблема решена в версии 2.1.5",status:"Закрыто",dateConfirmed:"2024-01-15 11:00:00",dateSolved:"2024-01-15 14:30:00",replyFiles:[{name:"screenshot.png",size:1024e3,type:"image/png"},{name:"logs.zip",size:2048e3,type:"application/zip"}]},{id:2,num:"002",date:"2024-01-16 14:20:00",mail:"user2@example.com",theme:"Вопрос по отчетам",message:"Как сгенерировать отчет...",answer:"Инструкция отправлена на почту",status:"В работе",dateConfirmed:"2024-01-16 15:00:00"},{id:3,num:"003",date:"2024-01-17 09:15:00",mail:"user3@example.com",theme:"Техническая поддержка",message:"Проблема с авторизацией...",status:"Открыто"},{id:4,num:"004",date:"2024-01-18 16:45:00",mail:"user4@example.com",theme:"Обновление данных",message:"Данные не синхронизируются...",answer:"Решено",status:"Закрыто"}],je=({rowIndex:a})=>a%2===1?"bg_gray":"",Ne=a=>{n.value=a||{}},qe=()=>{M.value=!M.value},He=()=>{C.value&&g.success(s("elmessage.formSuccess")),C.value=!C.value},Ke=()=>{k.value?U.value.trim()&&(n.value.answer=U.value,n.value.replyFiles=[...D.value],n.value.status!=="Закрыто"&&(n.value.status="В работе"),g.success(s("elmessage.formSuccess"))):(U.value=n.value.answer||"",D.value=[...n.value.replyFiles||[]],S.value=[]),k.value=!k.value},me=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(ue.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(b=>t.type.includes(b)))return g.error(ne.value),!1;if(S.value.some(b=>b.name===t.name&&b.size===t.size)||D.value.some(b=>b.name===t.name&&b.size===t.size))return g.warning(ie.value),!1;S.value.push(t)},ve=a=>{const t=S.value.findIndex(r=>r.name===a.name);if(t!==-1){S.value.splice(t,1);return}const i=D.value.findIndex(r=>r.name===a.name);i!==-1&&D.value.splice(i,1)},Ge=()=>{g.warning(K.value)},Je=a=>{a.preventDefault(),k&&V.value.length<5&&(q.value=!0)},Qe=a=>{a.preventDefault(),q.value=!1},Xe=a=>{var i;if(a.preventDefault(),q.value=!1,!k||V.value.length>=5){g.warning(K.value);return}const t=(i=a.dataTransfer)==null?void 0:i.files;t&&Array.from(t).forEach(r=>{if(V.value.length>=5)return;const d={raw:r,name:r.name};me(d)})},Ye=a=>{const t=V.value[a];ve(t)},We=()=>{S.value=[],D.value=[]},Ze=a=>{const t=new Blob([`Mock content for ${a.name}`],{type:a.type}),i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=a.name,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),g.success(`${s("button.download")}: ${a.name}`)},fe=f(Ce(G.CUBES,!1)),he=f(Ce(G.BACK,!1));return xt(()=>{const a=Ve(i=>{fe.value=i},G.CUBES),t=Ve(i=>{he.value=i},G.BACK);kt(()=>{a(),t()})}),(a,t)=>{var ge,ye;const i=y("RouterLink"),r=y("router-view"),d=y("el-icon"),b=y("ArrowDown"),v=y("el-table-column"),A=y("el-tag"),E=y("el-button"),et=y("el-table"),z=y("el-input"),be=y("el-upload"),tt=y("el-autocomplete"),se=y("el-form-item"),st=y("el-form");return c(),h(J,null,[o(ct),ze.value?(c(),R(bt,{key:0})):(c(),h("section",zt,[e("div",Dt,[e("div",Lt,[e("div",St,[e("div",At,[e("ul",Et,[o(Fe,{"is-mobile":!1})])]),e("div",Rt,[e("div",Tt,[e("ul",Bt,[o(vt),e("li",Ut,[o(i,{class:"breadcrumbs__link text_four",to:l(dt).i18nRoute({name:"support"})},{default:_(()=>[Q(u(l(s)("header.support")),1)]),_:1},8,["to"])])])]),e("div",$t,[o(Fe,{"is-mobile":!0})]),e("div",Mt,[o(r),e("div",Ot,[e("button",{class:"support__button button__primary button",onClick:Le},[e("span",It,[o(d,null,{default:_(()=>[(c(),R(X(l(oe))))]),_:1})]),e("span",null,u(l(s)("button.createAppeal")),1)])]),e("div",Pt,[o(et,{ref:"SupportTableRef",data:ce.value,"highlight-current-row":"","row-class-name":je,onCurrentChange:Ne,style:Ct({maxHeight:M.value?"240px":"25px"}),"max-height":"240",border:""},{empty:_(()=>[e("div",Kt,u(l(s)("table.noData")),1)]),default:_(()=>[o(v,{"header-align":"center"},{header:_(()=>[e("span",{class:T(["el-table_top",{active:M.value}]),onClick:qe},[e("span",jt,[Q(u(l(s)("table.listAppeals"))+" - ",1),e("span",Nt,u(ce.value.length),1)]),e("span",qt,[o(d,null,{default:_(()=>[o(b)]),_:1})])],2)]),default:_(()=>[o(v,{property:"num",sortable:"",label:"№","min-width":"80"}),o(v,{property:"date",sortable:"",label:l(s)("table.date"),"min-width":"170"},null,8,["label"]),o(v,{property:"mail",sortable:"",label:l(s)("table.mail"),"min-width":"200"},null,8,["label"]),o(v,{property:"theme",sortable:"",label:l(s)("table.theme"),"min-width":"180"},null,8,["label"]),o(v,{property:"message",sortable:"",label:l(s)("table.message"),"min-width":"250","show-overflow-tooltip":""},null,8,["label"]),o(v,{property:"answer",sortable:"",label:l(s)("table.answer"),"min-width":"130"},null,8,["label"]),o(v,{property:"status",sortable:"",label:l(s)("table.status"),"min-width":"120"},{default:_(p=>[o(A,{type:p.row.status==="Закрыто"?"success":p.row.status==="В работе"?"warning":p.row.status==="Открыто"?"info":"danger",size:"small"},{default:_(()=>[Q(u(p.row.status),1)]),_:2},1032,["type"])]),_:1},8,["label"]),o(v,{label:l(s)("table.actions"),width:"120",fixed:"right"},{default:_(p=>[e("div",Ht,[Q(u(p.row.actions)+" ",1),o(E,{type:"primary",size:"small",icon:l(lt),title:l(s)("button.view"),onClick:W},null,8,["icon","title"]),o(E,{type:"danger",size:"small",icon:l(at),title:l(s)("button.delete"),onClick:H},null,8,["icon","title"])])]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),M.value?(c(),h("div",Gt,[e("div",Jt,[e("div",Qt,[o(z,{modelValue:F.value,"onUpdate:modelValue":t[0]||(t[0]=p=>F.value=p),placeholder:l(s)("sort.search")},{prepend:_(()=>[o(E,{icon:l(pt),title:l(s)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):x("",!0)])]),fe.value?(c(),R(ft,{key:0})):x("",!0),he.value?(c(),R(ht,{key:1})):x("",!0)])])])])])),e("div",{class:T(["overlay_full",{active:L.value}]),onClick:De},null,2),e("div",{class:T(["support_details popup",{active:B.value}])},[e("div",Xt,[e("div",Yt,[e("button",{class:"support_details__close popup__close",onClick:W},[o(d,null,{default:_(()=>[o(l(I))]),_:1})]),e("h4",Wt,u(l(s)("support.viewAppeal"))+" #"+u((ge=n.value)==null?void 0:ge.num),1),e("div",Zt,[e("div",es,[e("div",ts,[e("label",ss,u(l(s)("table.mail")),1),o(z,{modelValue:n.value.mail,"onUpdate:modelValue":t[1]||(t[1]=p=>n.value.mail=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",os,[e("label",ls,u(l(s)("table.date")),1),o(z,{modelValue:n.value.date,"onUpdate:modelValue":t[2]||(t[2]=p=>n.value.date=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])]),n.value.dateConfirmed||n.value.dateSolved?(c(),h("div",as,[n.value.dateConfirmed?(c(),h("div",ps,[e("label",us,u(l(s)("support.processingDate")),1),o(z,{modelValue:n.value.dateConfirmed,"onUpdate:modelValue":t[3]||(t[3]=p=>n.value.dateConfirmed=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):x("",!0),n.value.dateSolved?(c(),h("div",ns,[e("label",is,u(l(s)("support.completionDate")),1),o(z,{modelValue:n.value.dateSolved,"onUpdate:modelValue":t[4]||(t[4]=p=>n.value.dateSolved=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):x("",!0)])):x("",!0),e("div",rs,[e("label",_s,u(l(s)("table.theme")),1),o(z,{modelValue:n.value.theme,"onUpdate:modelValue":t[5]||(t[5]=p=>n.value.theme=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",ds,[e("label",cs,u(l(s)("table.message")),1),o(z,{modelValue:n.value.message,"onUpdate:modelValue":t[6]||(t[6]=p=>n.value.message=p),disabled:!C.value,type:"textarea",rows:4,class:"support_details__textarea"},null,8,["modelValue","disabled"])]),e("button",{class:"support_details__edit button button__primary",onClick:He},u(C.value?l(s)("button.save"):l(s)("button.edit")),1)]),n.value.answer?(c(),h("div",ms,[e("div",vs,[e("strong",null,u(l(s)("support.supportResponse")),1)]),e("div",fs,u(n.value.answer),1),(ye=n.value.replyFiles)!=null&&ye.length?(c(),h("div",hs,[e("strong",null,u(l(s)("support.supportFiles")),1),e("div",bs,[(c(!0),h(J,null,le(n.value.replyFiles,p=>(c(),h("div",{key:p.name,class:"support_details__file_item"},[o(d,{class:"support_details__file_icon"},{default:_(()=>[(c(),R(X(te(ee(p.name)))))]),_:2},1024),e("span",gs,u(p.name),1),e("span",ys,u(Z(p.size)),1),o(E,{type:"primary",link:"",size:"small",icon:l(ut),title:l(s)("button.download"),class:"support_details__download_btn",onClick:O=>Ze(p)},null,8,["icon","title","onClick"])]))),128))])])):x("",!0)])):x("",!0),e("div",ws,[e("div",xs,[e("strong",null,u(l(s)("support.supportResponse")),1)]),o(z,{modelValue:U.value,"onUpdate:modelValue":t[7]||(t[7]=p=>U.value=p),disabled:!k.value,type:"textarea",rows:4,placeholder:l(s)("form.message"),class:"support_details__reply_textarea"},null,8,["modelValue","disabled","placeholder"]),e("div",ks,[o(be,{action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Ge,"on-change":me,"on-remove":ve,"show-file-list":!1,disabled:!k.value||V.value.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv","file-list":V.value},{trigger:_(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:!k.value||V.value.length>=5,support_popup__area_dragOver:q.value}]),onDragover:Je,onDragleave:Qe,onDrop:Xe},[o(d,{class:"support_popup__area_icon title_two"},{default:_(()=>[o(l(oe))]),_:1}),e("div",Cs,[e("p",Vs,u(l(s)("support.attachFiles")),1),e("p",Fs,u(l(s)("support.dragFiles")),1)])],34)]),_:1},8,["disabled","file-list"]),e("p",zs,u(l(s)("support.format")),1),V.value.length>0?(c(),h("div",Ds,[e("div",Ls,[e("span",Ss,u(l(s)("support.files"))+" ("+u(V.value.length)+"/5)",1),k.value?(c(),h("button",{key:0,onClick:We,class:"support_popup__clear"},[o(d,null,{default:_(()=>[o(l(we))]),_:1})])):x("",!0)]),e("div",As,[(c(!0),h(J,null,le(V.value,(p,O)=>(c(),h("div",{key:O,class:"support_popup__item"},[e("div",Es,[o(d,{class:"support_popup__icon"},{default:_(()=>[(c(),R(X(te(ee(p.name)))))]),_:2},1024),e("div",Rs,[e("div",Ts,u(p.name),1),e("p",Bs,u(Z(p.size)),1)])]),k.value?(c(),h("button",{key:0,onClick:ot=>Ye(O),class:"support_popup__remove"},[o(d,null,{default:_(()=>[o(l(I))]),_:1})],8,Us)):x("",!0)]))),128))])])):x("",!0)]),e("button",{class:"support_details__reply_btn button button__primary",onClick:Ke},u(k.value?l(s)("button.save"):l(s)("button.edit")),1)])])]),e("div",$s,[e("button",{class:"popup__button button__second button",onClick:W},u(l(s)("button.close")),1)])],2),e("div",{class:T(["support_delete popup popup__small",{active:$.value}])},[e("div",Ms,[e("div",Os,[e("button",{class:"support_delete__close popup__close",onClick:H},[o(d,null,{default:_(()=>[o(l(I))]),_:1})]),e("h4",Is,u(l(s)("support.deleteAppeal")),1),e("div",Ps,[e("p",js,u(l(s)("support.deleteConfirm")),1)])])]),e("div",Ns,[e("button",{class:"popup__button button__second button",onClick:H},[e("span",null,u(l(s)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:H},[e("span",null,u(l(s)("button.delete")),1)])])],2),e("div",{class:T(["support_popup popup",{active:P.value}])},[e("div",qs,[e("div",Hs,[e("button",{class:"support_popup__close popup__close",onClick:Y},[o(d,null,{default:_(()=>[o(l(I))]),_:1})]),e("h4",Ks,u(l(s)("support.head")),1),o(st,{ref_key:"supportFormRef",ref:ae,model:m,rules:re.value,class:"support_popup__flex"},{default:_(()=>[o(se,{prop:"theme"},{default:_(()=>[o(tt,{modelValue:m.theme,"onUpdate:modelValue":t[8]||(t[8]=p=>m.theme=p),rules:re.value.theme,class:"support_popup__input",placeholder:l(s)("support.themes.placeholder"),"fetch-suggestions":Te,clearable:""},null,8,["modelValue","rules","placeholder"])]),_:1}),o(se,{prop:"email"},{default:_(()=>[o(z,{modelValue:m.email,"onUpdate:modelValue":t[9]||(t[9]=p=>m.email=p),class:"support_popup__email",type:"email",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),o(se,{prop:"message"},{default:_(()=>[o(z,{modelValue:m.message,"onUpdate:modelValue":t[10]||(t[10]=p=>m.message=p),type:"textarea",class:"support_popup__textarea",placeholder:"Сообщение",rows:4},null,8,["modelValue"])]),_:1}),e("div",Gs,[o(be,{"file-list":j.value,"onUpdate:fileList":t[11]||(t[11]=p=>j.value=p),action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Oe,"on-change":_e,"on-remove":de,"show-file-list":!1,disabled:m.files.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv"},{trigger:_(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:m.files.length>=5,support_popup__area_dragOver:N.value}]),onDragover:Be,onDragleave:Ue,onDrop:$e},[o(d,{class:"support_popup__area_icon title_two"},{default:_(()=>[o(l(oe))]),_:1}),e("div",Js,[e("p",Qs,u(l(s)("support.attachFiles")),1),e("p",Xs,u(l(s)("support.dragFiles")),1)])],34)]),_:1},8,["file-list","disabled"]),e("p",Ys,u(l(s)("support.format")),1),m.files.length>0?(c(),h("div",Ws,[e("div",Zs,[e("span",eo,u(l(s)("support.files"))+" ("+u(m.files.length)+"/5)",1),e("button",{onClick:Me,class:"support_popup__clear"},[o(d,null,{default:_(()=>[o(l(we))]),_:1})])]),e("div",to,[(c(!0),h(J,null,le(m.files,(p,O)=>(c(),h("div",{key:O,class:"support_popup__item"},[e("div",so,[o(d,{class:"support_popup__icon"},{default:_(()=>[(c(),R(X(te(ee(p.name)))))]),_:2},1024),e("div",oo,[e("div",lo,u(p.name),1),e("p",ao,u(Z(p.size)),1)])]),e("button",{onClick:ot=>de(p),class:"support_popup__remove"},[o(d,null,{default:_(()=>[o(l(I))]),_:1})],8,po)]))),128))])])):x("",!0)])]),_:1},8,["model","rules"])])]),e("div",uo,[e("button",{class:"popup__button button__second button",onClick:Y},u(l(s)("button.cancel")),1),e("button",{class:"popup__button button__primary button",onClick:t[12]||(t[12]=p=>Ie(ae.value))},u(l(s)("button.send")),1)])],2),o(mt)],64)}}}),Go=Ft(no,[["__scopeId","data-v-effb4aac"]]);export{Go as default};
