import{o as i,c as d,a as e,d as Vl,e as x,U as Sl,al as I,R as o,J as r,I as L,O as V,P as s,b as X,m as We,k as pl,f as ie,E as G,Q as k,a4 as w,K as ee,S as le,D as p,u as a,M as f,W as C,L as U}from"./vendor-@vue-Bz_wJ882.js";import{k as M,M as Ol,a6 as ml,a7 as fl,a8 as yl,a9 as gl,aa as Fl,ab as Nl,ac as kl,a1 as Ul,ad as Bl,ae as wl,af as Yl,O as Hl,a4 as Gl}from"./vendor-@element-plus-CjGJe9ZW.js";import{B as Cl}from"./api-Cj-Fovd5.js";import{H as zl,L as jl}from"./Header-R4nQ0FL2.js";import{O as Xl}from"./OpenLayers-CvtRao0I.js";import{H as ql}from"./vendor-highcharts-CibDmyST.js";import{P as Wl}from"./Preloader-DXHygThh.js";import{_ as ue}from"./LogoSVG-DXGFwqtY.js";import{F as Jl}from"./Footer-Bgq-OY75.js";import{F as xl,E as Pl,K as Ql}from"./krpdSVG-BUHFKTvo.js";import{E as _e}from"./vendor-element-plus-Cew9W0b1.js";import{u as Zl}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-router-0eOeNsIj.js";import"./index-Q0a9Y4WO.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./vendor-vue3-openlayers-B7YTsOKn.js";import"./vendor-ol-contextmenu-DrfnG4qK.js";import"./vendor-ol-ext-CmFRP7G9.js";import"./vendor-ol-fjt3zaQW.js";import"./vendor-rbush-Cid17CXj.js";import"./vendor-quickselect-OUYS7i6-.js";import"./MapFaq-XbcaMJLe.js";import"./VideoPlayer-BqE5MUbI.js";import"./GoBack-SbBRVT5M.js";const et={},lt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function tt(de,l){return i(),d("svg",lt,l[0]||(l[0]=[e("path",{d:"M3 2L13 8L3 14Z"},null,-1)]))}const at=ue(et,[["render",tt]]),st={},ot={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function nt(de,l){return i(),d("svg",ot,l[0]||(l[0]=[e("rect",{x:"3",y:"2",width:"3",height:"12"},null,-1),e("rect",{x:"10",y:"2",width:"3",height:"12"},null,-1)]))}const rt=ue(st,[["render",nt]]),it={class:"history__player"},_t={class:"history__player_controls"},ut={class:"history__player_slider"},dt={class:"history__player_time text_three"},ct=Vl({__name:"PlayerGraph",emits:["progress","play","pause"],setup(de,{expose:l,emit:Ue}){const J=x(!1),ae=x(1),ye=[1,2,4,8,16,32,64],O=x(0),ce=x(null),Q=Ue,Be=()=>{const B=(ye.indexOf(ae.value)+1)%ye.length;ae.value=ye[B]},ve=()=>{J.value=!J.value,J.value?(Je(),Q("play")):(E(),Q("pause"))},Je=()=>{E(),ce.value=setInterval(()=>{O.value+=ae.value,O.value>=86400&&(O.value=86400,E(),J.value=!1,Q("pause")),Q("progress",O.value)},1e3)},E=()=>{ce.value&&(clearInterval(ce.value),ce.value=null)},Ye=K=>{O.value=K,Q("progress",K)},Se=K=>{const B=Math.floor(K/3600),F=Math.floor(K%3600/60),y=Math.floor(K%60);return`${B.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},ge=K=>Se(K),He=K=>{O.value=K},te=()=>{J.value||ve()},se=()=>{J.value&&ve()};return Sl(()=>{E()}),l({setProgress:He,play:te,pause:se,togglePlay:ve}),(K,B)=>{const F=I("el-button"),y=I("el-slider");return i(),d("div",it,[e("div",_t,[o(F,{class:"history__player_button",type:"primary",onClick:ve},{default:r(()=>[J.value?(i(),L(rt,{key:1})):(i(),L(at,{key:0}))]),_:1}),o(F,{class:"history__player_speed",type:"primary",onClick:Be},{default:r(()=>[V(s(ae.value)+"x ",1)]),_:1})]),e("div",ut,[o(y,{modelValue:O.value,"onUpdate:modelValue":B[0]||(B[0]=ke=>O.value=ke),min:0,max:86400,"format-tooltip":ge,onInput:Ye},null,8,["modelValue"])]),e("div",dt,s(Se(O.value)),1)])}}}),vt=ue(ct,[["__scopeId","data-v-259eb311"]]),bt={},ht={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function pt(de,l){return i(),d("svg",ht,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"1",-1)]))}const mt=ue(bt,[["render",pt]]),ft={},yt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function gt(de,l){return i(),d("svg",yt,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"2",-1)]))}const kt=ue(ft,[["render",gt]]),wt={},Ct={width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"};function xt(de,l){return i(),d("svg",Ct,l[0]||(l[0]=[e("text",{x:"8",y:"12","text-anchor":"middle","font-size":"12","font-weight":"bold"},"3",-1)]))}const Pt=ue(wt,[["render",xt]]),Vt={key:1,class:"map"},St={class:"history__container container"},Tt={class:"history__block"},Dt={class:"history__flex list_flex"},Lt={key:0,class:"history__left list_left"},At={class:"history__left_tables list_scroll"},Rt={class:"history__top"},Mt={class:"history__top_flex"},Et={class:"segmented__group",role:"radiogroup"},Kt=["onClick","aria-checked"],$t={class:"segmented__label"},It={class:"history__shadow"},Ot={class:"el-table_title"},Ft={class:"el-table_count text_four"},Nt={class:"el-table_arrow"},Ut={class:"table_empty"},Bt={key:0,class:"history__bottom"},Yt={class:"el-table_bottom_left"},Ht={class:"el-table_search"},Gt={class:"history__buttons"},zt={class:"el-datetime"},jt={class:"el-datetime"},Xt={class:"button__icon"},qt={class:"history__button button__primary button",disabled:""},Wt={class:"button__icon"},Jt={class:"button__icon"},Qt={class:"history__button button__second button",disabled:""},Zt={class:"button__icon"},ea={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},la=["aria-checked"],ta={class:"segmented__label"},aa={class:"segmented__icon text_two"},sa=["onClick","aria-checked"],oa={class:"segmented__label"},na={class:"segmented__icon text_two"},ra={key:1,class:"history__no_selection"},ia={class:"text_three"},_a={key:2,class:"history__message_wrapper"},ua={class:"segmented__group segmented__group_info",role:"radiogroup"},da=["onClick","aria-checked"],ca={class:"segmented__label"},va={class:"history__information_blocks"},ba={key:0,class:"history__information_all"},ha={key:0,class:"history__locomotive_blocks"},pa=["onClick"],ma={class:"text_three"},fa={class:"el-table_arrow"},ya={class:"info-label"},ga={class:"info-value"},ka={key:1,class:"history__locomotive_blocks"},wa=["onClick"],Ca={class:"text_three"},xa={class:"el-table_arrow"},Pa={class:"info-label"},Va={class:"info-value"},Sa={key:2,class:"history__locomotive_blocks"},Ta=["onClick"],Da={class:"text_three"},La={class:"el-table_arrow"},Aa={class:"info-label"},Ra={class:"info-value"},Ma={key:3,class:"history__locomotive_blocks"},Ea=["onClick"],Ka={class:"text_three"},$a={class:"el-table_arrow"},Ia={class:"info-label"},Oa={class:"info-value"},Fa={key:4,class:"history__locomotive_blocks"},Na=["onClick"],Ua={class:"text_three"},Ba={class:"el-table_arrow"},Ya={class:"info-label"},Ha={class:"info-value"},Ga={key:5,class:"history__locomotive_blocks"},za=["onClick"],ja={class:"text_three"},Xa={class:"el-table_arrow"},qa={class:"info-label"},Wa={class:"info-value"},Ja={key:1,class:"history__information_single"},Qa={key:0,class:"history__information_block"},Za={class:"history__block_header"},es={class:"text_three"},ls={class:"history__tab_container"},ts={class:"info-label"},as={class:"info-value"},ss={key:1,class:"history__information_block"},os={class:"history__block_header"},ns={class:"text_three"},rs={class:"history__tab_container"},is={class:"info-label"},_s={class:"info-value"},us={key:2,class:"history__information_block"},ds={class:"history__block_header"},cs={class:"text_three"},vs={class:"history__tab_container"},bs={class:"info-label"},hs={class:"info-value"},ps={key:3,class:"history__information_block"},ms={class:"history__block_header"},fs={class:"text_three"},ys={class:"history__tab_container"},gs={class:"info-label"},ks={class:"info-value"},ws={key:4,class:"history__information_block"},Cs={class:"history__block_header"},xs={class:"text_three"},Ps={class:"history__tab_container"},Vs={class:"info-label"},Ss={class:"info-value"},Ts={key:5,class:"history__information_block"},Ds={class:"history__block_header"},Ls={class:"text_three"},As={class:"history__tab_container"},Rs={class:"info-label"},Ms={class:"info-value"},Es={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Ks=["aria-checked"],$s={class:"segmented__label"},Is={class:"segmented__icon text_two"},Os=["onClick","aria-checked"],Fs={class:"segmented__label"},Ns={class:"segmented__icon text_two"},Us={key:1,class:"history__no_selection"},Bs={class:"text_three"},Ys={key:2,class:"history__total_wrapper"},Hs={class:"segmented__group segmented__group_total",role:"radiogroup"},Gs=["onClick","aria-checked"],zs={class:"segmented__label"},js={class:"history__total_blocks"},Xs={key:0,class:"history__total_all"},qs={key:0,class:"history__total_data_block"},Ws=["onClick"],Js={class:"text_three"},Qs={class:"el-table_arrow"},Zs={class:"info-label"},eo={class:"info-value"},lo={key:1,class:"history__total_data_block"},to={class:"total__unit_selector"},ao=["onClick"],so={class:"text_three"},oo={class:"el-table_arrow"},no={class:"info-label"},ro={class:"info-value"},io={key:2,class:"history__total_data_block"},_o=["onClick"],uo={class:"text_three"},co={class:"el-table_arrow"},vo={class:"info-label"},bo={class:"info-value"},ho={key:1,class:"history__total_single"},po={key:0,class:"history__total_data_block"},mo={class:"history__total_block"},fo={class:"history__block_header"},yo={class:"text_three"},go={class:"history__tab_container"},ko={class:"info-label"},wo={class:"info-value"},Co={key:1,class:"history__total_data_block"},xo={class:"total__unit_selector"},Po={class:"history__total_block"},Vo={class:"history__block_header"},So={class:"text_three"},To={class:"history__tab_container"},Do={class:"info-label"},Lo={class:"info-value"},Ao={key:2,class:"history__total_data_block"},Ro={class:"history__total_block"},Mo={class:"history__block_header"},Eo={class:"text_three"},Ko={class:"history__tab_container"},$o={class:"info-label"},Io={class:"info-value"},Oo={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Fo=["aria-checked"],No={class:"segmented__label"},Uo={class:"segmented__icon text_two"},Bo=["onClick","aria-checked"],Yo={class:"segmented__label"},Ho={class:"segmented__icon text_two"},Go={key:1,class:"history__no_selection"},zo={class:"text_three"},jo={key:2,class:"history__events_wrapper"},Xo={class:"history__events_selector"},qo={class:"history__events_table"},Wo={class:"table_empty"},Jo={key:0,class:"history__events_pagination"},Qo={class:"history__right list_map"},Zo={key:0,class:"list_select"},en={class:"el-select_title"},ln={class:"el-table_count text_four"},tn={class:"el-select_option"},an={class:"el-select_empty"},sn={class:"history__map"},on={class:"history__charts"},nn={class:"history__charts_buttons"},rn={class:"history__segmented segmented__group segmented__group_total",role:"radiogroup"},_n=["onClick","aria-checked"],un={class:"segmented__label"},dn={class:"history__chart history__chart_one"},cn={class:"history__chart history__chart_two"},vn={class:"history__chart history__chart_three"},bn={key:1,class:"history__tables"},hn={key:0,class:"segmented__group",role:"radiogroup"},pn=["onClick","aria-checked"],mn={class:"segmented__label"},fn={class:"history__buttons"},yn={class:"el-datetime"},gn={class:"el-datetime"},kn={class:"button__icon"},wn={class:"history__button button__primary button",disabled:""},Cn={class:"button__icon"},xn={class:"button__icon"},Pn={class:"history__button button__second button",disabled:""},Vn={class:"button__icon"},Sn={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},Tn=["aria-checked"],Dn={class:"segmented__label"},Ln={class:"segmented__icon text_two"},An=["onClick","aria-checked"],Rn={class:"segmented__label"},Mn={class:"segmented__icon text_two"},En={key:1,class:"history__no_selection"},Kn={class:"text_three"},$n={key:2,class:"history__message_wrapper"},In={class:"segmented__group segmented__group_info",role:"radiogroup"},On=["onClick","aria-checked"],Fn={class:"segmented__label"},Nn={class:"history__information_blocks"},Un={key:0,class:"history__information_all"},Bn={key:0,class:"history__locomotive_blocks"},Yn=["onClick"],Hn={class:"text_three"},Gn={class:"el-table_arrow"},zn={class:"info-label"},jn={class:"info-value"},Xn={key:1,class:"history__locomotive_blocks"},qn=["onClick"],Wn={class:"text_three"},Jn={class:"el-table_arrow"},Qn={class:"info-label"},Zn={class:"info-value"},er={key:2,class:"history__locomotive_blocks"},lr=["onClick"],tr={class:"text_three"},ar={class:"el-table_arrow"},sr={class:"info-label"},or={class:"info-value"},nr={key:3,class:"history__locomotive_blocks"},rr=["onClick"],ir={class:"text_three"},_r={class:"el-table_arrow"},ur={class:"info-label"},dr={class:"info-value"},cr={key:4,class:"history__locomotive_blocks"},vr=["onClick"],br={class:"text_three"},hr={class:"el-table_arrow"},pr={class:"info-label"},mr={class:"info-value"},fr={key:5,class:"history__locomotive_blocks"},yr=["onClick"],gr={class:"text_three"},kr={class:"el-table_arrow"},wr={class:"info-label"},Cr={class:"info-value"},xr={key:1,class:"history__information_single"},Pr={key:0,class:"history__information_block"},Vr={class:"history__block_header"},Sr={class:"text_three"},Tr={class:"history__tab_container"},Dr={class:"info-label"},Lr={class:"info-value"},Ar={key:1,class:"history__information_block"},Rr={class:"history__block_header"},Mr={class:"text_three"},Er={class:"history__tab_container"},Kr={class:"info-label"},$r={class:"info-value"},Ir={key:2,class:"history__information_block"},Or={class:"history__block_header"},Fr={class:"text_three"},Nr={class:"history__tab_container"},Ur={class:"info-label"},Br={class:"info-value"},Yr={key:3,class:"history__information_block"},Hr={class:"history__block_header"},Gr={class:"text_three"},zr={class:"history__tab_container"},jr={class:"info-label"},Xr={class:"info-value"},qr={key:4,class:"history__information_block"},Wr={class:"history__block_header"},Jr={class:"text_three"},Qr={class:"history__tab_container"},Zr={class:"info-label"},ei={class:"info-value"},li={key:5,class:"history__information_block"},ti={class:"history__block_header"},ai={class:"text_three"},si={class:"history__tab_container"},oi={class:"info-label"},ni={class:"info-value"},ri={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},ii=["aria-checked"],_i={class:"segmented__label"},ui={class:"segmented__icon text_two"},di=["onClick","aria-checked"],ci={class:"segmented__label"},vi={class:"segmented__icon text_two"},bi={key:1,class:"history__no_selection"},hi={class:"text_three"},pi={key:2,class:"history__total_wrapper"},mi={class:"segmented__group segmented__group_total",role:"radiogroup"},fi=["onClick","aria-checked"],yi={class:"segmented__label"},gi={class:"history__total_blocks"},ki={key:0,class:"history__total_all"},wi={key:0,class:"history__total_data_block"},Ci=["onClick"],xi={class:"text_three"},Pi={class:"el-table_arrow"},Vi={class:"info-label"},Si={class:"info-value"},Ti={key:1,class:"history__total_data_block"},Di={class:"total__unit_selector"},Li=["onClick"],Ai={class:"text_three"},Ri={class:"el-table_arrow"},Mi={class:"info-label"},Ei={class:"info-value"},Ki={key:2,class:"history__total_data_block"},$i=["onClick"],Ii={class:"text_three"},Oi={class:"el-table_arrow"},Fi={class:"info-label"},Ni={class:"info-value"},Ui={key:1,class:"history__total_single"},Bi={key:0,class:"history__total_data_block"},Yi={class:"history__total_block"},Hi={class:"history__block_header"},Gi={class:"text_three"},zi={class:"history__tab_container"},ji={class:"info-label"},Xi={class:"info-value"},qi={key:1,class:"history__total_data_block"},Wi={class:"total__unit_selector"},Ji={class:"history__total_block"},Qi={class:"history__block_header"},Zi={class:"text_three"},e_={class:"history__tab_container"},l_={class:"info-label"},t_={class:"info-value"},a_={key:2,class:"history__total_data_block"},s_={class:"history__total_block"},o_={class:"history__block_header"},n_={class:"text_three"},r_={class:"history__tab_container"},i_={class:"info-label"},__={class:"info-value"},u_={key:0,class:"segmented__group segmented__group_locomotives",role:"radiogroup"},d_=["aria-checked"],c_={class:"segmented__label"},v_={class:"segmented__icon text_two"},b_=["onClick","aria-checked"],h_={class:"segmented__label"},p_={class:"segmented__icon text_two"},m_={key:1,class:"history__no_selection"},f_={class:"text_three"},y_={key:2,class:"history__events_wrapper"},g_={class:"history__events_selector"},k_={class:"history__events_table"},w_={class:"table_empty"},C_={key:0,class:"history__events_pagination"},x_={class:"history_popup__scroll popup__scroll_buttons"},P_={class:"history_popup__block popup__block"},V_={class:"history_popup__head popup__head"},S_={class:"history_popup__list"},T_={class:"history_popup__item"},D_={class:"history_popup__head"},L_={class:"history_popup__checkbox"},A_={class:"history_popup__checkbox"},R_={class:"history_popup__checkbox"},M_={class:"history_popup__checkbox"},E_={class:"history_popup__item"},K_={class:"history_popup__head"},$_={class:"history_popup__checkbox"},I_={class:"history_popup__checkbox"},O_={class:"history_popup__checkbox"},F_={class:"history_popup__checkbox"},N_={class:"history_popup__checkbox"},U_={class:"history_popup__checkbox"},B_={class:"history_popup__checkbox"},Y_={class:"history_popup__item"},H_={class:"history_popup__head"},G_={class:"history_popup__checkbox"},z_={class:"history_popup__checkbox"},j_={class:"history_popup__checkbox"},X_={class:"history_popup__checkbox"},q_={class:"history_popup__checkbox"},W_={class:"history_popup__checkbox"},J_={class:"history_popup__checkbox"},Q_={class:"history_popup__checkbox"},Z_={class:"history_popup__checkbox"},eu={class:"history_popup__item"},lu={class:"history_popup__head"},tu={class:"history_popup__checkbox"},au={class:"history_popup__checkbox"},su={class:"history_popup__checkbox"},ou={class:"history_popup__checkbox"},nu={class:"history_popup__checkbox"},ru={class:"history_popup__item"},iu={class:"history_popup__head"},_u={class:"history_popup__checkbox"},uu={class:"history_popup__checkbox"},du={class:"history_popup__checkbox"},cu={class:"history_popup__checkbox"},vu={class:"history_popup__item"},bu={class:"history_popup__head"},hu={class:"history_popup__checkbox"},pu={class:"history_popup__checkbox"},mu={class:"popup__buttons"},Ne=4,fu=Vl({__name:"History",setup(de){const{t:l,d:Ue}=Zl(),J=x(!0),ae=x(!1),ye=x(!1),O=x(!1),ce=()=>{ye.value=!1,O.value=!1,ae.value=!1,document.documentElement.classList.remove("noscroll")},Q=()=>{O.value=!O.value,ae.value=!ae.value,O.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},Be=(_,n,h=365)=>{const b=new Date;b.setTime(b.getTime()+h*24*60*60*1e3),document.cookie=`${_}=${encodeURIComponent(n)};expires=${b.toUTCString()};path=/`},ve=_=>{const n=_+"=",h=document.cookie.split(";");for(let b=0;b<h.length;b++){let m=h[b];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(n)===0)return decodeURIComponent(m.substring(n.length,m.length))}return null},E=x((()=>{const _=ve("selectedCharts");if(_)try{return JSON.parse(_)}catch(n){console.error("Error parsing saved charts from cookies:",n)}return["speedKmh","fuelVolumeL","fuelVolume20C","fuelMassKg"]})()),Ye=()=>{Be("selectedCharts",JSON.stringify(E.value)),Q()},Se=x(null),ge=x(),He=X(()=>({chart:{type:"line",backgroundColor:"var(--bg-gray)"},title:{text:l("chart.title"),style:{color:"var(--text)"}},xAxis:{categories:[l("chart.months.jan"),l("chart.months.feb"),l("chart.months.mar"),l("chart.months.apr"),l("chart.months.may"),l("chart.months.jun"),l("chart.months.jul"),l("chart.months.aug"),l("chart.months.sep"),l("chart.months.oct"),l("chart.months.nov"),l("chart.months.dec")],labels:{style:{color:"var(--text)"}},title:{style:{color:"var(--text)"}}},yAxis:{title:{text:l("chart.values"),style:{color:"var(--text)"}},labels:{style:{color:"var(--text)"}},min:0,max:8,tickInterval:2,allowDecimals:!1},accessibility:{enabled:!1},series:[{type:"line",name:l("chart.data"),data:[1,4,2,5,3,6]}],legend:{itemStyle:{color:"var(--text)"},itemHoverStyle:{color:"var(--hover)"}}}));We(()=>{ge.value&&(Se.value=ql.chart(ge.value,{...He.value}))});const te=x("info"),se=x("locomotive"),K=x("one"),B=x("route"),F=x("dop_reg"),y=x(-1),ke=x({}),oe=x("liters"),Te=[{value:"liters",label:"Литры"},{value:"liters20C",label:"Литры к 20°C"},{value:"kilograms",label:"Килограммы"}],A=x({info:!0,message:!1,total:!1,events:!1}),T=x({locomotive:!0,information:!1,location:!1,fuel:!1,energy:!1,krpd:!1}),N=x({route:!0,fuel:!1,electricity:!1}),Ge=x({dop_reg:!0,idle:!1,tab_change:!1,rfid:!1,violations:!1}),z=x({}),Y=x([]),q=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation());const[h]=_.split("-"),b=parseInt(h),m=`locomotive-${b}`;z.value[m]===!0?(z.value[m]=!1,Object.keys(z.value).forEach(pe=>{pe.startsWith(`${b}-`)&&delete z.value[pe]})):(z.value[m]=!0,z.value[`${b}-locomotive`]=!0,z.value[`${b}-information`]=!0,z.value[`${b}-location`]=!0,z.value[`${b}-fuel`]=!0,z.value[`${b}-energy`]=!0,z.value[`${b}-krpd`]=!0)},be=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),ke.value[_]=!ke.value[_]},D=_=>{const[n]=_.split("-"),h=parseInt(n);return z.value[`locomotive-${h}`]===!0?!0:z.value[_]===!0},W=_=>ke.value[_]===!0,P=(_,n)=>`${_}-${n}`,$=_=>`total-${_}`,De=_=>{const n=[],h=oe.value;return h==="liters"?n.push({label:l("table.initialValue")+" ["+l("table.l")+"]",value:_.fuel_initial_liters||"4500"},{label:l("table.finalValue")+" ["+l("table.l")+"]",value:_.fuel_final_liters||"3200"},{label:l("table.minValue")+" ["+l("table.l")+"]",value:_.fuel_min_liters||"1800"},{label:l("table.maxValue")+" ["+l("table.l")+"]",value:_.fuel_max_liters||"5000"},{label:l("table.refuelAmount")+" ["+l("table.l")+"]",value:_.fuel_refuel_liters||"800"},{label:l("table.drainAmount")+" ["+l("table.l")+"]",value:_.fuel_drain_liters||"200"},{label:l("table.actualConsumption")+" ["+l("table.l")+"]",value:_.fuel_actual_liters||"1300"},{label:l("table.averageHourlyConsumption")+" ["+l("table.l")+"]",value:_.fuel_hourly_liters||"65"},{label:l("table.normativeConsumption")+" ["+l("table.l")+"]",value:_.fuel_normative_liters||"1200"},{label:l("table.actualSpecificConsumption")+" ["+l("table.l")+"]",value:_.fuel_specific_liters||"0.25"}):h==="liters20C"?n.push({label:l("table.initialValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_initial_liters20C||"4400"},{label:l("table.finalValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_final_liters20C||"3100"},{label:l("table.minValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_min_liters20C||"1750"},{label:l("table.maxValue")+" [20°C/"+l("table.l")+"]",value:_.fuel_max_liters20C||"4900"},{label:l("table.refuelAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_refuel_liters20C||"780"},{label:l("table.drainAmount")+" [20°C/"+l("table.l")+"]",value:_.fuel_drain_liters20C||"195"},{label:l("table.actualConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_actual_liters20C||"1270"},{label:l("table.averageHourlyConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_hourly_liters20C||"63"},{label:l("table.normativeConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_normative_liters20C||"1170"},{label:l("table.actualSpecificConsumption")+" [20°C/"+l("table.l")+"]",value:_.fuel_specific_liters20C||"0.24"}):h==="kilograms"&&n.push({label:l("table.initialValue")+" ["+l("table.kg")+"]",value:_.fuel_initial_kilograms||"3825"},{label:l("table.finalValue")+" ["+l("table.kg")+"]",value:_.fuel_final_kilograms||"2720"},{label:l("table.minValue")+" ["+l("table.kg")+"]",value:_.fuel_min_kilograms||"1530"},{label:l("table.maxValue")+" ["+l("table.kg")+"]",value:_.fuel_max_kilograms||"4250"},{label:l("table.refuelAmount")+" ["+l("table.kg")+"]",value:_.fuel_refuel_kilograms||"680"},{label:l("table.drainAmount")+" ["+l("table.kg")+"]",value:_.fuel_drain_kilograms||"170"},{label:l("table.actualConsumption")+" ["+l("table.kg")+"]",value:_.fuel_actual_kilograms||"1105"},{label:l("table.averageHourlyConsumption")+" ["+l("table.kg")+"]",value:_.fuel_hourly_kilograms||"55"},{label:l("table.normativeConsumption")+" ["+l("table.kg")+"]",value:_.fuel_normative_kilograms||"1020"},{label:l("table.actualSpecificConsumption")+" ["+l("table.kg")+"]",value:_.fuel_specific_kilograms||"0.21"}),n},v=x(-1),j=x(-1),Le=[{iconComponent:Bl,value:"info",label:"Info"},{iconComponent:wl,value:"message",label:"Message"},{iconComponent:Yl,value:"total",label:"total"},{iconComponent:kl,value:"events",label:"events"}],Ae=[{iconComponent:jl,value:"locomotive",label:"Locomotive"},{iconComponent:Hl,value:"information",label:"Information"},{iconComponent:Gl,value:"location",label:"Location"},{iconComponent:xl,value:"fuel",label:"Fuel"},{iconComponent:Pl,value:"energy",label:"Energy"},{iconComponent:Ql,value:"krpd",label:"Krpd"}],ze=[{iconComponent:mt,value:"one",label:"one"},{iconComponent:kt,value:"two",label:"two"},{iconComponent:Pt,value:"all",label:"all"}],Re=[{iconComponent:wl,value:"route",label:"route"},{iconComponent:xl,value:"fuel",label:"fuel"},{iconComponent:Pl,value:"electricity",label:"electricity"}],Qe=X(()=>{const _=Le.findIndex(h=>h.value===te.value);return{width:`${100/Le.length}%`,transform:`translateX(${_*100}%)`}}),Ze=X(()=>{const _=Ae.findIndex(h=>h.value===se.value);return{width:`${100/Ae.length}%`,transform:`translateX(${_*100}%)`}}),Tl=X(()=>{const _=ze.findIndex(h=>h.value===K.value);return{width:`${100/ze.length}%`,transform:`translateX(${_*100}%)`}}),u=X(()=>Y.value.length===0?[]:Ve.value.filter(_=>Y.value.includes(_.id)).map((_,n)=>({id:n+1,originalId:_.id,series:_.nameLoco||"Не указано",number:_.number,tabNumber:_.boardNumber,workType:_.date?"Данные получены":"Нет данных",weight:"120 т",carNumber:"15",axisNumber:"6",bortDate:_.date||"Не указано",bortTime:"14:30:25",speed:"75",stopTime:"5 мин",pressure:"5.2 кгс/см²",LSlight:"В норме",fireAlarm:"Нет",latitude:"55.7558°",longitude:"37.6173°",volume:"4500",volume20:"4400",temp:"15°C",density:"850 кг/м³",mass:"3825",instantPowerActive:"1500 кВт",instantPowerReactive:"800 кВАр",instantPowerFull:"1700 кВА",voltage:"3000 В",current:"500 А",startPeriod:"2024-01-01",endPeriod:"2024-01-31",mileagekm:"1500",fuel_initial_liters:"4500",fuel_final_liters:"3200",fuel_min_liters:"1800",fuel_max_liters:"5000",fuel_refuel_liters:"800",fuel_drain_liters:"200",fuel_actual_liters:"1300",fuel_hourly_liters:"65",fuel_normative_liters:"1200",fuel_specific_liters:"0.25",fuel_initial_liters20C:"4400",fuel_final_liters20C:"3100",fuel_min_liters20C:"1750",fuel_max_liters20C:"4900",fuel_refuel_liters20C:"780",fuel_drain_liters20C:"195",fuel_actual_liters20C:"1270",fuel_hourly_liters20C:"63",fuel_normative_liters20C:"1170",fuel_specific_liters20C:"0.24",fuel_initial_kilograms:"3825",fuel_final_kilograms:"2720",fuel_min_kilograms:"1530",fuel_max_kilograms:"4250",fuel_refuel_kilograms:"680",fuel_drain_kilograms:"170",fuel_actual_kilograms:"1105",fuel_hourly_kilograms:"55",fuel_normative_kilograms:"1020",fuel_specific_kilograms:"0.21",electricity_active_forward:"1200",electricity_active_reverse:"50",electricity_reactive_forward:"800",electricity_reactive_reverse:"30",electricity_min_voltage:"2800",electricity_max_voltage:"3200"}))),el=X(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=v.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),ll=X(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=y.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),tl=X(()=>{const _=Re.findIndex(h=>h.value===B.value);return{width:`${100/Re.length}%`,transform:`translateX(${_*100}%)`}}),al=x([{date:"2024-01-15",time:"14:30:25",tabNumber:"12345",locomotive:"0001",additionalInfo:"Дополнительная регистрация на участке"},{date:"2024-01-15",time:"10:15:10",tabNumber:"23456",locomotive:"0002",idleDuration:"2 ч 30 мин",idleReason:"Ожидание состава"},{date:"2024-01-14",time:"16:20:30",tabNumber:"45678",locomotive:"0004",rfidCode:"RFID-001234",location:"Станция Москва-Товарная"},{date:"2024-01-13",time:"08:05:45",tabNumber:"34567",locomotive:"0003",violationType:"Превышение скорости",description:"Превышение на 15 км/ч на участке 25 км"},{date:"2024-01-12",time:"22:10:15",tabNumber:"12345",locomotive:"0001",additionalInfo:"Повторная регистрация"}]),he=X(()=>{if(Y.value.length===0)return[];const _=Ve.value.filter(n=>Y.value.includes(n.id)).map(n=>n.number);if(j.value!==-1&&u.value[j.value]){const n=u.value[j.value];return al.value.filter(h=>h.locomotive===n.number)}return al.value.filter(n=>_.includes(n.locomotive))}),sl=X(()=>{const _=u.value.length+1;if(_<=1)return{width:"0%",transform:"translateX(0%)"};const n=100/_,h=j.value+1;return{width:`${n}%`,transform:`translateX(${h*100}%)`}}),je=X(()=>{switch(K.value){case"one":return{one:!0,two:!1,three:!1};case"two":return{one:!1,two:!0,three:!1};case"all":return{one:!1,two:!1,three:!0};default:return{one:!0,two:!1,three:!1}}}),Me=x(),R=pl({datestart:"",dateend:"",timestart:"00:00:00",timeend:"23:59:59"}),ol=pl({datestart:[{type:"date",required:!0,message:"Выберите дату начала",trigger:"change"}],dateend:[{type:"date",required:!0,message:"Выберите дату окончания",trigger:"change"},{validator:(_,n,h)=>{if(!R.datestart||!R.dateend){h(new Error("Обе даты обязательны"));return}const b=new Date(R.datestart);new Date(R.dateend)<=b?h(new Error("Дата окончания должна быть позже даты начала")):h()},trigger:"change"}]}),nl=async _=>{if(_){if(Y.value.length>Ne){_e.warning(`Выбрано слишком много локомотивов. Максимум: ${Ne}`);return}await _.validate((n,h)=>{n?console.log("submit!"):console.log("error submit!",h)})}},rl=(_,n)=>{n.preventDefault(),n.stopPropagation(),te.value=_},il=(_,n)=>{n.preventDefault(),n.stopPropagation(),se.value=_},Dl=(_,n)=>{n.preventDefault(),n.stopPropagation(),K.value=_},Ee=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}v.value=_},Ke=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}y.value=_},_l=(_,n)=>{n.preventDefault(),n.stopPropagation(),B.value=_},ul=(_,n)=>{n&&(n.preventDefault(),n.stopPropagation()),F.value=_},$e=(_,n)=>{if(n.preventDefault(),n.stopPropagation(),u.value.length===0){_e.warning("Сначала выберите локомотивы в таблице");return}j.value=_};ie(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0}),ie(se,_=>{Object.keys(T.value).forEach(n=>{T.value[n]=!1}),T.value[_]=!0}),ie(B,_=>{Object.keys(N.value).forEach(n=>{N.value[n]=!1}),N.value[_]=!0}),ie(F,_=>{Object.keys(Ge.value).forEach(n=>{Ge.value[n]=!1}),Ge.value[_]=!0}),ie(te,_=>{Object.keys(A.value).forEach(n=>{A.value[n]=!1}),A.value[_]=!0});const we=x(window.innerWidth),dl=()=>{we.value=window.innerWidth};We(()=>{window.addEventListener("resize",dl)}),Sl(()=>{window.removeEventListener("resize",dl)});const Ce=x(""),Ie=X(()=>{let _=Ve.value;if(Ce.value){const n=Ce.value.toLowerCase();_=_.filter(h=>{const b=String(h.type||""),m=String(h.number||""),H=String(h.date||""),pe=String(h.nameLoco||""),me=String(h.boardNumber||"");return b.toLowerCase().includes(n)||m.toLowerCase().includes(n)||H.toLowerCase().includes(n)||pe.toLowerCase().includes(n)||me.toLowerCase().includes(n)})}return _}),Xe=x([]),cl=x([]),Ll=x(),xe=x(""),Pe=x(!0),g=({row:_,rowIndex:n})=>{const h=[];return n%2===1&&h.push("bg_gray"),Rl(_)&&h.push("selected-row"),h.join(" ")},qe=x(),Al=_=>{if(!_||!_.id)return;const n=Y.value.indexOf(_.id);if(n===-1){if(Y.value.length>=Ne){_e.warning(l("history.locomotivesLimitWarning",{max:Ne}));return}Y.value.push(_.id)}else Y.value.splice(n,1);qe.value&&qe.value.doLayout()},Rl=_=>_.id?Y.value.includes(_.id):!1,Ml=()=>{Pe.value=!Pe.value},El=_=>{if(!_){Y.value=[];return}const n=Ve.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});n&&n.id&&(Y.value=[n.id])},Kl=_=>{Ce.value=_};ie(xe,_=>{if(_){const n=Ve.value.find(h=>{var b;return((b=h.id)==null?void 0:b.toString())===_});n&&n.id&&(Y.value=[n.id])}else Y.value=[]}),ie(Ll,_=>{_&&_.id?xe.value=_.id.toString():xe.value=""});const Ve=X(()=>Xe.value.length?Xe.value.map((n,h)=>{const b=cl.value.find(H=>H.NUMBER_ON_KPD===n.BOARD_NUMBER);let m="Не указана";if(n.DATE_REC)try{const H=new Date(n.DATE_REC);isNaN(H.getTime())||(m=Ue(H,"shortFormat"))}catch(H){console.warn("Ошибка форматирования даты:",H)}return{id:h+1,type:String(n.LOCO||n.BOARD_NUMBER||"Не указан"),number:String(n.BOARD_NUMBER||"Не указан"),date:String(m),boardNumber:String(n.BOARD_NUMBER||"Не указан"),nameLoco:String((b==null?void 0:b.NAME_LOCO)||n.LOCO||"Не указано")}}):[]),vl=[{value:"dop_reg",label:'Дополнительная регистрация ("П")'},{value:"idle",label:"Простои локомотива"},{value:"tab_change",label:"Смена табельного номера"},{value:"rfid",label:"Прохождение RFID-метки"},{value:"violations",label:"Нарушения эксплуатации"}],$l=async()=>{try{const _=await Cl("post","/api/get-table",{Table:"LOCOMOTIVES"});_.data&&_.data.data&&Array.isArray(_.data.data)?Xe.value=_.data.data:console.warn("API не вернуло ожидаемые данные:",_.data)}catch(_){_e({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{J.value=!1}},Il=async()=>{try{const _=await Cl("post","/api/get-table",{Table:"LOCO"});_.data&&_.data.data&&Array.isArray(_.data.data)?cl.value=_.data.data:console.warn("API LOCO не вернуло ожидаемые данные:",_.data)}catch(_){_e({message:_.message,type:"error"}),console.error("Ошибка загрузки локомотивов:",_)}finally{J.value=!1}};return We(()=>{$l(),Il()}),(_,n)=>{const h=I("el-icon"),b=I("el-table-column"),m=I("el-table"),H=I("el-button"),pe=I("el-input"),me=I("el-date-picker"),Oe=I("el-time-picker"),Fe=I("el-form-item"),bl=I("el-form"),ne=I("el-option"),re=I("el-select"),hl=I("el-pagination"),S=I("el-checkbox"),fe=I("el-checkbox-group");return i(),d(k,null,[o(zl),J.value?(i(),L(Wl,{key:0})):(i(),d("section",Vt,[e("div",St,[e("div",Tt,[e("div",Dt,[we.value>=1280?(i(),d("div",Lt,[e("div",At,[e("div",Rt,[e("div",Mt,[e("div",Et,[e("div",{class:"segmented__indicator",style:G(Qe.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[0]||(n[0]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",$t,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Kt)),64))])])]),ee(e("div",{class:p(["history__left_table",{active:A.value.info}])},[e("div",It,[o(m,{ref_key:"oneTableRef",ref:qe,data:Ie.value,onRowClick:Al,"row-class-name":g,style:G({maxHeight:Pe.value?"240px":"25px"}),"max-height":"240",border:""},{empty:r(()=>[e("div",Ut,s(a(l)("table.noData")),1)]),default:r(()=>[o(b,{"header-align":"center"},{header:r(()=>[e("span",{class:p(["el-table_top",{active:Pe.value}]),onClick:Ml},[e("span",Ot,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",Ft,s(Ie.value.length),1)]),e("span",Nt,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],2)]),default:r(()=>[o(b,{property:"type",sortable:"",label:a(l)("table.type")},null,8,["label"]),o(b,{property:"number",sortable:"",label:a(l)("table.number")},null,8,["label"]),o(b,{property:"date",sortable:"",label:a(l)("table.date")},null,8,["label"])]),_:1})]),_:1},8,["data","style"]),Pe.value?(i(),d("div",Bt,[e("div",Yt,[e("div",Ht,[o(pe,{modelValue:Ce.value,"onUpdate:modelValue":n[1]||(n[1]=t=>Ce.value=t),placeholder:a(l)("sort.search")},{prepend:r(()=>[o(H,{icon:a(Ol),title:a(l)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):f("",!0)]),e("div",Gt,[o(bl,{ref_key:"addStatusFormRef",ref:Me,model:R,rules:ol,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",zt,[o(me,{modelValue:R.datestart,"onUpdate:modelValue":n[2]||(n[2]=t=>R.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Oe,{modelValue:R.timestart,"onUpdate:modelValue":n[3]||(n[3]=t=>R.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",jt,[o(me,{modelValue:R.dateend,"onUpdate:modelValue":n[4]||(n[4]=t=>R.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Oe,{modelValue:R.timeend,"onUpdate:modelValue":n[5]||(n[5]=t=>R.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[6]||(n[6]=t=>nl(Me.value))},[e("span",Xt,[o(h,null,{default:r(()=>[(i(),L(U(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",qt,[e("span",Wt,[o(h,null,{default:r(()=>[(i(),L(U(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:Q},[e("span",Jt,[o(h,null,{default:r(()=>[(i(),L(U(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Qt,[e("span",Zt,[o(h,null,{default:r(()=>[(i(),L(U(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[le,A.value.info]]),ee(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",ea,[e("div",{class:"segmented__indicator",style:G(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:n[7]||(n[7]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[8]||(n[8]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",ta,[e("span",aa,s(a(l)("button.all")),1)])],42,la),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(Z=>Ee(c,Z),["prevent"]),onMousedown:n[9]||(n[9]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",oa,[e("span",na,s(t.number),1)])],42,sa))),128))])):f("",!0),u.value.length===0?(i(),d("div",ra,[e("p",ia,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",_a,[e("div",ua,[e("div",{class:"segmented__indicator",style:G(Ze.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[10]||(n[10]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",ca,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,da)),64))]),e("div",va,[v.value===-1?(i(),d("div",ba,[T.value.locomotive?(i(),d("div",ha,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"locomotive"))}]),onClick:c=>q(P(t.id,"locomotive"),c)},[e("p",ma,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",fa,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,pa),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",ya,s(c.row.label),1),e("span",ga,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.information?(i(),d("div",ka,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"information"))}]),onClick:c=>q(P(t.id,"information"),c)},[e("p",Ca,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",xa,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,wa),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Pa,s(c.row.label),1),e("span",Va,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.location?(i(),d("div",Sa,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"location"))}]),onClick:c=>q(P(t.id,"location"),c)},[e("p",Da,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",La,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Ta),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Aa,s(c.row.label),1),e("span",Ra,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.fuel?(i(),d("div",Ma,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"fuel"))}]),onClick:c=>q(P(t.id,"fuel"),c)},[e("p",Ka,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",$a,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Ea),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Ia,s(c.row.label),1),e("span",Oa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.energy?(i(),d("div",Fa,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"energy"))}]),onClick:c=>q(P(t.id,"energy"),c)},[e("p",Ua,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",Ba,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Na),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Ya,s(c.row.label),1),e("span",Ha,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.krpd?(i(),d("div",Ga,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"krpd"))}]),onClick:c=>q(P(t.id,"krpd"),c)},[e("p",ja,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",Xa,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,za),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",qa,s(c.row.label),1),e("span",Wa,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[v.value]?(i(),d("div",Ja,[T.value.locomotive?(i(),d("div",Qa,[e("div",Za,[e("p",es,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",ls,[o(m,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",ts,s(t.row.label),1),e("span",as,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.information?(i(),d("div",ss,[e("div",os,[e("p",ns,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",rs,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",is,s(t.row.label),1),e("span",_s,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.location?(i(),d("div",us,[e("div",ds,[e("p",cs,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",vs,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",bs,s(t.row.label),1),e("span",hs,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.fuel?(i(),d("div",ps,[e("div",ms,[e("p",fs,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",ys,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",gs,s(t.row.label),1),e("span",ks,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.energy?(i(),d("div",ws,[e("div",Cs,[e("p",xs,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",Ps,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Vs,s(t.row.label),1),e("span",Ss,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.krpd?(i(),d("div",Ts,[e("div",Ds,[e("p",Ls,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",As,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Rs,s(t.row.label),1),e("span",Ms,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.message]]),ee(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",Es,[e("div",{class:"segmented__indicator",style:G(ll.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[11]||(n[11]=C(t=>Ke(-1,t),["prevent"])),onMousedown:n[12]||(n[12]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",$s,[e("span",Is,s(a(l)("button.all")),1)])],42,Ks),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Z=>Ke(c,Z),["prevent"]),onMousedown:n[13]||(n[13]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",Fs,[e("span",Ns,s(t.number),1)])],42,Os))),128))])):f("",!0),u.value.length===0?(i(),d("div",Us,[e("p",Bs,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",Ys,[e("div",Hs,[e("div",{class:"segmented__indicator",style:G(tl.value)},null,4),(i(),d(k,null,w(Re,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":B.value===t.value}]),onClick:C(c=>_l(t.value,c),["prevent"]),onMousedown:n[14]||(n[14]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":B.value===t.value},[e("div",zs,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,Gs)),64))]),e("div",js,[y.value===-1?(i(),d("div",Xs,[N.value.route?(i(),d("div",qs,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Js,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Qs,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Ws),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Zs,s(c.row.label),1),e("span",eo,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.fuel?(i(),d("div",lo,[e("div",to,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[15]||(n[15]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",so,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",oo,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,ao),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:De(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",no,s(c.row.label),1),e("span",ro,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.electricity?(i(),d("div",io,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",uo,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",co,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,_o),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",vo,s(c.row.label),1),e("span",bo,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(i(),d("div",ho,[N.value.route?(i(),d("div",po,[e("div",mo,[e("div",fo,[e("p",yo,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",go,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",ko,s(t.row.label),1),e("span",wo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.fuel?(i(),d("div",Co,[e("div",xo,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[16]||(n[16]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Po,[e("div",Vo,[e("p",So,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",To,[o(m,{data:De(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Do,s(t.row.label),1),e("span",Lo,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.electricity?(i(),d("div",Ao,[e("div",Ro,[e("div",Mo,[e("p",Eo,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",Ko,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",$o,s(t.row.label),1),e("span",Io,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.total]]),ee(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",Oo,[e("div",{class:"segmented__indicator",style:G(sl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":j.value===-1}]),onClick:n[17]||(n[17]=C(t=>$e(-1,t),["prevent"])),onMousedown:n[18]||(n[18]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":j.value===-1},[e("div",No,[e("span",Uo,s(a(l)("button.all")),1)])],42,Fo),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":j.value===c}]),onClick:C(Z=>$e(c,Z),["prevent"]),onMousedown:n[19]||(n[19]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":j.value===c},[e("div",Yo,[e("span",Ho,s(t.number),1)])],42,Bo))),128))])):f("",!0),u.value.length===0?(i(),d("div",Go,[e("p",zo,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",jo,[e("div",Xo,[o(re,{modelValue:F.value,"onUpdate:modelValue":n[20]||(n[20]=t=>F.value=t),placeholder:a(l)("button.select"),onChange:ul,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(vl,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",qo,[o(m,{data:he.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",Wo,s(a(l)("table.noData")),1)]),default:r(()=>[o(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"]),F.value==="dop_reg"?(i(),L(b,{key:0,prop:"additionalInfo",label:a(l)("table.noLocomotivesSelected"),"min-width":"200"},null,8,["label"])):f("",!0),F.value==="idle"?(i(),L(b,{key:1,prop:"idleDuration",label:a(l)("table.noLocomotivesSelected"),width:"120"},null,8,["label"])):f("",!0),F.value==="rfid"?(i(),L(b,{key:2,prop:"rfidCode",label:a(l)("table.noLocomotivesSelected"),width:"150"},null,8,["label"])):f("",!0),F.value==="violations"?(i(),L(b,{key:3,prop:"violationType",label:a(l)("table.noLocomotivesSelected"),width:"180"},null,8,["label"])):f("",!0)]),_:1},8,["data"]),he.value.length>10?(i(),d("div",Jo,[o(hl,{"page-size":10,layout:"prev, pager, next",total:he.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[le,A.value.events]])])])):f("",!0),e("div",Qo,[we.value<=1279?(i(),d("div",Zo,[e("p",en,[V(s(a(l)("table.listLoco"))+" - ",1),e("span",ln,s(Ie.value.length),1)]),o(re,{modelValue:xe.value,"onUpdate:modelValue":n[21]||(n[21]=t=>xe.value=t),filterable:"",placeholder:a(l)("button.select"),onChange:El,"filter-method":Kl,class:"segmented__select"},{empty:r(()=>[e("div",an,s(a(l)("table.noData")),1)]),default:r(()=>[(i(!0),d(k,null,w(Ie.value,t=>{var c;return i(),L(ne,{key:t.id,label:`${t.type} - ${t.number}`,value:((c=t.id)==null?void 0:c.toString())||""},{default:r(()=>[e("div",tn,[e("span",null,s(t.type),1),e("span",null,s(t.number),1),e("span",null,s(t.date),1)])]),_:2},1032,["label","value"])}),128))]),_:1},8,["modelValue","placeholder"])])):f("",!0),e("div",sn,[o(Xl)]),e("div",on,[e("div",nn,[o(H,{class:"history__charts_button",type:"primary",icon:a(Fl)},null,8,["icon"]),o(H,{class:"history__charts_button",type:"primary",icon:a(Nl)},null,8,["icon"]),o(H,{class:"history__charts_button",type:"primary",icon:a(kl)},null,8,["icon"]),e("div",rn,[e("div",{class:"segmented__indicator",style:G(Tl.value)},null,4),(i(),d(k,null,w(ze,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":K.value===t.value}]),onClick:C(c=>Dl(t.value,c),["prevent"]),onMousedown:n[22]||(n[22]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":K.value===t.value},[e("div",un,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two",title:t.label},null,8,["title"]))])],42,_n)),64))]),o(vt)]),ee(e("div",dn,[e("div",{ref_key:"chartContainer",ref:ge},null,512)],512),[[le,je.value.one]]),ee(e("div",cn,n[49]||(n[49]=[e("div",null,"График 2 - скоро будет реализован",-1)]),512),[[le,je.value.two]]),ee(e("div",vn,n[50]||(n[50]=[e("div",null,"График 3 - скоро будет реализован",-1)]),512),[[le,je.value.three]])]),we.value<=1279?(i(),d("div",bn,[we.value<=1279?(i(),d("div",hn,[e("div",{class:"segmented__indicator",style:G(Qe.value)},null,4),(i(),d(k,null,w(Le,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":te.value===t.value}]),onClick:C(c=>rl(t.value,c),["prevent"]),onMousedown:n[23]||(n[23]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":te.value===t.value},[e("div",mn,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,pn)),64))])):f("",!0),ee(e("div",{class:p(["history__table",{active:A.value.info}])},[e("div",fn,[o(bl,{ref_key:"addStatusFormRef",ref:Me,model:R,rules:ol,"label-position":"top","label-width":"auto"},{default:r(()=>[o(Fe,{label:a(l)("table.startDate"),required:"",prop:"datestart"},{default:r(()=>[e("div",yn,[o(me,{modelValue:R.datestart,"onUpdate:modelValue":n[24]||(n[24]=t=>R.datestart=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Oe,{modelValue:R.timestart,"onUpdate:modelValue":n[25]||(n[25]=t=>R.timestart=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(Fe,{label:a(l)("table.endDate"),required:"",prop:"dateend"},{default:r(()=>[e("div",gn,[o(me,{modelValue:R.dateend,"onUpdate:modelValue":n[26]||(n[26]=t=>R.dateend=t),type:"date",placeholder:a(l)("button.selectDate"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue","placeholder"]),o(Oe,{modelValue:R.timeend,"onUpdate:modelValue":n[27]||(n[27]=t=>R.timeend=t),placeholder:a(l)("button.selectTime"),format:"HH:mm","value-format":"HH:mm",clearable:!1,style:{width:"85px"}},null,8,["modelValue","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model","rules"]),e("button",{class:"history__button button__primary button",onClick:n[28]||(n[28]=t=>nl(Me.value))},[e("span",kn,[o(h,null,{default:r(()=>[(i(),L(U(a(ml))))]),_:1})]),e("span",null,s(a(l)("button.requestHistory")),1)]),e("button",wn,[e("span",Cn,[o(h,null,{default:r(()=>[(i(),L(U(a(fl))))]),_:1})]),e("span",null,s(a(l)("button.detailedHistory")),1)]),e("button",{class:"history__button button__primary button",onClick:Q},[e("span",xn,[o(h,null,{default:r(()=>[(i(),L(U(a(yl))))]),_:1})]),e("span",null,s(a(l)("button.settingCharts")),1)]),e("button",Pn,[e("span",Vn,[o(h,null,{default:r(()=>[(i(),L(U(a(gl))))]),_:1})]),e("span",null,s(a(l)("button.downloadFile")),1)])])],2),[[le,A.value.info]]),ee(e("div",{class:p(["history__left_table",{active:A.value.message}])},[u.value.length>0?(i(),d("div",Sn,[e("div",{class:"segmented__indicator",style:G(el.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":v.value===-1}]),onClick:n[29]||(n[29]=C(t=>Ee(-1,t),["prevent"])),onMousedown:n[30]||(n[30]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===-1},[e("div",Dn,[e("span",Ln,s(a(l)("button.all")),1)])],42,Tn),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":v.value===c}]),onClick:C(Z=>Ee(c,Z),["prevent"]),onMousedown:n[31]||(n[31]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":v.value===c},[e("div",Rn,[e("span",Mn,s(t.number),1)])],42,An))),128))])):f("",!0),u.value.length===0?(i(),d("div",En,[e("p",Kn,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",$n,[e("div",In,[e("div",{class:"segmented__indicator",style:G(Ze.value)},null,4),(i(),d(k,null,w(Ae,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":se.value===t.value}]),onClick:C(c=>il(t.value,c),["prevent"]),onMousedown:n[32]||(n[32]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":se.value===t.value},[e("div",Fn,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,On)),64))]),e("div",Nn,[v.value===-1?(i(),d("div",Un,[T.value.locomotive?(i(),d("div",Bn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"loc-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"locomotive"))}]),onClick:c=>q(P(t.id,"locomotive"),c)},[e("p",Hn,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Gn,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Yn),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"locomotive"))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.tabNumber"),value:t.tabNumber},{label:a(l)("table.workType"),value:t.workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",zn,s(c.row.label),1),e("span",jn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.information?(i(),d("div",Xn,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"info-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"information"))}]),onClick:c=>q(P(t.id,"information"),c)},[e("p",Wn,s(a(l)("table.information"))+" - "+s(t.number),1),e("span",Jn,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,qn),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"information"))}])},[o(m,{data:[{label:a(l)("table.bortDate"),value:t.bortDate},{label:a(l)("table.bortTime"),value:t.bortTime},{label:a(l)("table.speed"),value:t.speed},{label:a(l)("table.stopTime"),value:t.stopTime},{label:a(l)("table.pressure"),value:t.pressure},{label:a(l)("table.LSlight"),value:t.LSlight},{label:a(l)("table.fireAlarm"),value:t.fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Qn,s(c.row.label),1),e("span",Zn,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.location?(i(),d("div",er,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"locat-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"location"))}]),onClick:c=>q(P(t.id,"location"),c)},[e("p",tr,s(a(l)("table.coordinates"))+" - "+s(t.number),1),e("span",ar,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,lr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"location"))}])},[o(m,{data:[{label:a(l)("table.latitude"),value:t.latitude},{label:a(l)("table.longitude"),value:t.longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",sr,s(c.row.label),1),e("span",or,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.fuel?(i(),d("div",nr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"fuel"))}]),onClick:c=>q(P(t.id,"fuel"),c)},[e("p",ir,s(a(l)("table.fuel"))+" - "+s(t.number),1),e("span",_r,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,rr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"fuel"))}])},[o(m,{data:[{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.temp"),value:t.temp},{label:a(l)("table.density"),value:t.density},{label:a(l)("table.mass"),value:t.mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",ur,s(c.row.label),1),e("span",dr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.energy?(i(),d("div",cr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"energy-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"energy"))}]),onClick:c=>q(P(t.id,"energy"),c)},[e("p",br,s(a(l)("table.electricity"))+" - "+s(t.number),1),e("span",hr,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,vr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"energy"))}])},[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:t.instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:t.instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:t.instantPowerFull},{label:a(l)("table.voltage"),value:t.voltage},{label:a(l)("table.current"),value:t.current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",pr,s(c.row.label),1),e("span",mr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),T.value.krpd?(i(),d("div",fr,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"krpd-"+t.id,class:"history__information_block"},[e("div",{class:p(["history__block_header",{active:!D(P(t.id,"krpd"))}]),onClick:c=>q(P(t.id,"krpd"),c)},[e("p",gr,s(a(l)("table.selectedBlock"))+" - "+s(t.number),1),e("span",kr,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,yr),e("div",{class:p(["history__tab_container",{collapsed:D(P(t.id,"krpd"))}])},[o(m,{data:[{label:a(l)("table.startPeriod"),value:t.startPeriod},{label:a(l)("table.endPeriod"),value:t.endPeriod},{label:a(l)("table.volume"),value:t.volume},{label:a(l)("table.volume20"),value:t.volume20},{label:a(l)("table.mass"),value:t.mass},{label:a(l)("table.mileagekm"),value:t.mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",wr,s(c.row.label),1),e("span",Cr,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[v.value]?(i(),d("div",xr,[T.value.locomotive?(i(),d("div",Pr,[e("div",Vr,[e("p",Sr,s(a(l)("table.locomotive"))+" "+s(u.value[v.value].number),1)]),e("div",Tr,[o(m,{data:[{label:a(l)("table.series"),value:u.value[v.value].series},{label:a(l)("table.number"),value:u.value[v.value].number},{label:a(l)("table.tabNumber"),value:u.value[v.value].tabNumber},{label:a(l)("table.workType"),value:u.value[v.value].workType}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Dr,s(t.row.label),1),e("span",Lr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.information?(i(),d("div",Ar,[e("div",Rr,[e("p",Mr,s(a(l)("table.information"))+" - "+s(u.value[v.value].number),1)]),e("div",Er,[o(m,{data:[{label:a(l)("table.bortDate"),value:u.value[v.value].bortDate},{label:a(l)("table.bortTime"),value:u.value[v.value].bortTime},{label:a(l)("table.speed"),value:u.value[v.value].speed},{label:a(l)("table.stopTime"),value:u.value[v.value].stopTime},{label:a(l)("table.pressure"),value:u.value[v.value].pressure},{label:a(l)("table.LSlight"),value:u.value[v.value].LSlight},{label:a(l)("table.fireAlarm"),value:u.value[v.value].fireAlarm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Kr,s(t.row.label),1),e("span",$r,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.location?(i(),d("div",Ir,[e("div",Or,[e("p",Fr,s(a(l)("table.coordinates"))+" - "+s(u.value[v.value].number),1)]),e("div",Nr,[o(m,{data:[{label:a(l)("table.latitude"),value:u.value[v.value].latitude},{label:a(l)("table.longitude"),value:u.value[v.value].longitude}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Ur,s(t.row.label),1),e("span",Br,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.fuel?(i(),d("div",Yr,[e("div",Hr,[e("p",Gr,s(a(l)("table.fuel"))+" - "+s(u.value[v.value].number),1)]),e("div",zr,[o(m,{data:[{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.temp"),value:u.value[v.value].temp},{label:a(l)("table.density"),value:u.value[v.value].density},{label:a(l)("table.mass"),value:u.value[v.value].mass}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",jr,s(t.row.label),1),e("span",Xr,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.energy?(i(),d("div",qr,[e("div",Wr,[e("p",Jr,s(a(l)("table.electricity"))+" - "+s(u.value[v.value].number),1)]),e("div",Qr,[o(m,{data:[{label:a(l)("table.instantPowerActive"),value:u.value[v.value].instantPowerActive},{label:a(l)("table.instantPowerReactive"),value:u.value[v.value].instantPowerReactive},{label:a(l)("table.instantPowerFull"),value:u.value[v.value].instantPowerFull},{label:a(l)("table.voltage"),value:u.value[v.value].voltage},{label:a(l)("table.current"),value:u.value[v.value].current}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",Zr,s(t.row.label),1),e("span",ei,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0),T.value.krpd?(i(),d("div",li,[e("div",ti,[e("p",ai,s(a(l)("table.selectedBlock"))+" - "+s(u.value[v.value].number),1)]),e("div",si,[o(m,{data:[{label:a(l)("table.startPeriod"),value:u.value[v.value].startPeriod},{label:a(l)("table.endPeriod"),value:u.value[v.value].endPeriod},{label:a(l)("table.volume"),value:u.value[v.value].volume},{label:a(l)("table.volume20"),value:u.value[v.value].volume20},{label:a(l)("table.mass"),value:u.value[v.value].mass},{label:a(l)("table.mileagekm"),value:u.value[v.value].mileagekm}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",oi,s(t.row.label),1),e("span",ni,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.message]]),ee(e("div",{class:p(["history__left_table",{active:A.value.total}])},[u.value.length>0?(i(),d("div",ri,[e("div",{class:"segmented__indicator",style:G(ll.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":y.value===-1}]),onClick:n[33]||(n[33]=C(t=>Ke(-1,t),["prevent"])),onMousedown:n[34]||(n[34]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===-1},[e("div",_i,[e("span",ui,s(a(l)("button.all")),1)])],42,ii),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":y.value===c}]),onClick:C(Z=>Ke(c,Z),["prevent"]),onMousedown:n[35]||(n[35]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":y.value===c},[e("div",ci,[e("span",vi,s(t.number),1)])],42,di))),128))])):f("",!0),u.value.length===0?(i(),d("div",bi,[e("p",hi,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",pi,[e("div",mi,[e("div",{class:"segmented__indicator",style:G(tl.value)},null,4),(i(),d(k,null,w(Re,t=>e("button",{key:t.value,class:p(["segmented__item",{"is-selected":B.value===t.value}]),onClick:C(c=>_l(t.value,c),["prevent"]),onMousedown:n[36]||(n[36]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":B.value===t.value},[e("div",yi,[(i(),L(U(t.iconComponent),{class:"segmented__icon text_two"}))])],42,fi)),64))]),e("div",gi,[y.value===-1?(i(),d("div",ki,[N.value.route?(i(),d("div",wi,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"route-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",xi,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Pi,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Ci),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:[{label:a(l)("table.series"),value:t.series},{label:a(l)("table.number"),value:t.number},{label:a(l)("table.mileage"),value:t.mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:t.speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Vi,s(c.row.label),1),e("span",Si,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.fuel?(i(),d("div",Ti,[e("div",Di,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[37]||(n[37]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"fuel-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Ai,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Ri,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,Li),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:De(t),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Mi,s(c.row.label),1),e("span",Ei,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0),N.value.electricity?(i(),d("div",Ki,[(i(!0),d(k,null,w(u.value,t=>(i(),d("div",{key:"electricity-"+t.id,class:"history__total_block"},[e("div",{class:p(["history__block_header",{active:!W($(t.id))}]),onClick:c=>be($(t.id),c)},[e("p",Ii,s(a(l)("table.locomotive"))+" - "+s(t.number),1),e("span",Oi,[o(h,null,{default:r(()=>[o(a(M))]),_:1})])],10,$i),e("div",{class:p(["history__tab_container",{collapsed:W($(t.id))}])},[o(m,{data:[{label:a(l)("table.activePowerForward"),value:t.electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:t.electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:t.electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:t.electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:t.electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:t.electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(c=>[e("span",Fi,s(c.row.label),1),e("span",Ni,s(c.row.value),1)]),_:1})]),_:2},1032,["data"])],2)]))),128))])):f("",!0)])):u.value[y.value]?(i(),d("div",Ui,[N.value.route?(i(),d("div",Bi,[e("div",Yi,[e("div",Hi,[e("p",Gi,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",zi,[o(m,{data:[{label:a(l)("table.series"),value:u.value[y.value].series},{label:a(l)("table.number"),value:u.value[y.value].number},{label:a(l)("table.mileage"),value:u.value[y.value].mileagekm+" "+a(l)("table.km")},{label:a(l)("table.averageSpeed"),value:u.value[y.value].speed+" "+a(l)("table.km")+"/ч"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",ji,s(t.row.label),1),e("span",Xi,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.fuel?(i(),d("div",qi,[e("div",Wi,[o(re,{modelValue:oe.value,"onUpdate:modelValue":n[38]||(n[38]=t=>oe.value=t),placeholder:a(l)("button.select"),size:"small",class:"total__fuel_select"},{default:r(()=>[(i(),d(k,null,w(Te,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",Ji,[e("div",Qi,[e("p",Zi,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",e_,[o(m,{data:De(u.value[y.value]),border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",l_,s(t.row.label),1),e("span",t_,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0),N.value.electricity?(i(),d("div",a_,[e("div",s_,[e("div",o_,[e("p",n_,s(a(l)("table.locomotive"))+" "+s(u.value[y.value].number),1)]),e("div",r_,[o(m,{data:[{label:a(l)("table.activePowerForward"),value:u.value[y.value].electricity_active_forward+" кВт*ч"},{label:a(l)("table.activePowerReverse"),value:u.value[y.value].electricity_active_reverse+" кВт*ч"},{label:a(l)("table.reactivePowerForward"),value:u.value[y.value].electricity_reactive_forward+" кВАр*ч"},{label:a(l)("table.reactivePowerReverse"),value:u.value[y.value].electricity_reactive_reverse+" кВАр*ч"},{label:a(l)("table.minVoltage"),value:u.value[y.value].electricity_min_voltage+" В"},{label:a(l)("table.maxVoltage"),value:u.value[y.value].electricity_max_voltage+" В"}],border:"","show-header":!1,"row-class-name":g},{default:r(()=>[o(b,null,{default:r(t=>[e("span",i_,s(t.row.label),1),e("span",__,s(t.row.value),1)]),_:1})]),_:1},8,["data"])])])])):f("",!0)])):f("",!0)])]))],2),[[le,A.value.total]]),ee(e("div",{class:p(["history__left_table",{active:A.value.events}])},[u.value.length>0?(i(),d("div",u_,[e("div",{class:"segmented__indicator",style:G(sl.value)},null,4),e("button",{class:p(["segmented__item",{"is-selected":j.value===-1}]),onClick:n[39]||(n[39]=C(t=>$e(-1,t),["prevent"])),onMousedown:n[40]||(n[40]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":j.value===-1},[e("div",c_,[e("span",v_,s(a(l)("button.all")),1)])],42,d_),(i(!0),d(k,null,w(u.value,(t,c)=>(i(),d("button",{key:t.id,class:p(["segmented__item",{"is-selected":j.value===c}]),onClick:C(Z=>$e(c,Z),["prevent"]),onMousedown:n[41]||(n[41]=C(()=>{},["prevent"])),type:"button",role:"radio","aria-checked":j.value===c},[e("div",h_,[e("span",p_,s(t.number),1)])],42,b_))),128))])):f("",!0),u.value.length===0?(i(),d("div",m_,[e("p",f_,s(a(l)("table.noLocomotivesSelected")),1)])):(i(),d("div",y_,[e("div",g_,[o(re,{modelValue:F.value,"onUpdate:modelValue":n[42]||(n[42]=t=>F.value=t),placeholder:a(l)("button.selectEventType"),onChange:ul,size:"large",class:"events__type_select"},{default:r(()=>[(i(),d(k,null,w(vl,t=>o(ne,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),e("div",k_,[o(m,{data:he.value,border:"","row-class-name":g,style:{width:"100%"}},{empty:r(()=>[e("div",w_,s(a(l)("table.noData")),1)]),default:r(()=>[o(b,{prop:"date",label:a(l)("table.date"),width:"110",sortable:""},null,8,["label"]),o(b,{prop:"time",label:a(l)("table.time"),width:"100",sortable:""},null,8,["label"]),o(b,{prop:"tabNumber",label:a(l)("table.tabNumber"),width:"120",sortable:""},null,8,["label"]),o(b,{prop:"locomotive",label:a(l)("table.locomotive"),width:"100",sortable:""},null,8,["label"])]),_:1},8,["data"]),he.value.length>10?(i(),d("div",C_,[o(hl,{"page-size":10,layout:"prev, pager, next",total:he.value.length,small:""},null,8,["total"])])):f("",!0)])]))],2),[[le,A.value.events]])])):f("",!0)])])])])])),e("div",{class:p(["overlay_full",{active:ae.value}]),onClick:ce},null,2),e("div",{class:p(["history_popup popup",{active:O.value}])},[e("div",x_,[e("div",P_,[e("button",{class:"history_popup__close popup__close",onClick:Q},[o(h,null,{default:r(()=>[o(a(Ul))]),_:1})]),e("h4",V_,s(a(l)("history.selectingParameters")),1),e("ul",S_,[e("li",T_,[e("h5",D_,s(a(l)("history.main")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[43]||(n[43]=t=>E.value=t)},{default:r(()=>[e("div",L_,[o(S,{label:"speedKmh",name:"speedKmh"},{default:r(()=>[V(s(a(l)("history.speedKmh")),1)]),_:1})]),e("div",A_,[o(S,{label:"brakePipePressureKgfCm2",name:"brakePipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakePipePressureKgfCm2")),1)]),_:1})]),e("div",R_,[o(S,{label:"brakeCylinderPressureKgfCm2",name:"brakeCylinderPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.brakeCylinderPressureKgfCm2")),1)]),_:1})]),e("div",M_,[o(S,{label:"feedPipePressureKgfCm2",name:"feedPipePressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.feedPipePressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",E_,[e("h5",K_,s(a(l)("history.fuelParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[44]||(n[44]=t=>E.value=t)},{default:r(()=>[e("div",$_,[o(S,{label:"fuelVolumeL",name:"fuelVolumeL"},{default:r(()=>[V(s(a(l)("history.fuelVolumeL")),1)]),_:1})]),e("div",I_,[o(S,{label:"fuelVolume20C",name:"fuelVolume20C"},{default:r(()=>[V(s(a(l)("history.fuelVolume20C")),1)]),_:1})]),e("div",O_,[o(S,{label:"fuelMassKg",name:"fuelMassKg"},{default:r(()=>[V(s(a(l)("history.fuelMassKg")),1)]),_:1})]),e("div",F_,[o(S,{label:"filterFuelReadings",name:"filterFuelReadings"},{default:r(()=>[V(s(a(l)("history.filterFuelReadings")),1)]),_:1})]),e("div",N_,[o(S,{label:"fuelTemperatureC",name:"fuelTemperatureC"},{default:r(()=>[V(s(a(l)("history.fuelTemperatureC")),1)]),_:1})]),e("div",U_,[o(S,{label:"fuelDensityKgM3",name:"fuelDensityKgM3"},{default:r(()=>[V(s(a(l)("history.fuelDensityKgM3")),1)]),_:1})]),e("div",B_,[o(S,{label:"movingAverage",name:"movingAverage"},{default:r(()=>[V(s(a(l)("history.movingAverage")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",Y_,[e("h5",H_,s(a(l)("history.dieselParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[45]||(n[45]=t=>E.value=t)},{default:r(()=>[e("div",G_,[o(S,{label:"tractionGeneratorCurrentA",name:"tractionGeneratorCurrentA"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorCurrentA")),1)]),_:1})]),e("div",z_,[o(S,{label:"tractionGeneratorVoltageV",name:"tractionGeneratorVoltageV"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorVoltageV")),1)]),_:1})]),e("div",j_,[o(S,{label:"tractionGeneratorPowerKw",name:"tractionGeneratorPowerKw"},{default:r(()=>[V(s(a(l)("history.tractionGeneratorPowerKw")),1)]),_:1})]),e("div",X_,[o(S,{label:"dieselEngineRpm",name:"dieselEngineRpm"},{default:r(()=>[V(s(a(l)("history.dieselEngineRpm")),1)]),_:1})]),e("div",q_,[o(S,{label:"waterTemperatureC",name:"waterTemperatureC"},{default:r(()=>[V(s(a(l)("history.waterTemperatureC")),1)]),_:1})]),e("div",W_,[o(S,{label:"oilTemperatureC",name:"oilTemperatureC"},{default:r(()=>[V(s(a(l)("history.oilTemperatureC")),1)]),_:1})]),e("div",J_,[o(S,{label:"oilPressureKgfCm2",name:"oilPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.oilPressureKgfCm2")),1)]),_:1})]),e("div",Q_,[o(S,{label:"fuelPressureKgfCm2",name:"fuelPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.fuelPressureKgfCm2")),1)]),_:1})]),e("div",Z_,[o(S,{label:"boostAirPressureKgfCm2",name:"boostAirPressureKgfCm2"},{default:r(()=>[V(s(a(l)("history.boostAirPressureKgfCm2")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",eu,[e("h5",lu,s(a(l)("history.electricityParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[46]||(n[46]=t=>E.value=t)},{default:r(()=>[e("div",tu,[o(S,{label:"instantaneousActivePowerKw",name:"instantaneousActivePowerKw"},{default:r(()=>[V(s(a(l)("history.instantaneousActivePowerKw")),1)]),_:1})]),e("div",au,[o(S,{label:"instantaneousReactivePowerKvar",name:"instantaneousReactivePowerKvar"},{default:r(()=>[V(s(a(l)("history.instantaneousReactivePowerKvar")),1)]),_:1})]),e("div",su,[o(S,{label:"instantaneousApparentPowerKva",name:"instantaneousApparentPowerKva"},{default:r(()=>[V(s(a(l)("history.instantaneousApparentPowerKva")),1)]),_:1})]),e("div",ou,[o(S,{label:"voltageV",name:"voltageV"},{default:r(()=>[V(s(a(l)("history.voltageV")),1)]),_:1})]),e("div",nu,[o(S,{label:"currentA",name:"currentA"},{default:r(()=>[V(s(a(l)("history.currentA")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",ru,[e("h5",iu,s(a(l)("history.meteredElectricity")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[47]||(n[47]=t=>E.value=t)},{default:r(()=>[e("div",_u,[o(S,{label:"activeEnergyForwardKwh",name:"activeEnergyForwardKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyForwardKwh")),1)]),_:1})]),e("div",uu,[o(S,{label:"activeEnergyReverseKwh",name:"activeEnergyReverseKwh"},{default:r(()=>[V(s(a(l)("history.activeEnergyReverseKwh")),1)]),_:1})]),e("div",du,[o(S,{label:"reactiveEnergyForwardKvarh",name:"reactiveEnergyForwardKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyForwardKvarh")),1)]),_:1})]),e("div",cu,[o(S,{label:"reactiveEnergyReverseKvarh",name:"reactiveEnergyReverseKvarh"},{default:r(()=>[V(s(a(l)("history.reactiveEnergyReverseKvarh")),1)]),_:1})])]),_:1},8,["modelValue"])]),e("li",vu,[e("h5",bu,s(a(l)("history.additionalParameters")),1),o(fe,{class:"history_popup__flex",modelValue:E.value,"onUpdate:modelValue":n[48]||(n[48]=t=>E.value=t)},{default:r(()=>[e("div",hu,[o(S,{label:"driverControllerPosition",name:"driverControllerPosition"},{default:r(()=>[V(s(a(l)("history.driverControllerPosition")),1)]),_:1})]),e("div",pu,[o(S,{label:"als",name:"als"},{default:r(()=>[V(s(a(l)("history.als")),1)]),_:1})])]),_:1},8,["modelValue"])])])])]),e("div",mu,[e("button",{class:"popup__button button__second button",onClick:Q},[e("span",null,s(a(l)("button.cancel")),1)]),e("button",{class:"popup__button button__primary button",onClick:Ye},[e("span",null,s(a(l)("button.save")),1)])])],2),o(Jl)],64)}}}),_d=ue(fu,[["__scopeId","data-v-5f0e9889"]]);export{_d as default};
