import{B as oe,v as at,P as pt,M as ut,a1 as I,aE as nt,Z as we,a$ as it,aL as rt,O as xe,aF as ke,a6 as _t}from"./vendor-@element-plus-C9-2Gvnb.js";import{F as dt}from"./api-Cj-Fovd5.js";import{g as Ce,o as Fe,A as J,T as Ve}from"./index-BkswGIfA.js";import{H as ct}from"./Header-WnhCMtNz.js";import{F as mt}from"./Footer-DfKqaMUm.js";import{H as ze}from"./HelpList-DE1va1SE.js";import{_ as vt}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DlFbhVON.js";import{C as ft}from"./Cubes-CL620T1n.js";import{B as ht}from"./Back-Dh5HUnLu.js";import{P as bt}from"./Preloader-DNQakiCF.js";import{c as gt,E as g}from"./vendor-element-plus-BvtR3Aid.js";import{d as yt,e as f,b as w,k as wt,m as xt,U as kt,c as h,R as l,I as R,a as e,J as _,u as o,P as u,E as Ct,M as x,D as T,Q,a4 as le,al as y,o as c,O as P,L as Y}from"./vendor-@vue-C8B30xDB.js";import{u as Ft}from"./vendor-vue-i18n-BPaetY6Z.js";import{_ as Vt}from"./LogoSVG-D7wkjCd8.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-geotiff-CNG5SH6k.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-vue-router-B2fctcAq.js";import"./vendor-vue-tel-input-DE59jGiG.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-CxB6DJuU.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";import"./GoBack-6mSNKCGn.js";const zt={key:1,class:"support"},Lt={class:"support__container container"},Dt={class:"support__block"},St={class:"support__flex list_flex"},Et={class:"support__left list_left"},At={class:"support__list list_scroll"},Rt={class:"support__right list_right"},Tt={class:"breadcrumbs"},Ut={class:"breadcrumbs__list"},Bt={class:"breadcrumbs__item"},$t={class:"breadcrumbs__item"},Mt={class:"support__select","is-mobile":!0},Ot={class:"support__content"},It={class:"support__add"},Pt={class:"button__icon"},jt={class:"support__table"},Nt={class:"el-table_title"},qt={class:"el-table_count text_four"},Ht={class:"el-table_arrow"},Kt={class:"support__actions"},Gt={class:"table_empty"},Jt={key:0,class:"repair__bottom"},Qt={class:"repair__bottom_left"},Yt={class:"repair__search el-table_search_radius"},Zt={class:"support_details__scroll popup__scroll_buttons"},Wt={class:"support_details__block popup__block"},Xt={class:"support_details__head popup__head"},es={class:"support_details__info"},ts={class:"support_details__row"},ss={class:"support_details__field"},os={class:"support_details__label text_four"},ls={class:"support_details__field"},as={class:"support_details__label text_four"},ps={key:0,class:"support_details__row"},us={key:0,class:"support_details__field"},ns={class:"support_details__label text_four"},is={key:1,class:"support_details__field"},rs={class:"support_details__label text_four"},_s={class:"support_details__field"},ds={class:"support_details__label text_four"},cs={class:"support_details__field"},ms={class:"support_details__label text_four"},vs={key:0,class:"support_details__reply"},fs={class:"support_details__reply_head"},hs={class:"support_details__reply_content"},bs={key:0,class:"support_details__files"},gs={class:"support_details__files_list"},ys={class:"support_details__file_name"},ws={class:"support_details__file_size"},xs={class:"support_details__admin_reply"},ks={class:"support_details__reply_head"},Cs={class:"support_details__upload"},Fs={class:"support_popup__area_text"},Vs={class:"support_popup__area_title"},zs={class:"support_popup__area_subtitle text_four"},Ls={class:"support_popup__upload_tip text_four"},Ds={key:0,class:"support_popup__files"},Ss={class:"support_popup__files_header"},Es={class:"text_four"},As={class:"support_popup__files_list"},Rs={class:"support_popup__info"},Ts={class:"support_popup__details"},Us={class:"support_popup__name text_three"},Bs={class:"support_popup__size text_four"},$s=["onClick"],Ms={class:"popup__buttons popup__buttons_one"},Os={class:"support_delete__scroll popup__scroll_buttons"},Is={class:"support_delete__block popup__block"},Ps={class:"support_delete__head popup__head"},js={class:"popup__message"},Ns={class:"support_delete__text text_two"},qs={class:"popup__buttons"},Hs={class:"support_popup__scroll popup__scroll_buttons"},Ks={class:"support_popup__block popup__block"},Gs={class:"support_popup__head popup__head"},Js={class:"support_popup__upload"},Qs={class:"support_popup__area_text"},Ys={class:"support_popup__area_title"},Zs={class:"support_popup__area_subtitle text_four"},Ws={class:"support_popup__upload_tip text_four"},Xs={key:0,class:"support_popup__files"},eo={class:"support_popup__files_header"},to={class:"text_four"},so={class:"support_popup__files_list"},oo={class:"support_popup__info"},lo={class:"support_popup__details"},ao={class:"support_popup__name text_three"},po={class:"support_popup__size text_four"},uo=["onClick"],no={class:"support_details__buttons popup__buttons"},io=yt({__name:"Support",setup(ro){const{t:s}=Ft(),Le=f(!1),D=f(!1),j=f(!1),N=f([]),q=f(!1),ae=f(),U=f(!1),$=f(!1),C=f(!1),k=f(!1),B=f(""),L=f([]),S=f([]),F=w(()=>[...L.value,...S.value.map(a=>({name:a.name,size:a.size,type:a.type}))]),H=f(!1),De=()=>{D.value=!1,j.value=!1,U.value=!1,$.value=!1,document.documentElement.classList.remove("noscroll")},Se=()=>{D.value=!0,j.value=!0,document.documentElement.classList.add("noscroll")},Z=()=>{D.value=!1,j.value=!1,document.documentElement.classList.remove("noscroll")},W=()=>{U.value=!U.value,D.value=!D.value,setTimeout(()=>{L.value=[...i.value.replyFiles||[]]},1),U.value&&i.value&&(L.value=i.value.replyFiles||[],S.value=[],B.value=i.value.answer||""),U.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},K=()=>{$.value=!$.value,D.value=!D.value,$.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},m=wt({theme:"",message:"",files:[],email:""}),pe=w(()=>[s("support.themes.map"),s("support.themes.history"),s("support.themes.analytics"),s("support.themes.cargo"),s("support.themes.repair"),s("support.themes.reports"),s("support.themes.service"),s("support.themes.help")]),Ee=w(()=>`${s("elmessage.formSuccess")}`),Ae=w(()=>`${s("elmessage.formError")}`),Re=w(()=>`${s("elmessage.requiredError")}`),Te=w(()=>`${s("elmessage.send")}`),G=w(()=>`${s("elmessage.countFiles")}`),ue=w(()=>`${s("elmessage.fileSize")}`),ne=w(()=>`${s("elmessage.fileFormat")}`),ie=w(()=>`${s("elmessage.fileAlready")}`),Ue=(a,t)=>{const n=a?pe.value.filter(r=>r.toLowerCase().includes(a.toLowerCase())):pe.value;t(n.map(r=>({value:r})))},re=w(()=>({theme:[{required:!0,message:s("form.themes"),trigger:"change"}],email:[{required:!0,message:s("form.email"),trigger:"blur"},{type:"email",message:s("form.correctEmail"),trigger:"blur"}],message:[{required:!0,message:s("form.message"),trigger:"blur"}]})),_e=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(ue.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(v=>t.type.includes(v)))return g.error(ne.value),!1;if(m.files.some(v=>v.name===t.name&&v.size===t.size))return g.warning(ie.value),!1;const b={name:t.name,size:t.size,type:t.type};m.files.push(b)},de=a=>{const t=m.files.findIndex(n=>n.name===a.name);t!==-1&&m.files.splice(t,1)},Be=a=>{a.preventDefault(),m.files.length<5&&(q.value=!0)},$e=a=>{a.preventDefault(),q.value=!1},Me=a=>{var n;if(a.preventDefault(),q.value=!1,m.files.length>=5){g.warning(G.value);return}const t=(n=a.dataTransfer)==null?void 0:n.files;t&&Array.from(t).forEach(r=>{if(m.files.length>=5)return;const d={raw:r,name:r.name};_e(d)})},X=a=>{if(a===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,r)).toFixed(2))+" "+n[r]},ee=a=>{var E;const t=((E=a.split(".").pop())==null?void 0:E.toLowerCase())||"",n=["jpg","jpeg","png","gif","bmp","webp","svg"],r=["mp4","avi","mov","wmv","flv","webm"],d=["pdf","doc","docx"],b=["zip","rar","7z","tar","gz"],v=["xls","xlsx","csv"];return n.includes(t)?"image":r.includes(t)?"video":d.includes(t)?"document":b.includes(t)?"archive":v.includes(t)?"spreadsheet":t==="txt"?"text":"unknown"},te=a=>{const t={image:it,video:rt,document:xe,archive:ke,spreadsheet:_t,text:xe,unknown:ke};return t[a]||t.unknown},Oe=()=>{m.files=[],N.value=[]},Ie=()=>{g.warning(G.value)},Pe=async a=>{if(a)try{await a.validate();const t=gt.service({lock:!0,text:Te.value});try{await dt("post","/api/v1/support/",{}),console.log("Support form data:",m),g({message:Ee.value,type:"success"}),a.resetFields(),m.files=[],N.value=[],Z()}catch(n){g({message:n.message||Ae.value,type:"error"})}finally{t.close()}}catch{g.error(Re.value)}},V=f(""),i=f({}),M=f(!0),ce=w(()=>{let a=je;return V.value&&(a=a.filter(t=>{var n,r,d,b,v,E,A;return((n=t.num)==null?void 0:n.toLowerCase().includes(V.value.toLowerCase()))||((r=t.date)==null?void 0:r.toLowerCase().includes(V.value.toLowerCase()))||((d=t.mail)==null?void 0:d.toLowerCase().includes(V.value.toLowerCase()))||((b=t.theme)==null?void 0:b.toLowerCase().includes(V.value.toLowerCase()))||((v=t.message)==null?void 0:v.toLowerCase().includes(V.value.toLowerCase()))||((E=t.answer)==null?void 0:E.toLowerCase().includes(V.value.toLowerCase()))||((A=t.status)==null?void 0:A.toLowerCase().includes(V.value.toLowerCase()))})),a}),je=[{id:1,num:"001",date:"2024-01-15 10:30:00",mail:"user1@example.com",theme:"Проблема с картой",message:"Не отображаются маршруты...",answer:"Проблема решена в версии 2.1.5",status:"Закрыто",dateConfirmed:"2024-01-15 11:00:00",dateSolved:"2024-01-15 14:30:00",replyFiles:[{name:"screenshot.png",size:1024e3,type:"image/png"},{name:"logs.zip",size:2048e3,type:"application/zip"}]},{id:2,num:"002",date:"2024-01-16 14:20:00",mail:"user2@example.com",theme:"Вопрос по отчетам",message:"Как сгенерировать отчет...",answer:"Инструкция отправлена на почту",status:"В работе",dateConfirmed:"2024-01-16 15:00:00"},{id:3,num:"003",date:"2024-01-17 09:15:00",mail:"user3@example.com",theme:"Техническая поддержка",message:"Проблема с авторизацией...",status:"Открыто"},{id:4,num:"004",date:"2024-01-18 16:45:00",mail:"user4@example.com",theme:"Обновление данных",message:"Данные не синхронизируются...",answer:"Решено",status:"Закрыто"}],Ne=({rowIndex:a})=>a%2===1?"bg_gray":"",qe=a=>{i.value=a||{}},He=()=>{M.value=!M.value},Ke=()=>{C.value&&g.success(s("elmessage.formSuccess")),C.value=!C.value},Ge=()=>{k.value?B.value.trim()&&(i.value.answer=B.value,i.value.replyFiles=[...L.value],i.value.status!=="Закрыто"&&(i.value.status="В работе"),g.success(s("elmessage.formSuccess"))):(B.value=i.value.answer||"",L.value=[...i.value.replyFiles||[]],S.value=[]),k.value=!k.value},me=a=>{const t=a.raw;if(t.size>10*1024*1024)return g.error(ue.value),!1;if(!["image/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.","text/","application/zip","text/csv","application/csv"].some(b=>t.type.includes(b)))return g.error(ne.value),!1;if(S.value.some(b=>b.name===t.name&&b.size===t.size)||L.value.some(b=>b.name===t.name&&b.size===t.size))return g.warning(ie.value),!1;S.value.push(t)},ve=a=>{const t=S.value.findIndex(r=>r.name===a.name);if(t!==-1){S.value.splice(t,1);return}const n=L.value.findIndex(r=>r.name===a.name);n!==-1&&L.value.splice(n,1)},Je=()=>{g.warning(G.value)},Qe=a=>{a.preventDefault(),k&&F.value.length<5&&(H.value=!0)},Ye=a=>{a.preventDefault(),H.value=!1},Ze=a=>{var n;if(a.preventDefault(),H.value=!1,!k||F.value.length>=5){g.warning(G.value);return}const t=(n=a.dataTransfer)==null?void 0:n.files;t&&Array.from(t).forEach(r=>{if(F.value.length>=5)return;const d={raw:r,name:r.name};me(d)})},We=a=>{const t=F.value[a];ve(t)},Xe=()=>{S.value=[],L.value=[]},et=a=>{const t=new Blob([`Mock content for ${a.name}`],{type:a.type}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=a.name,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),g.success(`${s("button.download")}: ${a.name}`)},fe=f(Ce(J.CUBES,!1)),he=f(Ce(J.BACK,!1));return xt(()=>{const a=Fe(n=>{fe.value=n},J.CUBES),t=Fe(n=>{he.value=n},J.BACK);kt(()=>{a(),t()})}),(a,t)=>{var ge,ye;const n=y("RouterLink"),r=y("router-view"),d=y("el-icon"),b=y("ArrowDown"),v=y("el-table-column"),E=y("el-tag"),A=y("el-button"),tt=y("el-table"),z=y("el-input"),be=y("el-upload"),st=y("el-autocomplete"),se=y("el-form-item"),ot=y("el-form");return c(),h(Q,null,[l(ct),Le.value?(c(),R(bt,{key:0})):(c(),h("section",zt,[e("div",Lt,[e("div",Dt,[e("div",St,[e("div",Et,[e("ul",At,[l(ze,{"is-mobile":!1})])]),e("div",Rt,[e("div",Tt,[e("ul",Ut,[l(vt),e("li",Bt,[l(n,{class:"breadcrumbs__link text_four",to:o(Ve).i18nRoute({name:"help"})},{default:_(()=>[P(u(o(s)("header.help")),1)]),_:1},8,["to"])]),e("li",$t,[l(n,{class:"breadcrumbs__link text_four",to:o(Ve).i18nRoute({name:"support"})},{default:_(()=>[P(u(o(s)("header.support")),1)]),_:1},8,["to"])])])]),e("div",Mt,[l(ze,{"is-mobile":!0}),l(r)]),e("div",Ot,[e("div",It,[e("button",{class:"support__button button__primary button",onClick:Se},[e("span",Pt,[l(d,null,{default:_(()=>[(c(),R(Y(o(oe))))]),_:1})]),e("span",null,u(o(s)("button.createAppeal")),1)])]),e("div",jt,[l(tt,{ref:"SupportTableRef",data:ce.value,"highlight-current-row":"","row-class-name":Ne,onCurrentChange:qe,style:Ct({maxHeight:M.value?"240px":"25px"}),"max-height":"240",border:""},{empty:_(()=>[e("div",Gt,u(o(s)("table.noData")),1)]),default:_(()=>[l(v,{"header-align":"center"},{header:_(()=>[e("span",{class:T(["el-table_top",{active:M.value}]),onClick:He},[e("span",Nt,[P(u(o(s)("table.listAppeals"))+" - ",1),e("span",qt,u(ce.value.length),1)]),e("span",Ht,[l(d,null,{default:_(()=>[l(b)]),_:1})])],2)]),default:_(()=>[l(v,{property:"num",sortable:"",label:"№","min-width":"80"}),l(v,{property:"date",sortable:"",label:o(s)("table.date"),"min-width":"170"},null,8,["label"]),l(v,{property:"mail",sortable:"",label:o(s)("table.mail"),"min-width":"200"},null,8,["label"]),l(v,{property:"theme",sortable:"",label:o(s)("table.theme"),"min-width":"180"},null,8,["label"]),l(v,{property:"message",sortable:"",label:o(s)("table.message"),"min-width":"250","show-overflow-tooltip":""},null,8,["label"]),l(v,{property:"answer",sortable:"",label:o(s)("table.answer"),"min-width":"130"},null,8,["label"]),l(v,{property:"status",sortable:"",label:o(s)("table.status"),"min-width":"120"},{default:_(p=>[l(E,{type:p.row.status==="Закрыто"?"success":p.row.status==="В работе"?"warning":p.row.status==="Открыто"?"info":"danger",size:"small"},{default:_(()=>[P(u(p.row.status),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(v,{label:o(s)("table.actions"),width:"120",fixed:"right"},{default:_(p=>[e("div",Kt,[P(u(p.row.actions)+" ",1),l(A,{type:"primary",size:"small",icon:o(at),title:o(s)("button.view"),onClick:W},null,8,["icon","title"]),l(A,{type:"danger",size:"small",icon:o(pt),title:o(s)("button.delete"),onClick:K},null,8,["icon","title"])])]),_:1},8,["label"])]),_:1})]),_:1},8,["data","style"]),M.value?(c(),h("div",Jt,[e("div",Qt,[e("div",Yt,[l(z,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=p=>V.value=p),placeholder:o(s)("sort.search")},{prepend:_(()=>[l(A,{icon:o(ut),title:o(s)("sort.search")},null,8,["icon","title"])]),_:1},8,["modelValue","placeholder"])])])])):x("",!0)])]),fe.value?(c(),R(ft,{key:0})):x("",!0),he.value?(c(),R(ht,{key:1})):x("",!0)])])])])])),e("div",{class:T(["overlay_full",{active:D.value}]),onClick:De},null,2),e("div",{class:T(["support_details popup",{active:U.value}])},[e("div",Zt,[e("div",Wt,[e("button",{class:"support_details__close popup__close",onClick:W},[l(d,null,{default:_(()=>[l(o(I))]),_:1})]),e("h4",Xt,u(o(s)("support.viewAppeal"))+" #"+u((ge=i.value)==null?void 0:ge.num),1),e("div",es,[e("div",ts,[e("div",ss,[e("label",os,u(o(s)("table.mail")),1),l(z,{modelValue:i.value.mail,"onUpdate:modelValue":t[1]||(t[1]=p=>i.value.mail=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",ls,[e("label",as,u(o(s)("table.date")),1),l(z,{modelValue:i.value.date,"onUpdate:modelValue":t[2]||(t[2]=p=>i.value.date=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])]),i.value.dateConfirmed||i.value.dateSolved?(c(),h("div",ps,[i.value.dateConfirmed?(c(),h("div",us,[e("label",ns,u(o(s)("support.processingDate")),1),l(z,{modelValue:i.value.dateConfirmed,"onUpdate:modelValue":t[3]||(t[3]=p=>i.value.dateConfirmed=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):x("",!0),i.value.dateSolved?(c(),h("div",is,[e("label",rs,u(o(s)("support.completionDate")),1),l(z,{modelValue:i.value.dateSolved,"onUpdate:modelValue":t[4]||(t[4]=p=>i.value.dateSolved=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])])):x("",!0)])):x("",!0),e("div",_s,[e("label",ds,u(o(s)("table.theme")),1),l(z,{modelValue:i.value.theme,"onUpdate:modelValue":t[5]||(t[5]=p=>i.value.theme=p),disabled:!C.value,class:"support_details__input"},null,8,["modelValue","disabled"])]),e("div",cs,[e("label",ms,u(o(s)("table.message")),1),l(z,{modelValue:i.value.message,"onUpdate:modelValue":t[6]||(t[6]=p=>i.value.message=p),disabled:!C.value,type:"textarea",rows:4,class:"support_details__textarea"},null,8,["modelValue","disabled"])]),e("button",{class:"support_details__edit button button__primary",onClick:Ke},u(C.value?o(s)("button.save"):o(s)("button.edit")),1)]),i.value.answer?(c(),h("div",vs,[e("div",fs,[e("strong",null,u(o(s)("support.supportResponse")),1)]),e("div",hs,u(i.value.answer),1),(ye=i.value.replyFiles)!=null&&ye.length?(c(),h("div",bs,[e("strong",null,u(o(s)("support.supportFiles")),1),e("div",gs,[(c(!0),h(Q,null,le(i.value.replyFiles,p=>(c(),h("div",{key:p.name,class:"support_details__file_item"},[l(d,{class:"support_details__file_icon"},{default:_(()=>[(c(),R(Y(te(ee(p.name)))))]),_:2},1024),e("span",ys,u(p.name),1),e("span",ws,u(X(p.size)),1),l(A,{type:"primary",link:"",size:"small",icon:o(nt),title:o(s)("button.download"),class:"support_details__download_btn",onClick:O=>et(p)},null,8,["icon","title","onClick"])]))),128))])])):x("",!0)])):x("",!0),e("div",xs,[e("div",ks,[e("strong",null,u(o(s)("support.supportResponse")),1)]),l(z,{modelValue:B.value,"onUpdate:modelValue":t[7]||(t[7]=p=>B.value=p),disabled:!k.value,type:"textarea",rows:4,placeholder:o(s)("form.message"),class:"support_details__reply_textarea"},null,8,["modelValue","disabled","placeholder"]),e("div",Cs,[l(be,{action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Je,"on-change":me,"on-remove":ve,"show-file-list":!1,disabled:!k.value||F.value.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv","file-list":F.value},{trigger:_(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:!k.value||F.value.length>=5,support_popup__area_dragOver:H.value}]),onDragover:Qe,onDragleave:Ye,onDrop:Ze},[l(d,{class:"support_popup__area_icon title_two"},{default:_(()=>[l(o(oe))]),_:1}),e("div",Fs,[e("p",Vs,u(o(s)("support.attachFiles")),1),e("p",zs,u(o(s)("support.dragFiles")),1)])],34)]),_:1},8,["disabled","file-list"]),e("p",Ls,u(o(s)("support.format")),1),F.value.length>0?(c(),h("div",Ds,[e("div",Ss,[e("span",Es,u(o(s)("support.files"))+" ("+u(F.value.length)+"/5)",1),k.value?(c(),h("button",{key:0,onClick:Xe,class:"support_popup__clear"},[l(d,null,{default:_(()=>[l(o(we))]),_:1})])):x("",!0)]),e("div",As,[(c(!0),h(Q,null,le(F.value,(p,O)=>(c(),h("div",{key:O,class:"support_popup__item"},[e("div",Rs,[l(d,{class:"support_popup__icon"},{default:_(()=>[(c(),R(Y(te(ee(p.name)))))]),_:2},1024),e("div",Ts,[e("div",Us,u(p.name),1),e("p",Bs,u(X(p.size)),1)])]),k.value?(c(),h("button",{key:0,onClick:lt=>We(O),class:"support_popup__remove"},[l(d,null,{default:_(()=>[l(o(I))]),_:1})],8,$s)):x("",!0)]))),128))])])):x("",!0)]),e("button",{class:"support_details__reply_btn button button__primary",onClick:Ge},u(k.value?o(s)("button.save"):o(s)("button.edit")),1)])])]),e("div",Ms,[e("button",{class:"popup__button button__second button",onClick:W},u(o(s)("button.close")),1)])],2),e("div",{class:T(["support_delete popup popup__small",{active:$.value}])},[e("div",Os,[e("div",Is,[e("button",{class:"support_delete__close popup__close",onClick:K},[l(d,null,{default:_(()=>[l(o(I))]),_:1})]),e("h4",Ps,u(o(s)("support.deleteAppeal")),1),e("div",js,[e("p",Ns,u(o(s)("support.deleteConfirm")),1)])])]),e("div",qs,[e("button",{class:"popup__button button__second button",onClick:K},[e("span",null,u(o(s)("button.cancel")),1)]),e("button",{class:"popup__button button__red button",onClick:K},[e("span",null,u(o(s)("button.delete")),1)])])],2),e("div",{class:T(["support_popup popup",{active:j.value}])},[e("div",Hs,[e("div",Ks,[e("button",{class:"support_popup__close popup__close",onClick:Z},[l(d,null,{default:_(()=>[l(o(I))]),_:1})]),e("h4",Gs,u(o(s)("support.head")),1),l(ot,{ref_key:"supportFormRef",ref:ae,model:m,rules:re.value,class:"support_popup__flex"},{default:_(()=>[l(se,{prop:"theme"},{default:_(()=>[l(st,{modelValue:m.theme,"onUpdate:modelValue":t[8]||(t[8]=p=>m.theme=p),rules:re.value.theme,class:"support_popup__input",placeholder:o(s)("support.themes.placeholder"),"fetch-suggestions":Ue,clearable:""},null,8,["modelValue","rules","placeholder"])]),_:1}),l(se,{prop:"email"},{default:_(()=>[l(z,{modelValue:m.email,"onUpdate:modelValue":t[9]||(t[9]=p=>m.email=p),class:"support_popup__email",type:"email",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),l(se,{prop:"message"},{default:_(()=>[l(z,{modelValue:m.message,"onUpdate:modelValue":t[10]||(t[10]=p=>m.message=p),type:"textarea",class:"support_popup__textarea",placeholder:"Сообщение",rows:4},null,8,["modelValue"])]),_:1}),e("div",Js,[l(be,{"file-list":N.value,"onUpdate:fileList":t[11]||(t[11]=p=>N.value=p),action:"#","auto-upload":!1,multiple:!0,limit:5,"on-exceed":Ie,"on-change":_e,"on-remove":de,"show-file-list":!1,disabled:m.files.length>=5,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.csv"},{trigger:_(()=>[e("div",{class:T(["support_popup__area",{support_popup__area_disabled:m.files.length>=5,support_popup__area_dragOver:q.value}]),onDragover:Be,onDragleave:$e,onDrop:Me},[l(d,{class:"support_popup__area_icon title_two"},{default:_(()=>[l(o(oe))]),_:1}),e("div",Qs,[e("p",Ys,u(o(s)("support.attachFiles")),1),e("p",Zs,u(o(s)("support.dragFiles")),1)])],34)]),_:1},8,["file-list","disabled"]),e("p",Ws,u(o(s)("support.format")),1),m.files.length>0?(c(),h("div",Xs,[e("div",eo,[e("span",to,u(o(s)("support.files"))+" ("+u(m.files.length)+"/5)",1),e("button",{onClick:Oe,class:"support_popup__clear"},[l(d,null,{default:_(()=>[l(o(we))]),_:1})])]),e("div",so,[(c(!0),h(Q,null,le(m.files,(p,O)=>(c(),h("div",{key:O,class:"support_popup__item"},[e("div",oo,[l(d,{class:"support_popup__icon"},{default:_(()=>[(c(),R(Y(te(ee(p.name)))))]),_:2},1024),e("div",lo,[e("div",ao,u(p.name),1),e("p",po,u(X(p.size)),1)])]),e("button",{onClick:lt=>de(p),class:"support_popup__remove"},[l(d,null,{default:_(()=>[l(o(I))]),_:1})],8,uo)]))),128))])])):x("",!0)])]),_:1},8,["model","rules"])])]),e("div",no,[e("button",{class:"popup__button button__second button",onClick:Z},u(o(s)("button.cancel")),1),e("button",{class:"popup__button button__primary button",onClick:t[12]||(t[12]=p=>Pe(ae.value))},u(o(s)("button.send")),1)])],2),l(mt)],64)}}}),Jo=Vt(io,[["__scopeId","data-v-8ae7e836"]]);export{Jo as default};
