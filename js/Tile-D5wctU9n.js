import{d as G,e as g,m as U,n as H,U as N,f as I,o as J,c as K,a as Q,E as Z}from"./vendor-@vue-Bz_wJ882.js";import{_ as tt}from"./LogoSVG-DbKoxXUD.js";const ot={class:"tile"},et=G({__name:"Tile",props:{isActive:{type:Boolean,default:!1},rows:{default:3},cols:{default:4},color:{default:"var(--color)"}},setup(L){const h=L,c=g(),w=g(0),X=g({width:0,height:0}),R=g([]),T=g([]),F=g(0),O=g(0),$=g(0),C=g(!1),E=()=>{R.value=[];const t=h.rows,e=h.cols;for(let o=0;o<t;o++)for(let n=0;n<e;n++){const r=o*e+n+1,a=100/e,s=100/t,y=n*a,p=o*s,u=Math.random()*.3,l=.5+Math.random()*1,d=.4+Math.random()*.6,f=Math.random()*Math.PI*2,m=.003+Math.random()*.002,i=.0025+Math.random()*.0025;R.value.push({id:r,x:y,y:p,width:a,height:s,baseOpacity:d,delay:u,duration:l,startTime:0,rotationX:0,rotationY:0,rotationSpeedX:m,rotationSpeedY:i,targetRotationX:(Math.random()-.5)*.15,targetRotationY:(Math.random()-.5)*.1,rotationPhase:f,lastRotationX:0,lastRotationY:0,lastOpacity:0,currentOpacity:0,currentRotationX:0,currentRotationY:0})}T.value=[];for(let o=1;o<t;o++)T.value.push({type:"horizontal",position:100/t*o,visible:!1});for(let o=1;o<e;o++)T.value.push({type:"vertical",position:100/e*o,visible:!1})},P=(t,e,o=.1)=>t+(e-t)*o,B=(t,e)=>{if(!h.isActive)return{opacity:0,rotationX:0,rotationY:0};const o=(e-t.startTime)/1e3;if(o<t.delay){const i=Math.min(o/t.delay,1),b=i*i*(3-2*i);return{opacity:t.baseOpacity*.3+t.baseOpacity*.3*b,rotationX:t.targetRotationX*.3*b,rotationY:t.targetRotationY*.3*b}}const r=(o-t.delay)%t.duration/t.duration;let a;if(r<.3){const i=r/.3;a=t.baseOpacity*(.7+.3*i)}else if(r<.6){const i=(r-.3)/.3;a=t.baseOpacity*(1+.2*i)}else if(r<.8){const i=(r-.6)/.2;a=t.baseOpacity*(1.2-.4*i)}else{const i=(r-.8)/.2;a=t.baseOpacity*(.8-.1*i)}const s=e*8e-4,y=t.targetRotationX+Math.sin(s*t.rotationSpeedX+t.rotationPhase)*.05,p=t.targetRotationY+Math.sin(s*t.rotationSpeedY+t.rotationPhase*1.7)*.04,u=.15,l=r<u?r/u:1,d=.15,f=r>1-d?(1-r)/d:1,m=Math.min(l,f);return{opacity:Math.min(a,1)*m,rotationX:y*m,rotationY:p*m}},Y=(t,e,o,n,r,a)=>{const s=Math.cos(o),y=Math.sin(o),p=Math.cos(n),u=Math.sin(n),l=(t-.5)*2,d=(e-.5)*2,f=d*s,m=d*y,i=l*p+m*u,b=-l*u+m*p,M=8,v=M/(M+b),S=(i*v+1)/2*r,q=(f*v+1)/2*a;return{x:S,y:q}};U(()=>{console.log("ðŸŽ¬ Tile mounted - Ð˜ÐÐ˜Ð¦Ð˜ÐÐ›Ð˜Ð—ÐÐ¦Ð˜Ð¯"),H(()=>{x(),E();const t=performance.now();R.value.forEach(e=>{e.startTime=t}),z(),C.value=!0,console.log("âœ… ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½"),window.addEventListener("resize",_)})}),N(()=>{W(),window.removeEventListener("resize",_)}),I(()=>h.isActive,t=>{if(C.value&&t){const e=performance.now();R.value.forEach(o=>{o.startTime=e,o.lastOpacity=0,o.currentOpacity=0,o.lastRotationX=0,o.lastRotationY=0,o.currentRotationX=0,o.currentRotationY=0}),z(),D()}},{immediate:!0}),I(()=>[h.rows,h.cols,h.color],()=>{C.value&&(E(),h.isActive&&requestAnimationFrame(()=>A()))},{deep:!0});function _(){if(!c.value)return;const t=c.value.parentElement;if(!t)return;const e=t.getBoundingClientRect();X.value={width:e.width,height:e.height},x(),h.isActive&&requestAnimationFrame(()=>A())}function x(){if(!c.value||!c.value.parentElement)return;const e=c.value.parentElement.getBoundingClientRect();if(e.width===0||e.height===0){setTimeout(()=>x(),10);return}X.value={width:e.width,height:e.height};const o=window.devicePixelRatio||1;c.value.width=Math.floor(e.width*o),c.value.height=Math.floor(e.height*o),c.value.style.width=`${e.width}px`,c.value.style.height=`${e.height}px`}function z(){const t=performance.now();F.value=t,O.value=t,$.value=0,R.value.forEach(e=>{e.startTime=t,e.lastRotationX=0,e.lastRotationY=0,e.lastOpacity=0,e.currentOpacity=0,e.currentRotationX=0,e.currentRotationY=0}),w.value&&cancelAnimationFrame(w.value),k()}function D(){const t=[300,400,500,600];T.value.forEach((e,o)=>{o<t.length&&setTimeout(()=>{e.visible=!0},t[o])})}function W(){w.value&&(cancelAnimationFrame(w.value),w.value=0)}function k(){const t=performance.now(),e=Math.min(t-O.value,50);O.value=t,V(t,e),A(),w.value=requestAnimationFrame(k)}function V(t,e){const o=e/16;R.value.forEach(n=>{const r=B(n,t);n.currentOpacity=P(n.currentOpacity,r.opacity,.08*o),n.currentRotationX=P(n.currentRotationX,r.rotationX,.06*o),n.currentRotationY=P(n.currentRotationY,r.rotationY,.06*o)})}function A(t){const e=c.value;if(!e)return;const o=e.getContext("2d");if(!o)return;const n=X.value.width,r=X.value.height;n===0||r===0||(o.clearRect(0,0,n,r),h.isActive||(o.fillStyle="rgba(0, 0, 0, 0.02)",o.fillRect(0,0,n,r)),R.value.forEach(a=>{const s=a.x/100*n,y=a.y/100*r,p=a.width/100*n,u=a.height/100*r,l=[Y(0,0,a.currentRotationX,a.currentRotationY,p,u),Y(1,0,a.currentRotationX,a.currentRotationY,p,u),Y(1,1,a.currentRotationX,a.currentRotationY,p,u),Y(0,1,a.currentRotationX,a.currentRotationY,p,u)];o.save(),o.beginPath(),o.moveTo(s+l[0].x,y+l[0].y);for(let v=1;v<l.length;v++)o.lineTo(s+l[v].x,y+l[v].y);o.closePath();const d=h.color;let f="#4a90e2";if(d.startsWith("#"))f=d;else if(d.startsWith("var"))try{const v=d.replace("var(","").replace(")","").trim(),S=getComputedStyle(document.documentElement).getPropertyValue(v);S&&(f=S)}catch{}const m=parseInt(f.slice(1,3),16)||74,i=parseInt(f.slice(3,5),16)||144,b=parseInt(f.slice(5,7),16)||226,M=1-Math.abs(a.currentRotationX+a.currentRotationY)*.05;o.fillStyle=`rgba(
      ${Math.min(Math.round(m*M),255)}, 
      ${Math.min(Math.round(i*M),255)}, 
      ${Math.min(Math.round(b*M),255)}, 
      ${a.currentOpacity}
    )`,o.fill(),a.currentOpacity>.1&&(o.strokeStyle=`rgba(255, 255, 255, ${a.currentOpacity*.03})`,o.lineWidth=.15,o.stroke()),o.restore()}),j(n,r))}function j(t,e){const o=c.value;if(!o)return;const n=o.getContext("2d");n&&T.value.forEach(r=>{if(r.visible){if(n.save(),r.type==="horizontal"){const a=r.position/100*e,s=n.createLinearGradient(0,a,t,a);s.addColorStop(0,"rgba(255, 255, 255, 0)"),s.addColorStop(.2,"rgba(255, 255, 255, 0.4)"),s.addColorStop(.8,"rgba(255, 255, 255, 0.4)"),s.addColorStop(1,"rgba(255, 255, 255, 0)"),n.strokeStyle=s,n.lineWidth=1.2,n.setLineDash([2,3]),n.beginPath(),n.moveTo(0,a),n.lineTo(t,a),n.stroke()}else{const a=r.position/100*t,s=n.createLinearGradient(a,0,a,e);s.addColorStop(0,"rgba(255, 255, 255, 0)"),s.addColorStop(.2,"rgba(255, 255, 255, 0.4)"),s.addColorStop(.8,"rgba(255, 255, 255, 0.4)"),s.addColorStop(1,"rgba(255, 255, 255, 0)"),n.strokeStyle=s,n.lineWidth=1.2,n.setLineDash([2,3]),n.beginPath(),n.moveTo(a,0),n.lineTo(a,e),n.stroke()}n.restore()}})}return(t,e)=>(J(),K("div",ot,[Q("canvas",{ref_key:"canvasRef",ref:c,class:"tile__canvas",style:Z({opacity:t.isActive?1:0,transition:"opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1)",transitionDelay:t.isActive?"0.1s":"0s"})},null,4)]))}}),rt=tt(et,[["__scopeId","data-v-ba061844"]]);export{rt as T};
