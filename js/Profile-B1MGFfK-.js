import{u as ce}from"./vendor-vue-router-0eOeNsIj.js";import{F as re,am as de,an as P,W as ue,ao as w,d as F,T as fe,ap as pe,aq as me,ar as ve,as as he,at as ge,x as Ce,X as we}from"./vendor-@element-plus-CUZI0sh3.js";import{H as Fe}from"./Header-BNvIauze.js";import{F as be}from"./Footer-vBnifiax.js";import{G as Ae}from"./GoBack-Bo3lBTwo.js";import{T as Le,_ as Se}from"./LogoSVG-DSRBPisY.js";import{P as M}from"./ProfileList-CaOlJTbO.js";import{P as Ie}from"./ProfileFaq-Q918Qs-h.js";import{C as Oe}from"./Cubes-DEPuY-Q0.js";import{B as Ve}from"./Back-nrL-Lfmg.js";import{P as ke}from"./Preloader-secxa8Ew.js";import{T as y}from"./index-DkLX5a01.js";import{E as N}from"./vendor-element-plus-bkQyxvUe.js";import{d as Te,e as u,b as G,m as Ee,c as U,R as s,I as O,a as e,J as d,u as t,P as n,M as q,D as K,Q as W,al as I,o as b,O as $,a4 as ye,L as Ne}from"./vendor-@vue-Bz_wJ882.js";import{u as Be}from"./vendor-vue-i18n-DztdJ-Qd.js";import"./VideoPlayer-BZcW_-s3.js";import"./vendor-geotiff-C_3MgS82.js";import"./vendor-xml-utils-DQPdAQjV.js";import"./vendor-dayjs-B_aAqRSu.js";import"./vendor-@petamoriken-D_Z9L4hp.js";import"./vendor-quick-lru-D3vInPgE.js";import"./vendor-pako-CPws4d4z.js";import"./vendor-lerc-BuCIBY1L.js";import"./vendor-zstddec-zw5PE4Vj.js";import"./vendor-web-worker-2oq5GE5I.js";import"./vendor-axios-BimPEqV4.js";import"./vendor-vue-tel-input-BG99aFNs.js";import"./vendor-@intlify-CQT3u4ju.js";import"./vendor-lodash-es-Cq1PUQc0.js";import"./vendor-@vueuse-DRxsj0DG.js";import"./vendor-@popperjs-D9SI2xQl.js";import"./vendor-@ctrl-r5W6hzzQ.js";import"./vendor-async-validator-DKvM95Vc.js";import"./vendor-memoize-one-BdPwpGay.js";import"./vendor-normalize-wheel-es-B6fDCfyv.js";import"./vendor-@floating-ui-DF51-gJp.js";const xe={key:1,class:"profile"},Ue={class:"profile__container container"},Re={class:"profile__block"},De={class:"profile__flex list_flex"},Pe={class:"profile__left list_left"},Me={class:"profile__list list_scroll"},Ge={class:"profile__right list_right"},qe={class:"breadcrumbs"},Ke={class:"breadcrumbs__list"},We={class:"breadcrumbs__item"},$e={class:"breadcrumbs__item"},ze={class:"breadcrumbs__item"},He=["title"],Je={class:"faq__icon"},Qe={class:"profile__select"},Xe={class:"custom__content"},Ye={class:"profile__settings"},je={class:"profile__settings_title title_three"},Ze={class:"profile__settings_list"},et={class:"profile__settings_item"},tt={class:"profile__settings_info"},ot={class:"profile__settings_header"},st={class:"profile__settings_head"},it={class:"profile__settings_description text_four"},lt={class:"profile__settings_theme"},at={class:"profile__settings_item"},nt={class:"profile__settings_info"},_t={class:"profile__settings_header"},ct={class:"profile__settings_head"},rt={class:"profile__settings_description text_four"},dt={class:"profile__settings_item"},ut={class:"profile__settings_info"},ft={class:"profile__settings_header"},pt={class:"profile__settings_head"},mt={class:"profile__settings_description text_four"},vt={class:"profile__settings_item"},ht={class:"profile__settings_info"},gt={class:"profile__settings_header"},Ct={class:"profile__settings_head"},wt={class:"profile__settings_description text_four"},Ft={class:"profile__settings_item"},bt={class:"profile__settings_info"},At={class:"profile__settings_header"},Lt={class:"profile__settings_head"},St={class:"profile__settings_description text_four"},It={class:"profile__settings_item"},Ot={class:"profile__settings_info"},Vt={class:"profile__settings_header"},kt={class:"profile__settings_head"},Tt={class:"profile__settings_description text_four"},Et={class:"profile__settings_item"},yt={class:"profile__settings_info"},Nt={class:"profile__settings_header"},Bt={class:"profile__settings_head"},xt={class:"profile__settings_description text_four"},Ut={class:"profile__settings_item"},Rt={class:"profile__settings_info"},Dt={class:"profile__settings_header"},Pt={class:"profile__settings_head"},Mt={class:"profile__settings_description text_four"},Gt={class:"profile__settings_item"},qt={class:"profile__settings_info"},Kt={class:"profile__settings_header"},Wt={class:"profile__settings_head"},$t={class:"profile__settings_description text_four"},zt={class:"profile__settings_item"},Ht={class:"profile__settings_info"},Jt={class:"profile__settings_header"},Qt={class:"profile__settings_head"},Xt={class:"profile__settings_description text_four"},Yt={class:"profile__settings_actions"},jt={class:"button__icon"},Zt={class:"ipopup__scroll popup__scroll"},eo={class:"ipopup__block popup__block"},to=Te({__name:"Profile",setup(oo){const R=ce(),{t:l,locale:z}=Be(),H=u(!1),B=u(!1),V=u(!1),J=y.supportedLocales,Q=G(()=>`${l("elmessage.localeSuccess")}`),X=G(()=>`${l("elmessage.formError")}`),A=u(!0),L=u(!1),S=u(!0),D=u(z.value),a={NOTIFICATIONS:"notifications",TWO_FACTOR:"twoFactorAuth",EMAIL_NOTIFICATIONS:"emailNotifications",CUBES:"animationCubes",LAVA:"animationLava",BACK:"animationBack",LOGO:"animationLogo",ALL:"animationAll"},x=()=>{V.value=!V.value,B.value=!B.value,V.value?document.documentElement.classList.add("noscroll"):document.documentElement.classList.remove("noscroll")},p=u(!1),h=u(!1),m=u(!1),g=u(!1),C=u(!1),Y=()=>{try{const o=localStorage.getItem(a.CUBES),i=localStorage.getItem(a.LAVA),v=localStorage.getItem(a.BACK),r=localStorage.getItem(a.LOGO),k=localStorage.getItem(a.ALL);p.value=o!==null?o==="true":!1,h.value=i!==null?i==="true":!1,m.value=v!==null?v==="true":!1,g.value=r!==null?r==="true":!1,C.value=k!==null?k==="true":!1;const T=localStorage.getItem(a.NOTIFICATIONS),E=localStorage.getItem(a.TWO_FACTOR),f=localStorage.getItem(a.EMAIL_NOTIFICATIONS);A.value=T!==null?T==="true":!0,L.value=E!==null?E==="true":!1,S.value=f!==null?f==="true":!0}catch(o){console.error("Ошибка при загрузке настроек из localStorage:",o),A.value=!0,L.value=!1,S.value=!0,p.value=!1,h.value=!1,m.value=!1,g.value=!1,C.value=!1}},c=(o,i)=>{try{localStorage.setItem(o,i.toString())}catch(v){console.error(`Ошибка при сохранении настройки ${o} в localStorage:`,v),N.warning(l("profile.storageError"))}},j=o=>{A.value=o,c(a.NOTIFICATIONS,o)},Z=o=>{L.value=o,c(a.TWO_FACTOR,o)},ee=o=>{S.value=o,c(a.EMAIL_NOTIFICATIONS,o)},te=o=>{p.value=o,c(a.CUBES,o);const i=new CustomEvent("animation-setting-changed",{detail:{key:"animationCubes",value:o}});window.dispatchEvent(i)},oe=o=>{h.value=o,c(a.LAVA,o);const i=new CustomEvent("animation-setting-changed",{detail:{key:"animationLava",value:o}});window.dispatchEvent(i)},se=o=>{m.value=o,c(a.BACK,o);const i=new CustomEvent("animation-setting-changed",{detail:{key:"animationBack",value:o}});window.dispatchEvent(i)},ie=o=>{g.value=o,c(a.LOGO,o);const i=new CustomEvent("animation-setting-changed",{detail:{key:"animationLogo",value:o}});window.dispatchEvent(i)},le=o=>{C.value=o,c(a.ALL,o);const i=new CustomEvent("animation-setting-changed",{detail:{key:"animationAll",value:o}});window.dispatchEvent(i)};Ee(()=>{Y()});const ae=async o=>{try{await y.switchLanguage(o),N.success(Q.value);try{await R.replace({params:{locale:o}})}catch{R.push("/")}}catch(i){N.error(X.value),console.error(i)}},ne=J.map(o=>({value:o,label:l(`locale.${o}`)})),_e=()=>{A.value=!0,L.value=!1,S.value=!0,p.value=!1,h.value=!1,m.value=!1,g.value=!1,C.value=!1,c(a.NOTIFICATIONS,A.value),c(a.TWO_FACTOR,L.value),c(a.EMAIL_NOTIFICATIONS,S.value),c(a.CUBES,p.value),c(a.LAVA,h.value),c(a.BACK,m.value),c(a.LOGO,g.value),c(a.ALL,C.value),["animationCubes","animationLava","animationBack","animationLogo","animationAll"].forEach((o,i)=>{const v=new CustomEvent("animation-setting-changed",{detail:{key:o,value:[p.value,h.value,m.value,g.value,C.value][i]}});window.dispatchEvent(v)}),N.info(l("profile.resetMessage"))};return(o,i)=>{const v=I("RouterLink"),r=I("el-icon"),k=I("router-view"),T=I("el-option"),E=I("el-select"),f=I("el-switch");return b(),U(W,null,[s(Fe),H.value?(b(),O(ke,{key:0})):(b(),U("section",xe,[e("div",Ue,[e("div",Re,[e("div",De,[e("div",Pe,[e("ul",Me,[s(M,{"is-mobile":!1})])]),e("div",Ge,[e("div",qe,[e("ul",Ke,[e("li",We,[s(Ae)]),e("li",$e,[s(v,{class:"breadcrumbs__link text_four",to:t(y).i18nRoute({name:"preloader"})},{default:d(()=>[$(n(t(l)("header.home")),1)]),_:1},8,["to"])]),e("li",ze,[s(v,{class:"breadcrumbs__link text_four",to:t(y).i18nRoute({name:"profile"})},{default:d(()=>[$(n(t(l)("header.profile")),1)]),_:1},8,["to"])])]),e("button",{class:"breadcrumbs__instructions title_three",title:t(l)("header.instructions"),onClick:x},[e("span",Je,[s(r,null,{default:d(()=>[s(t(re))]),_:1})])],8,He)]),e("div",Qe,[s(M,{"is-mobile":!0})]),e("div",Xe,[s(k)]),e("div",Ye,[e("h1",je,n(t(l)("profile.settings")),1),e("div",Ze,[e("div",et,[e("div",tt,[e("div",ot,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(de))]),_:1}),e("h5",st,n(t(l)("profile.theme")),1)]),e("p",it,n(t(l)("profile.themeDescription")),1)]),e("div",lt,[s(Le)])]),e("div",at,[e("div",nt,[e("div",_t,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(P))]),_:1}),e("h5",ct,n(t(l)("profile.language")),1)]),e("p",rt,n(t(l)("profile.languageDescription")),1)]),s(E,{modelValue:D.value,"onUpdate:modelValue":i[0]||(i[0]=_=>D.value=_),class:"profile__settings_language",size:"small",placeholder:t(l)("locale.language"),onChange:ae},{default:d(()=>[(b(!0),U(W,null,ye(t(ne),_=>(b(),O(T,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),e("div",dt,[e("div",ut,[e("div",ft,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(ue))]),_:1}),e("h5",pt,n(t(l)("profile.notifications")),1)]),e("p",mt,n(t(l)("profile.notificationsDescription")),1)]),s(f,{modelValue:A.value,"onUpdate:modelValue":i[1]||(i[1]=_=>A.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:j},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",vt,[e("div",ht,[e("div",gt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(fe))]),_:1}),e("h5",Ct,n(t(l)("profile.twoFactor")),1)]),e("p",wt,n(t(l)("profile.twoFactorDescription")),1)]),s(f,{modelValue:L.value,"onUpdate:modelValue":i[2]||(i[2]=_=>L.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:Z},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",Ft,[e("div",bt,[e("div",At,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(pe))]),_:1}),e("h5",Lt,n(t(l)("profile.emailNotifications")),1)]),e("p",St,n(t(l)("profile.emailNotificationsDescription")),1)]),s(f,{modelValue:S.value,"onUpdate:modelValue":i[3]||(i[3]=_=>S.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:ee},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",It,[e("div",Ot,[e("div",Vt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(me))]),_:1}),e("h5",kt,n(t(l)("profile.cubes")),1)]),e("p",Tt,n(t(l)("profile.animationCubes")),1)]),s(f,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=_=>p.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:te},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",Et,[e("div",yt,[e("div",Nt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(ve))]),_:1}),e("h5",Bt,n(t(l)("profile.lava")),1)]),e("p",xt,n(t(l)("profile.animationLava")),1)]),s(f,{modelValue:h.value,"onUpdate:modelValue":i[5]||(i[5]=_=>h.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:oe},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",Ut,[e("div",Rt,[e("div",Dt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(he))]),_:1}),e("h5",Pt,n(t(l)("profile.back")),1)]),e("p",Mt,n(t(l)("profile.animationBack")),1)]),s(f,{modelValue:m.value,"onUpdate:modelValue":i[6]||(i[6]=_=>m.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:se},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",Gt,[e("div",qt,[e("div",Kt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(ge))]),_:1}),e("h5",Wt,n(t(l)("profile.logo")),1)]),e("p",$t,n(t(l)("profile.animationLogo")),1)]),s(f,{modelValue:g.value,"onUpdate:modelValue":i[7]||(i[7]=_=>g.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:ie},null,8,["modelValue","active-icon","inactive-icon"])]),e("div",zt,[e("div",Ht,[e("div",Jt,[s(r,{class:"profile__settings_icon"},{default:d(()=>[s(t(P))]),_:1}),e("h5",Qt,n(t(l)("profile.allAnimations")),1)]),e("p",Xt,n(t(l)("profile.allAnimationsDescription")),1)]),s(f,{modelValue:C.value,"onUpdate:modelValue":i[8]||(i[8]=_=>C.value=_),width:"44",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#F0F2F5"},"inline-prompt":"","active-icon":t(w),"inactive-icon":t(F),onChange:le},null,8,["modelValue","active-icon","inactive-icon"])])]),e("div",Yt,[e("button",{class:"profile__settings_button button__second button",onClick:_e},[e("span",jt,[s(r,null,{default:d(()=>[(b(),O(Ne(t(Ce))))]),_:1})]),e("span",null,n(o.$t("profile.reset")),1)])])]),p.value?(b(),O(Oe,{key:0})):q("",!0),m.value?(b(),O(Ve,{key:1})):q("",!0)])])])])])),e("div",{class:K(["overlay_full",{active:B.value}]),onClick:x},null,2),e("div",{class:K(["ipopup popup",{active:V.value}])},[e("div",Zt,[e("div",eo,[e("button",{class:"ipopup__close popup__close",onClick:x},[s(r,null,{default:d(()=>[s(t(we))]),_:1})]),s(Ie)])])],2),s(be)],64)}}}),Mo=Se(to,[["__scopeId","data-v-857fbe47"]]);export{Mo as default};
